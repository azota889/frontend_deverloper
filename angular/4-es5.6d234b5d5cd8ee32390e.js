!function(){function t(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Q0Xt:function(e,i,a){"use strict";a.d(i,"a",function(){return St});var o=a("PqYM"),c=a("itXk"),r=a("AytR"),l=a("fXoL"),u=a("yTNM"),b=a("0IaG"),m=a("gbi4"),f=a("sYmb"),d=a("Avyq"),g=a("tyNb"),h=a("s65G"),p=a("ofXK"),v=a("nzN9"),x=a("NFeN"),C=a("wZkO"),w=a("hZBc"),y=a("k3bj"),O=a("gaSO");function _(t,e){if(1&t&&(l.Ub(0,"div",7),l.Ub(1,"div",3),l.Pb(2,"img",8),l.gc(3,"mycdn"),l.Tb(),l.Tb()),2&t){var n=l.fc();l.mc("ngStyle",n.avatarStyle),l.Cb(2),l.nc("src",l.hc(3,2,n.avatarUrl),l.Gc)}}function k(t,e){if(1&t&&(l.Ub(0,"p",9),l.Pc(1),l.gc(2,"date"),l.Tb()),2&t){var n=l.fc();l.Cb(1),l.Rc("Ng\xe0y sinh: ",l.ic(2,1,n.birthDay,"dd/MM/YYYY"),"")}}function P(t,e){if(1&t&&(l.Ub(0,"p",10),l.Pc(1),l.gc(2,"anonymousPhone"),l.Tb()),2&t){var n=l.fc();l.Cb(1),l.Rc("\u0110i\u1ec7n tho\u1ea1i: ",l.hc(2,1,n.phone),"")}}var T,I=["*"],M=((T=function(){function t(e,i,s,a,o){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=a,this.apiService=o,this.avatarUrl="http://stume.net:8082/azota/images/home/u64.png",this.name="V\u0169 Qu\u1ed1c \u0110\u1ea1t",this.birthDay="14/08/1991",this.phone="0936811278",this.showAvatar=!0,this.containerStyle={},this.borderStyle={padding:"0px",border:"none"},this.flexStyle={"flex-direction":"row"},this.avatarStyle={}}return s(t,[{key:"ngOnInit",value:function(){this.containerStyle=Object.assign(Object.assign({},this.borderStyle),this.flexStyle)}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||T)(l.Ob(g.a),l.Ob(g.i),l.Ob(m.a),l.Ob(d.e),l.Ob(u.a))},T.\u0275cmp=l.Ib({type:T,selectors:[["azt-basic-info-box"]],inputs:{avatarUrl:"avatarUrl",name:"name",birthDay:"birthDay",phone:"phone",showAvatar:"showAvatar",containerStyle:"containerStyle",borderStyle:"borderStyle",flexStyle:"flexStyle",avatarStyle:"avatarStyle"},ngContentSelectors:I,decls:9,vars:5,consts:[[1,"azt_container",3,"ngStyle"],["class","avatar azt_item",3,"ngStyle",4,"ngIf"],[1,"info_text","azt_item"],[1,"wrap-content"],[1,"info_text-item","bold"],["class","info_text-item",4,"ngIf"],["class","info_text-item truncate",4,"ngIf"],[1,"avatar","azt_item",3,"ngStyle"],["alt","person avatar image",3,"src"],[1,"info_text-item"],[1,"info_text-item","truncate"]],template:function(t,e){1&t&&(l.lc(),l.Ub(0,"div",0),l.Nc(1,_,4,4,"div",1),l.Ub(2,"div",2),l.Ub(3,"div",3),l.Ub(4,"p",4),l.Pc(5),l.Tb(),l.Nc(6,k,3,4,"p",5),l.Nc(7,P,3,3,"p",6),l.kc(8),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.mc("ngStyle",e.containerStyle),l.Cb(1),l.mc("ngIf",e.showAvatar),l.Cb(4),l.Qc(e.name),l.Cb(1),l.mc("ngIf",e.birthDay),l.Cb(1),l.mc("ngIf",e.phone))},directives:[p.n,p.m],pipes:[O.g,p.e,O.b],styles:[".azt_container[_ngcontent-%COMP%]{display:flex;align-items:center}.azt_container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:80px;margin-right:10px}.azt_container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .wrap-content[_ngcontent-%COMP%]{width:100%;height:80px;border-radius:50%;overflow:hidden}.azt_container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .wrap-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.azt_container[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]{flex:auto;overflow:hidden}.azt_container[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]   .info_text-item[_ngcontent-%COMP%]{margin-bottom:0}.azt_container[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]   .info_text-item.bold[_ngcontent-%COMP%]{font-weight:500}.azt_container[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]   .info_text-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]}),T),j=a("Qu3c"),q=a("kmnG"),S=a("d3UM"),R=a("3Pt+"),U=a("FKr1"),N=a("gJ4n"),E=a("quSY"),A=a("bTqV");function D(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",9),l.Ub(1,"mat-icon",10),l.bc("click",function(t){l.Cc(n);var i=e.index;return l.fc().toggleVisibility(t,i)}),l.Pc(2,"visibility_off"),l.Tb(),l.Ub(3,"span",11),l.Pc(4),l.Ub(5,"span",12),l.Pc(6),l.Tb(),l.Tb(),l.Pb(7,"input",13),l.Tb()}if(2&t){var i=e.$implicit,s=e.index,a=l.fc();l.Cb(4),l.Rc("C\xe2u ",i.indexLabel+1," "),l.Cb(2),l.Rc("(",i.essMaxPoint," \u0111i\u1ec3m)"),l.Cb(1),l.oc("formControlName","cau",s,""),l.mc("readonly",!a.isBackEnd)}}function L(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",14),l.Ub(1,"button",15),l.bc("click",function(){return l.Cc(n),l.fc().getMnoteJsonData()}),l.Pc(2),l.Tb(),l.Tb()}if(2&t){var i=l.fc();l.Cb(1),l.mc("disabled",i.isLoading),l.Cb(1),l.Qc(i.isLoading?"\u0110ang l\u01b0u...":"L\u01b0u \u0111i\u1ec3m")}}function B(t,e){if(1&t&&(l.Ub(0,"div",16),l.Ub(1,"div",17),l.Pb(2,"azt-question-item",18),l.Tb(),l.Tb()),2&t){var n=e.$implicit,i=e.index,s=l.fc();l.Cb(1),l.oc("id","q_",i,""),l.Cb(1),l.mc("examObj",s.examObj)("question",n)("index",n.indexLabel)("configExam",s.configExam)("userAnswersObj",s.userAnswersObj)("place","essay")}}function z(t,e){1&t&&(l.Ub(0,"div",19),l.Ub(1,"b"),l.Pc(2,"\u1ea2nh b\xe0i l\xe0m t\u1ef1 lu\u1eadn: "),l.Tb(),l.Pc(3,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u1ea3nh b\xe0i l\xe0m t\u1ef1 lu\u1eadn c\u1ee7a th\xed sinh."),l.Tb())}var F,Q=function(t){return{display:t}},V=((F=function(){function t(e,i,s){var a=this;n(this,t),this.apiService=e,this.fb=i,this.commonService=s,this.isBackEnd=!0,this.resultID=0,this.files=[],this.questions=[],this.userAnswersObj={},this.examResultObj={},this.iframeSrc=r.a.classliveUrl+"?t="+Date.now(),this.examQuestionObjs=[],this.configExam={},this.examObj={},this.saveResultEvent=new l.o,this.totalMaxPoint=0,this.form=new R.k({}),this.maxPointPerQuestion=[],this.subscriptions=new E.a,this.isLoading=!1,this.jsonData={},this.mnoteJsonData={},this.pagesCount=0,this.handleIframe=function(t){if("MNoteJson"==t.data.cmd&&(a.isLoading=!0,a.mnoteJsonData=t.data.data,a.uploadAll(a.mnoteJsonData.pages)),"MNoteLoadComplete"==t.data){var e=document.getElementById("mNote").contentWindow;if(null!==e)if(a.examResultObj.confirmedAt){if(a.examResultObj.result){var n=a.commonService.parseJson(a.examResultObj.result);if(null!=n){for(var i=0;i<n.pages.length;i++)n.pages[i].backgroundImage&&(n.pages[i].backgroundImage=a.commonService.getMyCdn(n.pages[i].backgroundImage)),n.pages[i].draw&&(n.pages[i].draw=a.commonService.getMyCdn(n.pages[i].draw));n=JSON.stringify(n),a.examResultObj.result=n}}if(a.jsonData=a.commonService.parseJson(a.examResultObj.result),a.jsonData&&a.jsonData.hasOwnProperty("pages"))for(var s=0;s<a.jsonData.pages.length;s++)a.jsonData.pages[s].hasOwnProperty("backgroundImage")&&(a.jsonData.pages[s].backgroundImage=a.commonService.getMyCdn(a.jsonData.pages[s].backgroundImage)),a.jsonData.pages[s].hasOwnProperty("draw")&&(a.jsonData.pages[s].draw=a.commonService.getMyCdn(a.jsonData.pages[s].draw));a.jsonData.cmd="initMNote",a.jsonData.mode="edit",a.jsonData.context="exam",e.postMessage(a.jsonData,"*")}else{var o=[];a.files.forEach(function(t){o.push({backgroundImage:a.commonService.getMyCdn(t.url)})}),e.postMessage({cmd:"initMNote",pages:o,mode:"edit",context:"exam"},"*")}}}}return s(t,[{key:"uploadBase64ToCDN",value:function(t,e){var n=this,i=this.apiService.dataURItoBlob(t),s=r.a.base_upload_api+"get_public_upload_url";s+="?file_name="+encodeURIComponent("essay_note_".concat(e,"_").concat(this.resultID,".png")),s+="&file_size="+encodeURIComponent("10000"),s+="&minetype="+encodeURIComponent("image/png");var a={Authorization:"Bearer "+this.apiService.getToken()};this.apiService.commonHttp(s,a,!1).subscribe(function(t){if(1!=t.success)throw"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";var s=t.data.url;n.apiService.commonPutHttp(t.data.upload_url,{"Content-Type":"image/png","x-amz-acl":"public-read"},i).subscribe(function(t){if(t&&t.success&&0==t.success)throw"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";n.mnoteJsonData.pages[e].draw=n.commonService.getMyCdn(s),n.pagesCount--,0==n.pagesCount&&n.remark(JSON.stringify(n.mnoteJsonData))})})}},{key:"parseValue",value:function(t){return this.commonService.parseJson(this.examResultObj.essayResult)[t]}},{key:"uploadAll",value:function(t){this.pagesCount=0;for(var e=0;e<t.length;e++)t[e].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(JSON.stringify(this.mnoteJsonData));else for(var n=0;n<t.length;n++)t[n].draw&&this.uploadBase64ToCDN(t[n].draw,n)}},{key:"getMaxPoint",value:function(t){for(var e=0,n=0;n<this.examQuestionObjs.length;n++)if(this.examQuestionObjs[n].questionId==t){e=this.commonService.parseJson(this.examQuestionObjs[n].config).ScorePerQuestion;break}return e}},{key:"remark",value:function(t){var e=this,n=0;for(var i in this.form.value)n+=""!=this.form.value[i]&&this.form.value[i]?parseFloat(this.form.value[i]):0;this.apiService.saveEssayMark(this.resultID,n,t,JSON.stringify(this.form.value)).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Ch\u1ea5m \u0111i\u1ec3m t\u1ef1 lu\u1eadn th\xe0nh c\xf4ng",""),e.saveResultEvent.emit(1),e.isLoading=!1):(e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError("Ch\u1ea5m \u0111i\u1ec3m t\u1ef1 lu\u1eadn kh\xf4ng th\xe0nh c\xf4ng: "+n[t.message],"")}),e.saveResultEvent.emit(0),e.isLoading=!1)})}},{key:"getMnoteJsonData",value:function(){if(this.isValidPoint()){var t=document.getElementById("mNote").contentWindow;null!==t&&t.postMessage({cmd:"getMNoteJson"},"*")}else this.commonService.snackError("Ch\u1ea5m \u0111i\u1ec3m v\u01b0\u1ee3t qu\xe1 s\u1ed1 \u0111i\u1ec3m t\u1ed1i \u0111a, vui l\xf2ng ki\u1ec3m tra l\u1ea1i","")}},{key:"toggleVisibility",value:function(t,e){var n=t.target,i=document.getElementById("q_"+e);i&&("block"==(null==i?void 0:i.style.display)?(i.style.display="none",n&&(n.textContent="visibility")):(i.style.display="block",n&&(n.textContent="visibility_off")))}},{key:"isValidPoint",value:function(){var t=0,e=this.form.value;for(var n in e){var i=Number(n.substring(3));e[n]>this.maxPointPerQuestion[i]&&t++}return!(t>0)}},{key:"ngOnInit",value:function(){var t=this;this.iframeSrc=this.commonService.getEnvValue("classliveUrl")+"?t="+Date.now();var e,n={};this.examResultObj.confirmedAt&&(e=this.commonService.parseJson(this.examResultObj.essayResult));for(var i=0;i<this.questions.length;i++){var s="cau"+i;n[s]=new R.h(e?e[s]:"0")}this.form=this.fb.group(n),this.questions.forEach(function(e){var n=t.getMaxPoint(e.id);t.totalMaxPoint+=n,e.essMaxPoint=n,t.maxPointPerQuestion.push(e.essMaxPoint)})}},{key:"ngOnChanges",value:function(){}},{key:"ngAfterViewInit",value:function(){window.addEventListener("message",this.handleIframe)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),window.removeEventListener("message",this.handleIframe)}}]),t}()).\u0275fac=function(t){return new(t||F)(l.Ob(u.a),l.Ob(R.g),l.Ob(m.a))},F.\u0275cmp=l.Ib({type:F,selectors:[["azt-mark-essay"]],inputs:{isBackEnd:"isBackEnd",resultID:"resultID",files:"files",questions:"questions",userAnswersObj:"userAnswersObj",examResultObj:"examResultObj",iframeSrc:"iframeSrc",examQuestionObjs:"examQuestionObjs",configExam:"configExam",examObj:"examObj"},outputs:{saveResultEvent:"saveResultEvent"},features:[l.Ab],decls:10,vars:11,consts:[["id","essayBoxButtons"],[1,"listSTT",3,"formGroup"],["class","col-wrap",4,"ngFor","ngForOf"],["class","BWrap",4,"ngIf"],["id","showQuestionEssay"],["class","essay_qItem",4,"ngFor","ngForOf"],["class","mb-2",4,"ngIf"],[1,"card-box","listPhotos",3,"ngStyle"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"],[1,"col-wrap"],["matTooltip","\u1ea8n/Hi\u1ec7n ph\u1ea7n b\xe0i l\xe0m c\u1ee7a c\xe2u h\u1ecfi n\xe0y",3,"click"],[1,"stt",2,"width","105px"],["matTooltip","\u0110i\u1ec3m t\u1ed1i \u0111a cho c\xe2u h\u1ecfi n\xe0y (theo thang \u0111i\u1ec3m)",1,"maxPoint"],["type","number","placeholder","Nh\u1eadp \u0111i\u1ec3m",3,"readonly","formControlName"],[1,"BWrap"],["mat-raised-button","","color","primary",1,"mt-3",3,"disabled","click"],[1,"essay_qItem"],[1,"mt-2",2,"display","block",3,"id"],[3,"examObj","question","index","configExam","userAnswersObj","place"],[1,"mb-2"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"form",1),l.Nc(2,D,8,4,"div",2),l.Tb(),l.Nc(3,L,3,2,"div",3),l.Tb(),l.Ub(4,"div",4),l.Nc(5,B,3,7,"div",5),l.Tb(),l.Nc(6,z,4,0,"div",6),l.Ub(7,"div",7),l.Pb(8,"iframe",8),l.gc(9,"safe"),l.Tb()),2&t&&(l.Cb(1),l.mc("formGroup",e.form),l.Cb(1),l.mc("ngForOf",e.questions),l.Cb(1),l.mc("ngIf",e.isBackEnd),l.Cb(2),l.mc("ngForOf",e.questions),l.Cb(1),l.mc("ngIf",e.files&&0==e.files.length),l.Cb(1),l.mc("ngStyle",l.rc(9,Q,e.files&&0==e.files.length?"none":"block")),l.Cb(1),l.mc("src",l.hc(9,7,e.iframeSrc),l.Ec))},directives:[R.B,R.s,R.l,p.l,p.m,p.n,x.a,j.a,R.w,R.d,R.r,R.j,A.b,N.a],pipes:[O.k],styles:["#essayBoxButtons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;padding:10px;border:1px solid #f1f1f1}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]{flex:auto;display:flex;flex-wrap:wrap;padding-bottom:10px;width:100%;border-bottom:1px solid #f1f1f1}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{margin-right:5px;display:flex;justify-content:center;align-items:center;padding-right:5px;border-right:1px solid #f1f1f1;margin-bottom:5px;width:19.5%}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 5px;border:1px solid #ccc;height:30px;border-radius:3px;padding-left:5px;width:60px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], #essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{margin-right:3px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   .maxPoint[_ngcontent-%COMP%]{color:#838383;margin-right:3px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   .maxPoint[_ngcontent-%COMP%]:hover{cursor:help}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#585858}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}div#showQuestionEssay[_ngcontent-%COMP%]{background-color:#fff}.essay_qItem[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:30px 30px 0}.essay_qItem[_ngcontent-%COMP%]:last-child > div[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:30px!important}@media screen and (max-width:1474px){#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{margin-bottom:5px}.stt[_ngcontent-%COMP%]{font-size:12px}.maxPoint[_ngcontent-%COMP%]{font-size:10px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{width:19.4%}}@media screen and (max-width:768px){.stt[_ngcontent-%COMP%]{font-size:13px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{width:48%}}@media screen and (max-width:480px){#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{border-right:none;margin-bottom:5px}.stt[_ngcontent-%COMP%]{font-size:13px}#essayBoxButtons[_ngcontent-%COMP%]   .listSTT[_ngcontent-%COMP%]   .col-wrap[_ngcontent-%COMP%]{width:99%}}"]}),F);function J(t,e){1&t&&l.Pb(0,"azt-loading-effect")}function W(t,e){if(1&t&&l.Pb(0,"header-backend",23),2&t){var n=l.fc(2);l.mc("headerTitle",n.headerTitle)("back_link",n.back_link)}}function G(t,e){if(1&t){var n=l.Vb();l.Ub(0,"header-frontend",24),l.bc("RedirectToLink",function(){return l.Cc(n),l.fc(2).redirectToBackLink()}),l.Tb()}if(2&t){var i=l.fc(2);l.mc("headerTitle",i.headerTitle)("checkUrlFunction",!0)}}function H(t,e){if(1&t&&l.Pb(0,"azt-basic-info-box",25),2&t){var n=l.fc(2);l.mc("name",n.studentObj.fullName)("avatarUrl",n.studentObj.avatar?n.studentObj.avatar:"https://ui-avatars.com/api/?uppercase=false&color=fff&background=a9a9a9&name="+n.studentObj.fullName)("birthDay",n.studentObj.birthday?n.studentObj.birthday:null)("phone",n.studentObj.phone?n.studentObj.phone:null)}}function $(t,e){1&t&&(l.Ub(0,"div"),l.Ub(1,"div",26),l.Pc(2," Th\xed sinh ch\u01b0a thi l\u1ea7n n\xe0o. "),l.Tb(),l.Tb())}function K(t,e){if(1&t&&(l.Ub(0,"span",35),l.Pc(1),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Qc(n.examResultObj.mark)}}function Y(t,e){1&t&&(l.Ub(0,"span",35),l.Pc(1,"Ch\u01b0a \u0111\u01b0\u1ee3c xem"),l.Tb())}function X(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-icon",36),l.bc("click",function(){return l.Cc(n),l.fc(4).clickExportPdf()}),l.Pc(1,"file_download"),l.Tb()}}function Z(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Tc("Tr\u1eafc nghi\u1ec7m: ",n.examResultObj.trueFalseMark," (",n.examResultObj.rightAnswer,"/",n.examResultObj.totalQuestion,")")}}function tt(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Rc("T\u1ef1 lu\u1eadn: ",n.examResultObj.confirmedAt?n.examResultObj.essayMark:"Ch\u01b0a ch\u1ea5m","")}}function et(t,e){1&t&&(l.Ub(0,"li"),l.Pc(1,"Tr\u1eafc nghi\u1ec7m: Ch\u01b0a \u0111\u01b0\u1ee3c xem"),l.Tb())}function nt(t,e){1&t&&(l.Ub(0,"li"),l.Pc(1,"T\u1ef1 lu\u1eadn: Ch\u01b0a \u0111\u01b0\u1ee3c xem"),l.Tb())}function it(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb(),l.Ub(2,"li"),l.Pc(3),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Rc("S\u1ed1 l\u1ea7n tho\xe1t m\xe0n h\xecnh: ",n.examTracks.exitCount,""),l.Cb(2),l.Rc("S\u1ed1 l\u1ea7n tho\xe1t tr\xecnh duy\u1ec7t: ",n.examTracks.blurCount,"")}}var st=function(t){return{"margin-top":t}};function at(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"div",29),l.Ub(2,"span"),l.Pc(3,"\u0110i\u1ec3m cu\u1ed1i"),l.Tb(),l.Nc(4,K,2,1,"span",30),l.Nc(5,Y,2,0,"span",30),l.Tb(),l.Ub(6,"div",31),l.Ub(7,"div",32),l.Ub(8,"span"),l.Pc(9,"Th\xf4ng tin chi ti\u1ebft"),l.Tb(),l.Nc(10,X,2,0,"mat-icon",33),l.Tb(),l.Ub(11,"ul"),l.Nc(12,Z,2,3,"li",27),l.Nc(13,tt,2,1,"li",27),l.Nc(14,et,2,0,"li",27),l.Nc(15,nt,2,0,"li",27),l.Nc(16,it,4,2,"ng-template",34),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.fc(3);l.Cb(1),l.mc("ngStyle",l.rc(9,st,n.isBackEnd?"15px":"0px")),l.Cb(3),l.mc("ngIf",2!=n.examConfig.whenShowResult),l.Cb(1),l.mc("ngIf",2==n.examConfig.whenShowResult),l.Cb(5),l.mc("ngIf",n.isBackEnd),l.Cb(2),l.mc("ngIf",n.multipleChoiceList.length>0&&2!=n.examConfig.whenShowResult),l.Cb(1),l.mc("ngIf",n.essayQuestionList.length>0&&2!=n.examConfig.whenShowResult),l.Cb(1),l.mc("ngIf",n.multipleChoiceList.length>0&&2==n.examConfig.whenShowResult),l.Cb(1),l.mc("ngIf",n.essayQuestionList.length>0&&2==n.examConfig.whenShowResult),l.Cb(1),l.mc("ngIf",n.examTracks&&1==n.examObj.autoMonitor)}}function ot(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-icon",36),l.bc("click",function(){return l.Cc(n),l.fc(4).clickExportPdf()}),l.Pc(1,"file_download"),l.Tb()}}function ct(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Tc("Tr\u1eafc nghi\u1ec7m: ",n.examResultObj.trueFalseMark," (",n.examResultObj.rightAnswer,"/",n.examResultObj.totalQuestion,")")}}function rt(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Rc("T\u1ef1 lu\u1eadn: ",n.examResultObj.confirmedAt?n.examResultObj.essayMark:"Ch\u01b0a ch\u1ea5m","")}}function lt(t,e){if(1&t&&(l.Ub(0,"li"),l.Pc(1),l.Tb(),l.Ub(2,"li"),l.Pc(3),l.Tb()),2&t){var n=l.fc(4);l.Cb(1),l.Rc("S\u1ed1 l\u1ea7n tho\xe1t m\xe0n h\xecnh: ",n.examTracks.exitCount,""),l.Cb(2),l.Rc("S\u1ed1 l\u1ea7n tho\xe1t tr\xecnh duy\u1ec7t: ",n.examTracks.blurCount,"")}}function ut(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"div",29),l.Ub(2,"span"),l.Pc(3,"\u0110i\u1ec3m cu\u1ed1i"),l.Tb(),l.Ub(4,"span",35),l.Pc(5),l.Tb(),l.Tb(),l.Ub(6,"div",31),l.Ub(7,"div",32),l.Ub(8,"span"),l.Pc(9,"Th\xf4ng tin chi ti\u1ebft"),l.Tb(),l.Nc(10,ot,2,0,"mat-icon",33),l.Tb(),l.Ub(11,"ul"),l.Nc(12,ct,2,3,"li",27),l.Nc(13,rt,2,1,"li",27),l.Nc(14,lt,4,2,"ng-template",34),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.fc(3);l.Cb(1),l.mc("ngStyle",l.rc(6,st,n.isBackEnd?"15px":"0px")),l.Cb(4),l.Qc(n.examResultObj.mark),l.Cb(5),l.mc("ngIf",n.isBackEnd),l.Cb(2),l.mc("ngIf",n.multipleChoiceList.length>0),l.Cb(1),l.mc("ngIf",n.essayQuestionList.length>0),l.Cb(1),l.mc("ngIf",n.examTracks&&1==n.examObj.autoMonitor)}}var bt=function(t){return{select:t}};function mt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"li",40),l.bc("click",function(){l.Cc(n);var t=e.$implicit;return l.fc(4).getAndProcessAnswers(t.id)}),l.Pc(1),l.Pb(2,"br"),l.Pc(3),l.gc(4,"date"),l.gc(5,"date"),l.Pb(6,"br"),l.Pc(7),l.Tb()}if(2&t){var i=e.$implicit,s=e.index,a=l.fc(4);l.mc("ngClass",l.rc(11,bt,i.id==a.cur_result)),l.Cb(1),l.Rc("L\u1ea7n ",a.examResultObjs.length-s,": "),l.Cb(2),l.Sc(" ",l.ic(4,5,i.startedTest,"dd/MM/YYYY, HH:mm")," - ",l.ic(5,8,i.createdAt,"HH:mm")," "),l.Cb(4),l.Rc(" Th\u1eddi gian l\xe0m b\xe0i: ",a.calculateTime(i.startedTest,i.createdAt)," ")}}function ft(t,e){if(1&t&&(l.Ub(0,"div",37),l.Ub(1,"div",38),l.Pc(2,"C\xe1c l\u1ea7n thi"),l.Tb(),l.Ub(3,"ul"),l.Nc(4,mt,8,13,"ng-template",39),l.Tb(),l.Tb()),2&t){var n=l.fc(3);l.Cb(4),l.mc("ngForOf",n.examResultObjs)}}function dt(t,e){if(1&t&&(l.Nc(0,at,17,11,"div",27),l.Nc(1,ut,15,8,"div",27),l.Nc(2,ft,5,1,"div",28)),2&t){var n=l.fc(2);l.mc("ngIf",!n.isBackEnd),l.Cb(1),l.mc("ngIf",n.isBackEnd),l.Cb(1),l.mc("ngIf",n.isBackEnd)}}function gt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-icon",41),l.bc("click",function(){return l.Cc(n),l.fc(2).toggleNavInfo()}),l.Pc(1,"cancel"),l.Tb()}}function ht(t,e){if(1&t&&(l.Ub(0,"div",42),l.Ub(1,"span"),l.Pc(2),l.Tb(),l.Ub(3,"span"),l.Pc(4),l.Tb(),l.Tb()),2&t){var n=l.fc(2);l.Cb(2),l.Qc(n.studentObj.fullName),l.Cb(2),l.Rc("\u0110i\u1ec3m cu\u1ed1i: ",n.examResultObj.mark,"")}}function pt(t,e){1&t&&(l.Ub(0,"div",43),l.Pc(1,"Th\xed sinh ch\u01b0a l\xe0m b\xe0i thi!"),l.Tb())}function vt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-icon",44),l.bc("click",function(){return l.Cc(n),l.fc(2).handleNavigate("next")}),l.Pc(1,"navigate_next"),l.Tb()}}function xt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-icon",45),l.bc("click",function(){return l.Cc(n),l.fc(2).handleNavigate("prev")}),l.Pc(1,"navigate_before"),l.Tb()}}function Ct(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",46),l.Ub(1,"mat-form-field",47),l.Ub(2,"mat-label"),l.Pc(3,"Ch\u1ebf \u0111\u1ed9 xem"),l.Tb(),l.Ub(4,"mat-select",48),l.bc("ngModelChange",function(t){return l.Cc(n),l.fc(2).viewOption=t})("ngModelChange",function(){return l.Cc(n),l.fc(2).onChangeViewOption()}),l.Ub(5,"mat-option",49),l.Pc(6," T\u1ea5t c\u1ea3 "),l.Tb(),l.Ub(7,"mat-option",50),l.Pc(8," C\xe2u sai "),l.Tb(),l.Ub(9,"mat-option",51),l.Pc(10," C\xe2u \u0111\xfang "),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var i=l.fc(2);l.Cb(4),l.mc("ngModel",i.viewOption)}}function wt(t,e){1&t&&(l.Ub(0,"div",55),l.Pc(1,"Vui l\xf2ng ch\u1edd m\u1ed9t ch\xfat, h\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd d\u1eef li\u1ec7u...!"),l.Tb())}var yt=function(t,e){return{correct:t,incorrect:e}},Ot=function(){return{}};function _t(t,e){if(1&t){var n=l.Vb();l.Ub(0,"azt-question-item",56),l.bc("statusResult",function(t){l.Cc(n);var i=e.$implicit;return l.fc(3).setClassStatusResult(t,i)}),l.Tb()}if(2&t){var i=e.$implicit,s=e.index,a=l.fc(3);l.mc("ngClass",l.sc(7,yt,i.isStatusResult,!i.isStatusResult))("userAnswersObj",0!=a.examResultObjs.length?a.userAnswersObj:l.qc(10,Ot))("question",i)("configExam",a.examConfig)("isRoleTeacher",a.isRoleTeacher)("index",s)("examObj",a.examObj)}}function kt(t,e){if(1&t&&(l.Ub(0,"mat-tab",52),l.Nc(1,wt,2,0,"div",53),l.Ub(2,"div",54),l.Nc(3,_t,1,11,"ng-template",39),l.Tb(),l.Tb()),2&t){var n=l.fc(2);l.Cb(1),l.mc("ngIf",n.isProcessingPdf),l.Cb(1),l.Eb(n.viewOption),l.Cb(1),l.mc("ngForOf",n.questionList)}}function Pt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",61),l.Ub(1,"azt-mark-essay",62),l.bc("saveResultEvent",function(t){return l.Cc(n),l.fc(3).saveResultEvent(t)}),l.Tb(),l.Tb()}if(2&t){var i=l.fc(3);l.Cb(1),l.mc("resultID",i.cur_result)("files",i.files)("questions",i.essayQuestionList)("userAnswersObj",i.userAnswersObj)("iframeSrc",i.iframeSrc)("examQuestionObjs",i.examQuestionObjs)("examResultObj",i.examResultObj)("configExam",i.examConfig)("isBackEnd",i.isBackEnd)("examObj",i.examObj)}}function Tt(t,e){1&t&&(l.Ub(0,"p",63),l.Pc(1," Kh\xf4ng c\xf3 c\xe2u t\u1ef1 lu\u1eadn "),l.Tb())}function It(t,e){if(1&t&&(l.Ub(0,"mat-tab",57),l.Nc(1,Pt,2,10,"div",58),l.Nc(2,Tt,2,0,"ng-template",59,60,l.Oc),l.Tb()),2&t){var n=l.yc(3),i=l.fc(2);l.Cb(1),l.mc("ngIf",i.essayQuestionList.length>0)("ngIfElse",n)}}var Mt=function(t){return{toggleNavInfo:t}};function jt(t,e){if(1&t){var n=l.Vb();l.Nc(0,W,1,2,"header-backend",2),l.Nc(1,G,1,2,"header-frontend",3),l.Ub(2,"div",4),l.Ub(3,"div",5),l.Ub(4,"div",6),l.Ub(5,"div",7),l.Nc(6,H,1,4,"azt-basic-info-box",8),l.Nc(7,$,3,0,"div",0),l.Nc(8,dt,3,3,"ng-template",null,9,l.Oc),l.Nc(10,gt,2,0,"mat-icon",10),l.Tb(),l.Tb(),l.Nc(11,ht,5,2,"div",11),l.Ub(12,"div",12),l.Ub(13,"div",13),l.Nc(14,pt,2,0,"div",14),l.Nc(15,vt,2,0,"mat-icon",15),l.Nc(16,xt,2,0,"mat-icon",16),l.Ub(17,"div",17),l.Nc(18,Ct,11,1,"div",18),l.Ub(19,"mat-icon",19),l.bc("click",function(){return l.Cc(n),l.fc().toggleNavInfo()}),l.Pc(20,"menu_open"),l.Tb(),l.Ub(21,"mat-tab-group",20),l.Nc(22,kt,4,5,"mat-tab",21),l.Nc(23,It,4,2,"mat-tab",22),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var i=l.yc(9),s=l.fc();l.mc("ngIf",s.isBackEnd),l.Cb(1),l.mc("ngIf",!s.isBackEnd),l.Cb(1),l.mc("ngClass",l.rc(14,Mt,s.isToggleNavInfo)),l.Cb(4),l.mc("ngIf",s.isBackEnd),l.Cb(1),l.mc("ngIf",0==s.examResultObjs.length)("ngIfElse",i),l.Cb(3),l.mc("ngIf",s.isToggleNavInfo),l.Cb(1),l.mc("ngIf",s.isBackEnd),l.Cb(3),l.mc("ngIf",s.examResultObjs.length<=0),l.Cb(1),l.mc("ngIf",s.hasNext()),l.Cb(1),l.mc("ngIf",s.hasPrev()),l.Cb(2),l.mc("ngIf",0!=s.examResultObjs.length),l.Cb(4),l.mc("ngIf",s.multipleChoiceList.length>0),l.Cb(1),l.mc("ngIf",s.essayQuestionList.length>0)}}var qt,St=((qt=function(){function e(t,i,s,a,o,c,l,u){n(this,e),this.apiService=t,this.dialog=i,this.commonService=s,this.translate=a,this.localize=o,this.activeRoute=c,this.router=l,this.mixService=u,this.isBackEnd=!0,this.isRoleTeacher=!0,this.headerTitle="T\xean \u0111\u1ec1 thi",this.back_link="",this.viewOption="viewAll",this.cur_result=0,this.cur_exam=0,this.cur_user=0,this.cur_student=0,this.hash_id=0,this.tenant_id=0,this.cate_id=0,this.tested_user_objs=[],this.studentObj={},this.examResultObjs=[],this.examResultObj={},this.examConfig={},this.questionList=[],this.essayQuestionList=[],this.multipleChoiceList=[],this.userAnswersObj={},this.files=[],this.iframeSrc=r.a.classliveUrl+"?t="+Date.now(),this.isLoading=!1,this.isProcessingPdf=!1,this.isToggleNavInfo=!1,this.isShowFadingLayer=!1,this.examQuestionObjs=[],this.backtoLink=""}return s(e,[{key:"setClassStatusResult",value:function(t,e){Object(o.a)(100).subscribe(function(){return e.isStatusResult=t})}},{key:"calculateTime",value:function(t,e){return this.commonService.calculationTestedTime(t,e)}},{key:"onChangeViewOption",value:function(){}},{key:"saveResultEvent",value:function(t){var e=this;t&&this.apiService.GetExamWithExamAnswer(this.cur_result).subscribe(function(t){1==t.success?e.examResultObj=t.data.examResultObj:e.handleError(t)})}},{key:"convertAnswersArr",value:function(t){var e=this;0!=t.length&&t.forEach(function(t){e.userAnswersObj["id_"+t.QuestionId]=t.AnswerContent[0].Content})}},{key:"getAndProcessAnswers",value:function(t){var e=this.commonService.getLocalRouter("/admin/testbank/test-review/"+this.cur_exam+"/"+this.cur_user+"/"+this.cur_student+"/"+t)+"?backto="+encodeURIComponent(this.backtoLink);window.location.href=e.toString()}},{key:"checkEssay",value:function(){for(var t=0;t<this.questionList.length;t++)3==this.questionList[t].answerType&&(this.questionList[t].indexLabel=t,this.essayQuestionList.push(this.questionList[t]))}},{key:"checkMultipleChoice",value:function(){for(var t=0;t<this.questionList.length;t++)1!=this.questionList[t].answerType&&4!=this.questionList[t].answerType||(this.questionList[t].indexLabel=t,this.multipleChoiceList.push(this.questionList[t]))}},{key:"processConvertData",value:function(t){var e=this;this.examQuestionObjs=t.data.examQuestionObjs,this.examResultObj=t.data.examResultObj,this.examConfig=t.data.examObj,this.questionList=t.data.questionObjs,this.questionList.forEach(function(t){t.answerConfig=JSON.parse(t.answerConfig),t.answerResult=JSON.parse(t.answerResult),t.coordinates=JSON.parse(t.coordinates),t.questionContent=JSON.parse(t.questionContent),t.isRoleTeacher=e.isBackEnd}),this.commonService.replaceCanvasBackground(this.questionList),this.checkEssay(),this.checkMultipleChoice(),this.convertAnswersArr(JSON.parse(t.data.examResultObj.answers)),this.processUserFiles(t.data.examResultObj.files)}},{key:"getAndProcessData",value:function(){var t=this;this.isLoading=!0,this.cur_user=this.activeRoute.snapshot.paramMap.get("user_id"),this.cur_student=this.activeRoute.snapshot.paramMap.get("student_id"),this.cur_result=this.activeRoute.snapshot.paramMap.get("result_id"),this.getTestedUsers(function(){t.apiService.GetLastExamResultOfStudentId(t.cur_exam,t.cur_user,t.cur_student).subscribe(function(e){1==e.success?e.data.examResultObjs&&e.data.examResultObjs.length>0?(t.studentObj=e.data.studentObj,t.examResultObjs=e.data.examResultObjs,t.headerTitle=e.data.lastExamResultObj.examObj.name,t.cur_result="0"==t.cur_result?e.data.examResultObjs[0].id:t.cur_result,t.apiService.GetExamWithExamAnswer(t.cur_result).subscribe(function(e){1==e.success?(t.examTracks=e.data.examTracks,t.examObj=e.data.examObj,t.processConvertData(e),t.translateMetaTitle(e),t.isLoading=!1):(t.isLoading=!1,t.handleError(e))})):(t.isLoading=!1,t.studentObj=e.data.studentObj):(t.isLoading=!1,t.handleError(e))})})}},{key:"getAndProcessDataForStudent",value:function(){var e=this;this.isLoading=!0,Object(c.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){t(n);var i,s=null===(i=e.commonService.getMyParam(e.activeRoute,"hash_id"))||void 0===i?void 0:i.toString();e.tenant_id=Number(e.commonService.getMyParam(e.activeRoute,"tenant_id")),e.cate_id=Number(e.commonService.getMyParam(e.activeRoute,"cate_id")),e.cur_result=Number(e.commonService.getMyParam(e.activeRoute,"result_id")),e.hash_id=s||"",e.apiService.GetFrontExamWithExamAnswer(e.hash_id,e.cur_result).subscribe(function(t){1==t.success?(e.examObj=t.data.examObj,e.headerTitle="K\u1ebft qu\u1ea3: "+t.data.examObj.name,e.translateMetaTitle(t),e.examResultObjs=[1],e.processConvertData(t),1==e.examObj.mixQuestion&&t.data.questionObjs[0].name.startsWith("[PDFv2]")&&e.mixService.drawMixQuestion(e.examObj.labelsUrl,e.questionList),e.back_link="/de-thi/"+e.hash_id,e.isLoading=!1):(e.isLoading=!1,e.handleError(t))})})}},{key:"translateMetaTitle",value:function(t){var e=this.isBackEnd?"Ch\u1ea5m \u0111\u1ec1 thi: ":"K\u1ebft qu\u1ea3: ";this.commonService.translateMetaData({title:e+t.data.examObj.name,description:e+t.data.examObj.name,image:"lang_cms_test_image"})}},{key:"processUserFiles",value:function(t){this.files=""!=t?JSON.parse(t):[]}},{key:"progressUserObjsList",value:function(t,e){var n=[];return t.length>0&&(n=t),e.forEach(function(t){t.results.forEach(function(t){n.push(t)})}),n}},{key:"getTestedUsers",value:function(t){var e=this;this.apiService.getTestedUserObjs(this.cur_exam).subscribe(function(n){1==n.success&&(e.tested_user_objs=e.progressUserObjsList(n.data.studentsNotInClassResults,n.data.studentsInClassResults)),t()})}},{key:"handleError",value:function(t){var e=this;this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)})}},{key:"hasNext",value:function(){for(var t=-1,e=0;e<this.tested_user_objs.length;e++)if(this.tested_user_objs[e].userId==this.cur_user&&this.tested_user_objs[e].studentId==this.cur_student){t=e;break}return t<this.tested_user_objs.length-1}},{key:"hasPrev",value:function(){for(var t=-1,e=0;e<this.tested_user_objs.length;e++)if(this.tested_user_objs[e].userId==this.cur_user&&this.tested_user_objs[e].studentId==this.cur_student){t=e;break}return t>0}},{key:"handleNavigate",value:function(t){for(var e=-1,n=0;n<this.tested_user_objs.length;n++)if(this.tested_user_objs[n].userId==this.cur_user&&this.tested_user_objs[n].studentId==this.cur_student){e=n;break}if("next"==t){if(e>=0&&e<=this.tested_user_objs.length-2){var i=this.tested_user_objs[e+1].userId.toString(),s=this.tested_user_objs[e+1].studentId.toString(),a=this.commonService.getLocalRouter("/admin/testbank/test-review/"+this.cur_exam+"/"+i+"/"+s+"/0")+"?backto="+encodeURIComponent(this.backtoLink);window.location.href=a.toString()}}else e>0&&e<=this.tested_user_objs.length-1&&(i=this.tested_user_objs[e-1].userId.toString(),s=this.tested_user_objs[e-1].studentId.toString(),a=this.commonService.getLocalRouter("/admin/testbank/test-review/"+this.cur_exam+"/"+i+"/"+s+"/0")+"?backto="+encodeURIComponent(this.backtoLink),window.location.href=a.toString())}},{key:"toggleNavInfo",value:function(){this.isToggleNavInfo=!this.isToggleNavInfo}},{key:"clickExportPdf",value:function(){this.commonService.gaEvent("click_exp_pdf_in_test_review");var t=this.localize.translateRoute("/admin/testbank/export-tool")+"/"+this.cur_exam+"/"+this.cur_user+"/"+this.cur_student+"/"+this.cur_result+"?ref=test-review";window.open(t,"_blank")}},{key:"redirectToBackLink",value:function(){return this.commonService.myNavigationWithQueryString("/de-thi/"+this.hash_id,"?backto="+encodeURIComponent(this.backtoLink))}},{key:"ngOnInit",value:function(){var e=this;this.iframeSrc=this.commonService.getEnvValue("classliveUrl")+"?t="+Date.now(),Object(c.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){t(n),e.isRoleTeacher=e.isBackEnd,e.backtoLink=e.commonService.getMyQueryParam("backto"),e.isBackEnd?(e.cur_exam=e.activeRoute.snapshot.paramMap.get("exam_id"),e.back_link=e.backtoLink?e.backtoLink:"/admin/testbank/tested-list/0/"+e.cur_exam+"/0",e.getAndProcessData()):e.getAndProcessDataForStudent()})}},{key:"ngAfterContentInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||qt)(l.Ob(u.a),l.Ob(b.b),l.Ob(m.a),l.Ob(f.c),l.Ob(d.e),l.Ob(g.a),l.Ob(g.i),l.Ob(h.a))},qt.\u0275cmp=l.Ib({type:qt,selectors:[["azt-test-review"]],inputs:{isBackEnd:"isBackEnd"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link",4,"ngIf"],[3,"headerTitle","checkUrlFunction","RedirectToLink",4,"ngIf"],["id","test_review_container",1,"container-fluid","mt-2",3,"ngClass"],["id","tabRowExam",1,"row",2,"margin-bottom","10px"],["id","col_std_info",1,"col-md-4","col-lg-3"],["id","tester-info"],[3,"name","avatarUrl","birthDay","phone",4,"ngIf"],["allReadyTested",""],["id","close_button",3,"click",4,"ngIf"],["id","short_cut_mobile","class","col-md-4 col-lg-3 mb-3",4,"ngIf"],["id","test_review_area",1,"col-md-8","col-lg-9"],["id","col_examContent_wrap"],["class","text-center",4,"ngIf"],["class","clickable next_icon",3,"click",4,"ngIf"],["class","clickable prev_icon",3,"click",4,"ngIf"],["id","mbTestContent"],["id","filterWrap",4,"ngIf"],[1,"clickable",3,"click"],[1,"test-review-tab"],["label","Tr\u1eafc nghi\u1ec7m",4,"ngIf"],["id","tabEssay","label","T\u1ef1 lu\u1eadn","aria-labelledby","tabEssay",4,"ngIf"],[3,"headerTitle","back_link"],[3,"headerTitle","checkUrlFunction","RedirectToLink"],[3,"name","avatarUrl","birthDay","phone"],[1,"d-flex","justify-content-center","py-2"],[4,"ngIf"],["class","tested-times","style","overflow: auto;",4,"ngIf"],["id","fullPoint",3,"ngStyle"],["class","point",4,"ngIf"],[1,"tested-times"],[1,"label","d-flex","justify-content-between","align-items-center"],["matTooltip","T\u1ea3i b\xe0i l\xe0m n\xe0y d\u01b0\u1edbi d\u1ea1ng PDF","class","clickable","style","color: darkgrey;",3,"click",4,"ngIf"],[3,"ngIf"],[1,"point"],["matTooltip","T\u1ea3i b\xe0i l\xe0m n\xe0y d\u01b0\u1edbi d\u1ea1ng PDF",1,"clickable",2,"color","darkgrey",3,"click"],[1,"tested-times",2,"overflow","auto"],[1,"label"],["ngFor","",3,"ngForOf"],[1,"clickable",3,"ngClass","click"],["id","close_button",3,"click"],["id","short_cut_mobile",1,"col-md-4","col-lg-3","mb-3"],[1,"text-center"],[1,"clickable","next_icon",3,"click"],[1,"clickable","prev_icon",3,"click"],["id","filterWrap"],["appearance","fill"],[3,"ngModel","ngModelChange"],["value","viewAll"],["value","viewWrong"],["value","viewRight"],["label","Tr\u1eafc nghi\u1ec7m"],["class","fading_layer",4,"ngIf"],["id","multipleChoiceWrap"],[1,"fading_layer"],[3,"ngClass","userAnswersObj","question","configExam","isRoleTeacher","index","examObj","statusResult"],["id","tabEssay","label","T\u1ef1 lu\u1eadn","aria-labelledby","tabEssay"],["id","markEssay",4,"ngIf","ngIfElse"],["class","pt-2"],["notHaveEssay",""],["id","markEssay"],[3,"resultID","files","questions","userAnswersObj","iframeSrc","examQuestionObjs","examResultObj","configExam","isBackEnd","examObj","saveResultEvent"],[1,"p-3"]],template:function(t,e){if(1&t&&(l.Nc(0,J,1,0,"azt-loading-effect",0),l.Nc(1,jt,24,16,"ng-template",null,1,l.Oc)),2&t){var n=l.yc(2);l.mc("ngIf",e.isLoading)("ngIfElse",n)}},directives:[p.m,v.a,p.k,x.a,C.b,w.a,y.a,M,p.n,j.a,p.l,q.d,q.g,S.a,R.r,R.u,U.n,C.a,N.a,V],pipes:[p.e],styles:["#test_review_container[_ngcontent-%COMP%]{background:#ecf0f5;flex:auto;padding-top:15px}#tester-info[_ngcontent-%COMP%]{width:300px;padding:15px;background-color:#fff;margin:0 auto;position:sticky;top:10px;max-height:calc(100vh - 10px);display:flex;flex-direction:column;max-width:100%;border-radius:3px;border:1px solid #f1f1f1}#short_cut_mobile[_ngcontent-%COMP%]{display:none}#fullPoint[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #f1f1f1;background-color:#fafafa;padding:10px;margin-top:15px;align-items:center}#fullPoint[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{font-weight:500;font-size:130%}.tested-times[_ngcontent-%COMP%]{margin-top:15px}.tested-times[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{border:1px solid #f1f1f1;background-color:#fafafa;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;border:1px solid #f1f1f1;border-top:none;margin-bottom:0;background-color:#fff;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{font-weight:500}.tested-times[_ngcontent-%COMP%]:last-child{flex:auto;overflow:auto}#multipleChoiceWrap[_ngcontent-%COMP%]{background-color:#fff;padding:30px;position:relative}.fading_layer[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:hsla(0,0%,100%,.8901960784313725);width:100%;height:100%;top:0;left:0;padding-top:200px;text-align:center;color:#a9a9a9;font-size:16px}#filterWrap[_ngcontent-%COMP%]{position:absolute;right:0;top:-4px;z-index:2}.viewRight[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%], .viewWrong[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{display:none}#col_examContent_wrap[_ngcontent-%COMP%]{width:1100px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:fixed;right:5px;top:50%;z-index:3;font-size:35px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:hsla(0,0%,78.8%,.7725490196078432);border-radius:50%;color:#fff;margin-top:-20px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon.prev_icon[_ngcontent-%COMP%]{left:5px}#mbTestContent[_ngcontent-%COMP%]{position:relative}#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;color:#646464;z-index:100}#test_review_container.toggleNavInfo[_ngcontent-%COMP%]   #col_std_info[_ngcontent-%COMP%]{left:0}#close_button[_ngcontent-%COMP%]{color:red;position:absolute;right:5px;top:5px}@media screen and (max-width:320px){#tester-info[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:480px){#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:inline-block}#test_review_container[_ngcontent-%COMP%]{padding-top:0}#col_std_info[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;z-index:99999;background:rgba(0,0,0,.611764705882353);bottom:0;padding:0;transition:all .5s}#short_cut_mobile[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:18px;justify-content:space-between;color:#4a4a4a}#header-app-component[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:0!important}#tester-info[_ngcontent-%COMP%]{margin:0;position:relative;height:100%;max-height:unset;top:0}#multipleChoiceWrap[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px;padding-top:5px}}@media screen and (max-width:1600px){#col_examContent_wrap[_ngcontent-%COMP%]{width:100%}}"]}),qt)},Vwpm:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var a=i("fXoL"),o=i("ofXK"),c=i("gaSO");function r(t,e){1&t&&(a.Ub(0,"div",2),a.Ub(1,"div",3),a.Ub(2,"span",4),a.Pc(3,"Loading..."),a.Tb(),a.Tb(),a.Tb())}var l=function(){var t=function(){function t(){n(this,t),this.loading=!0}return s(t,[{key:"onLoad",value:function(){this.loading=!1}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["azt-loaded-img"]],inputs:{imgSrc:"imgSrc"},decls:4,vars:6,consts:[["class","px-4 py-3 text-center",4,"ngIf"],[1,"img-fluid",3,"hidden","src","alt","load"],[1,"px-4","py-3","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,e){1&t&&(a.Ub(0,"div"),a.Nc(1,r,4,0,"div",0),a.Ub(2,"img",1),a.bc("load",function(){return e.onLoad()}),a.gc(3,"mycdn"),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.mc("ngIf",e.loading),a.Cb(1),a.nc("src",a.hc(3,4,e.imgSrc),a.Gc),a.nc("alt",e.imgSrc),a.mc("hidden",e.loading))},directives:[o.m],pipes:[c.g],styles:[""]}),t}()},gJ4n:function(t,e,i){"use strict";i.d(e,"a",function(){return Ct});var a=i("fXoL"),o=i("tyNb"),c=i("gbi4"),r=i("Avyq"),l=i("yTNM"),u=i("ofXK"),b=i("gaSO");function m(t,e){if(1&t&&(a.Ub(0,"div",10),a.Pb(1,"img",11),a.gc(2,"mycdn"),a.Tb()),2&t){var n=a.fc(2).$implicit,i=a.fc(2);a.mc("hidden",!n.firstInGroupIndexes.includes(i.index)),a.Cb(1),a.nc("src",a.hc(2,2,n.groupUrl),a.Gc)}}function f(t,e){if(1&t&&(a.Ub(0,"div",12),a.Pb(1,"iframe",13),a.gc(2,"safe"),a.Tb()),2&t){var n=a.fc(2).$implicit;a.Cb(1),a.mc("src",a.hc(2,1,n.url),a.Ec)}}function d(t,e){if(1&t&&(a.Pb(0,"img",15),a.gc(1,"mycdn")),2&t){var n=a.fc(3).$implicit;a.nc("src",a.hc(1,1,n.url),a.Gc)}}function g(t,e){if(1&t&&a.Nc(0,d,2,3,"img",14),2&t){var n=a.fc(2).$implicit;a.mc("ngIf","png"==n.extension||"jpg"==n.extension)}}function h(t,e){if(1&t&&(a.Sb(0),a.Pb(1,"img",15),a.Rb()),2&t){var n=a.fc(4);a.Cb(1),a.nc("src",n.question.mixDataImg,a.Gc)}}function p(t,e){if(1&t&&(a.Ub(0,"div"),a.Nc(1,m,3,4,"div",6),a.Nc(2,f,3,3,"div",7),a.Nc(3,g,1,1,"ng-template",null,8,a.Oc),a.Nc(5,h,2,1,"ng-container",9),a.Tb()),2&t){var n=a.yc(4),i=a.fc().$implicit,s=a.fc(2);a.Cb(1),a.mc("ngIf",i.groupUrl),a.Cb(1),a.mc("ngIf","mp4"==i.extension),a.Cb(3),a.mc("ngIf",s.question.name.startsWith("[PDFv2]")&&1==s.examObj.mixQuestion&&!s.examConfig.isRoleTeacher)("ngIfElse",n)}}function v(t,e){if(1&t&&(a.Ub(0,"audio",18),a.Pb(1,"source",19),a.gc(2,"safe"),a.gc(3,"mycdn"),a.Tb()),2&t){var n=a.fc(4);a.nc("id","audio_"+n.question.id),a.Cb(1),a.mc("src",a.hc(2,2,a.hc(3,4,n.question.attachments[0].url)),a.Gc)}}function x(t,e){if(1&t&&(a.Ub(0,"div",16),a.Nc(1,v,4,6,"audio",17),a.Tb()),2&t){var n=a.fc(3);a.Cb(1),a.mc("ngIf","mp3"==n.question.attachments[0].extension)}}function C(t,e){if(1&t&&(a.Ub(0,"div",3),a.Nc(1,p,6,4,"div",4),a.Nc(2,x,2,1,"div",5),a.Tb()),2&t){var n=e.$implicit,i=a.fc(2);a.Cb(1),a.mc("ngIf",n.url&&""!=n.url),a.Cb(1),a.mc("ngIf",i.question.attachments&&i.question.attachments.length>0)}}function w(t,e){if(1&t&&(a.Ub(0,"div",1),a.Nc(1,C,3,2,"div",2),a.Tb()),2&t){var n=a.fc();a.nc("id","media_content_"+n.question.id),a.Cb(1),a.mc("ngForOf",n.question.questionContent)}}var y,O=((y=function(){function t(e,i,s,a,o){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=a,this.apiService=o,this.question={},this.examConfig={},this.index=0,this.examObj={}}return s(t,[{key:"resizeImg",value:function(t,e,n){var i=document.getElementById("media_content_"+t),s=null==i?void 0:i.offsetWidth;return i?s/e<=1?Math.round(n*(s/e)):Math.round(n):0}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||y)(a.Ob(o.a),a.Ob(o.i),a.Ob(c.a),a.Ob(r.e),a.Ob(l.a))},y.\u0275cmp=a.Ib({type:y,selectors:[["azt-question-pdf-item"]],inputs:{question:"question",examConfig:"examConfig",index:"index",examObj:"examObj"},decls:1,vars:1,consts:[["class","question-card mb-0 p-2",3,"id",4,"ngIf"],[1,"question-card","mb-0","p-2",3,"id"],["class","card-body pt-1 pb-1 pl-0 pr-0 MW-800",4,"ngFor","ngForOf"],[1,"card-body","pt-1","pb-1","pl-0","pr-0","MW-800"],[4,"ngIf"],["class","text-center ml-auto mr-auto",4,"ngIf"],["class","image_group mb-3",3,"hidden",4,"ngIf"],["class","embed-responsive embed-responsive-21by9",4,"ngIf"],["originalRender",""],[4,"ngIf","ngIfElse"],[1,"image_group","mb-3",3,"hidden"],["alt","",2,"max-width","100%",3,"src"],[1,"embed-responsive","embed-responsive-21by9"],[1,"embed-responsive-item",3,"src"],["alt","question media","class","img-fluid img_respon",3,"src",4,"ngIf"],["alt","question media",1,"img-fluid","img_respon",3,"src"],[1,"text-center","ml-auto","mr-auto"],["class","audio_src","controls","","preload","true",3,"id",4,"ngIf"],["controls","","preload","true",1,"audio_src",3,"id"],[3,"src"]],template:function(t,e){1&t&&a.Nc(0,w,2,2,"div",0),2&t&&a.mc("ngIf",e.question.questionContent&&e.question.questionContent.length>0)},directives:[u.m,u.l],pipes:[b.g,b.k],styles:[".question-card[_ngcontent-%COMP%]{box-shadow:none}.audio_src[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;max-width:70%}"]}),y);function _(t,e){if(1&t&&(a.Ub(0,"div",8),a.Ub(1,"span",9),a.Pc(2),a.Tb(),a.Pc(3,"\xa0"),a.Pb(4,"div",4),a.Tb()),2&t){var n=e.$implicit;a.Cb(2),a.Rc("",n.alpha?n.alpha:n.key,"."),a.Cb(2),a.mc("innerHtml",n.content,a.Dc)}}function k(t,e){if(1&t&&(a.Ub(0,"audio",12),a.Pb(1,"source",13),a.gc(2,"safe"),a.gc(3,"mycdn"),a.Tb()),2&t){var n=a.fc(2);a.nc("id","audio_"+n.question.id),a.Cb(1),a.mc("src",a.hc(2,2,a.hc(3,4,n.question.attachments[0].url)),a.Gc)}}function P(t,e){if(1&t&&(a.Ub(0,"div",10),a.Nc(1,k,4,6,"audio",11),a.Tb()),2&t){var n=a.fc();a.Cb(1),a.mc("ngIf","mp3"==n.question.attachments[0].extension)}}var T,I=((T=function(){function t(e,i,s,a,o){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=a,this.apiService=o,this.index=0,this.question={}}return s(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||T)(a.Ob(o.a),a.Ob(o.i),a.Ob(c.a),a.Ob(r.e),a.Ob(l.a))},T.\u0275cmp=a.Ib({type:T,selectors:[["azt-question-docx-item"]],inputs:{index:"index",question:"question"},decls:9,vars:5,consts:[[1,"question-card","question-docx","mb-0","p-2",3,"id"],[1,"content_dx_wrap"],[1,"docx-stt"],[1,"contentDocx"],[3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex align-items-center",4,"ngFor","ngForOf"],["class","text-center ml-auto mr-auto",4,"ngIf"],[1,"col-sm-6","col-md-6","d-flex","align-items-center"],[2,"vertical-align","middle"],[1,"text-center","ml-auto","mr-auto"],["class","audio_src","controls","","preload","true",3,"id",4,"ngIf"],["controls","","preload","true",1,"audio_src",3,"id"],[3,"src"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"p",2),a.Pc(3),a.Tb(),a.Ub(4,"div",3),a.Pb(5,"div",4),a.Tb(),a.Ub(6,"div",5),a.Nc(7,_,5,2,"div",6),a.Tb(),a.Tb(),a.Nc(8,P,2,1,"div",7),a.Tb()),2&t&&(a.nc("id","media_content_"+e.question.id),a.Cb(3),a.Rc("C\xe2u\xa0",e.index<9?"0"+(e.index+1):e.index+1,":"),a.Cb(2),a.mc("innerHtml",e.question.questionContent[0].content,a.Dc),a.Cb(2),a.mc("ngForOf",e.question.answerConfig),a.Cb(1),a.mc("ngIf",e.question.attachments&&e.question.attachments.length>0))},directives:[u.l,u.m],pipes:[b.k,b.g],styles:[".question-card[_ngcontent-%COMP%]{box-shadow:none}.content_dx_wrap[_ngcontent-%COMP%]{padding:5px 15px}.docx-stt[_ngcontent-%COMP%]{font-weight:450;font-size:16px}.audio_src[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;max-width:70%}"]}),T),M=i("NFeN");function j(t,e){1&t&&(a.Ub(0,"mat-icon",12),a.Pc(1,"close"),a.Tb())}function q(t,e){if(1&t&&a.Nc(0,j,2,0,"mat-icon",11),2&t){var n=a.fc().$implicit,i=a.fc(3);a.mc("ngIf",i.isChosen(n))}}function S(t,e){1&t&&(a.Ub(0,"mat-icon",13),a.Pc(1,"check_circle"),a.Tb())}function R(t,e){if(1&t&&(a.Ub(0,"div",8),a.Nc(1,q,1,1,"ng-template",2),a.Nc(2,S,2,0,"mat-icon",9),a.Ub(3,"span",10),a.Pc(4),a.Tb(),a.Tb()),2&t){var n=e.$implicit,i=a.fc(3);a.Cb(1),a.mc("ngIf",!(i.isKey(n)&&i.isChosen(n))),a.Cb(1),a.mc("ngIf",i.isKey(n)&&i.isChosen(n)),a.Cb(2),a.Rc(" ",n.alpha?n.alpha:n.key?n.key:n," ")}}var U=function(t){return{color:t}},N=function(t){return{"border-color":t}};function E(t,e){if(1&t&&(a.Ub(0,"div",4),a.Ub(1,"span",5),a.Pc(2),a.Tb(),a.Ub(3,"div",6),a.Nc(4,R,5,3,"div",7),a.Tb(),a.Tb()),2&t){var n=a.fc(2);a.Cb(1),a.mc("ngStyle",a.rc(4,U,n.userAnswersObj["id_"+n.question.id]==n.question.answerResult[0]?"#00ac33":"red")),a.Cb(1),a.Rc("\u0110\xe1p \xe1n \u0111\xfang: ",n.key,""),a.Cb(1),a.mc("ngStyle",a.rc(6,N,n.userAnswersObj["id_"+n.question.id]==n.question.answerResult[0]?"#00ac33":"red")),a.Cb(1),a.mc("ngForOf",n.labelArr)}}function A(t,e){if(1&t&&(a.Ub(0,"span",5),a.Pc(1),a.Tb()),2&t){var n=a.fc(3);a.mc("ngStyle",a.rc(2,U,n.isFillAnswer?"#00ac33":"red")),a.Cb(1),a.Rc("\u0110\xe1p \xe1n \u0111\xfang: [",n.keys.join("],["),"]")}}function D(t,e){if(1&t&&(a.Ub(0,"div",4),a.Nc(1,A,2,4,"span",14),a.Ub(2,"div",15),a.Ub(3,"div",16),a.Pc(4),a.Tb(),a.Tb(),a.Tb()),2&t){var n=a.fc(2);a.Cb(1),a.mc("ngIf",n.keys),a.Cb(1),a.mc("ngStyle",a.rc(3,N,n.isFillAnswer?"#00ac33":"00ac33")),a.Cb(2),a.Rc(" ",n.userAnswersObj["id_"+n.question.id]?n.userAnswersObj["id_"+n.question.id]:"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin"," ")}}function L(t,e){if(1&t&&(a.Ub(0,"div"),a.Nc(1,E,5,8,"div",3),a.Nc(2,D,5,5,"div",3),a.Tb()),2&t){var n=a.fc();a.Cb(1),a.mc("ngIf",1==n.question.answerType),a.Cb(1),a.mc("ngIf",4==n.question.answerType)}}function B(t,e){if(1&t&&(a.Ub(0,"span",5),a.Pc(1),a.Tb()),2&t){var n=a.fc(3);a.mc("ngStyle",a.rc(2,U,n.userAnswersObj["id_"+n.question.id]==n.question.answerResult[0]?"#00ac33":"red")),a.Cb(1),a.Rc("\u0110\xe1p \xe1n \u0111\xfang: ",n.key,"")}}function z(t,e){1&t&&a.Pb(0,"span",19)}function F(t,e){1&t&&(a.Ub(0,"mat-icon",12),a.Pc(1,"close"),a.Tb())}function Q(t,e){if(1&t&&a.Nc(0,F,2,0,"mat-icon",11),2&t){var n=a.fc().$implicit,i=a.fc(3);a.mc("ngIf",i.isChosen(n)&&2!=i.examConfig.whenShowAnswer)}}function V(t,e){1&t&&(a.Ub(0,"mat-icon"),a.Pc(1,"check_circle"),a.Tb())}function J(t,e){if(1&t&&a.Nc(0,V,2,0,"mat-icon",0),2&t){var n=a.fc().$implicit,i=a.fc(3);a.mc("ngIf",i.isChosen(n)&&2==i.examConfig.whenShowAnswer)}}function W(t,e){1&t&&(a.Ub(0,"mat-icon",13),a.Pc(1,"check_circle"),a.Tb())}function G(t,e){if(1&t&&(a.Ub(0,"div",8),a.Nc(1,Q,1,1,"ng-template",2),a.Nc(2,J,1,1,"ng-template",2),a.Nc(3,W,2,0,"mat-icon",9),a.Ub(4,"span",10),a.Pc(5),a.Tb(),a.Tb()),2&t){var n=e.$implicit,i=a.fc(3);a.Cb(1),a.mc("ngIf",!(i.isKey(n)&&i.isChosen(n))),a.Cb(1),a.mc("ngIf",!(i.isKey(n)&&i.isChosen(n))),a.Cb(1),a.mc("ngIf",i.isKey(n)&&i.isChosen(n)&&2!=i.examConfig.whenShowAnswer),a.Cb(2),a.Rc(" ",n.alpha?n.alpha:n.key?n.key:n," ")}}function H(t,e){if(1&t&&(a.Ub(0,"div",4),a.Nc(1,B,2,4,"span",14),a.Nc(2,z,1,0,"span",17),a.Ub(3,"div",18),a.Nc(4,G,6,4,"div",7),a.Tb(),a.Tb()),2&t){var n=a.fc(2);a.Cb(1),a.mc("ngIf",2!=n.examConfig.whenShowAnswer),a.Cb(1),a.mc("ngIf",n.keys&&2==n.examConfig.whenShowAnswer),a.Cb(2),a.mc("ngForOf",n.labelArr)}}function $(t,e){if(1&t&&(a.Ub(0,"span",5),a.Pc(1),a.Tb()),2&t){var n=a.fc(3);a.mc("ngStyle",a.rc(2,U,n.isFillAnswer?"#00ac33":"red")),a.Cb(1),a.Rc("\u0110\xe1p \xe1n \u0111\xfang: [",n.keys.join("],["),"]")}}function K(t,e){1&t&&a.Pb(0,"span",19)}function Y(t,e){if(1&t&&(a.Ub(0,"div",4),a.Nc(1,$,2,4,"span",14),a.Nc(2,K,1,0,"span",17),a.Ub(3,"div",18),a.Ub(4,"div",16),a.Pc(5),a.Tb(),a.Tb(),a.Tb()),2&t){var n=a.fc(2);a.Cb(1),a.mc("ngIf",n.keys&&2!=n.examConfig.whenShowAnswer),a.Cb(1),a.mc("ngIf",n.keys&&2==n.examConfig.whenShowAnswer),a.Cb(3),a.Rc(" ",n.userAnswersObj["id_"+n.question.id]?n.userAnswersObj["id_"+n.question.id]:"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin"," ")}}function X(t,e){if(1&t&&(a.Ub(0,"div"),a.Nc(1,H,5,3,"div",3),a.Nc(2,Y,6,3,"div",3),a.Tb()),2&t){var n=a.fc();a.Cb(1),a.mc("ngIf",1==n.question.answerType),a.Cb(1),a.mc("ngIf",4==n.question.answerType)}}function Z(t,e){1&t&&a.Pb(0,"div",20)}function tt(t,e){if(1&t&&(a.Pb(0,"div",23),a.gc(1,"formatLineBreak")),2&t){var n=a.fc(2);a.mc("innerHtml","multiple_choice"==n.place?"Xem th\xf4ng tin \u1edf tab t\u1ef1 lu\u1eadn":""!=n.userAnswersObj["id_"+n.question.id]&&n.userAnswersObj["id_"+n.question.id]?a.hc(1,1,n.userAnswersObj["id_"+n.question.id]):"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin.",a.Dc)}}function et(t,e){if(1&t&&(a.Pb(0,"div",24),a.gc(1,"formatLineBreak")),2&t){var n=a.fc(2);a.mc("innerHtml",""!=n.userAnswersObj["id_"+n.question.id]&&n.userAnswersObj["id_"+n.question.id]?a.hc(1,1,n.userAnswersObj["id_"+n.question.id]):"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin.",a.Dc)}}function nt(t,e){if(1&t&&(a.Nc(0,tt,2,3,"div",21),a.Nc(1,et,2,3,"div",22)),2&t){var n=a.fc();a.mc("ngIf",3==n.question.answerType),a.Cb(1),a.mc("ngIf",3==n.question.answerType)}}var it,st=["*"],at=((it=function(){function t(e,i,s,o,c){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=o,this.apiService=c,this.userAnswersObj={},this.question={},this.examConfig={},this.place="multiple_choice",this.statusResult=new a.o,this.key="",this.keys=[],this.labelArr=[],this.isFillAnswer=!1}return s(t,[{key:"showExplainQuestion",value:function(t){}},{key:"isKey",value:function(t){return!!this.question.answerResult&&(t.key?t.key==this.question.answerResult[0]:t==this.question.answerResult[0])}},{key:"isChosen",value:function(t){return!!this.userAnswersObj["id_"+this.question.id]&&(t.key?t.key.toString()==this.userAnswersObj["id_"+this.question.id]:t.toString()==this.userAnswersObj["id_"+this.question.id])}},{key:"findKey",value:function(){if(this.question.answerResult)for(var t=0;t<this.labelArr.length;t++)if(this.question.answerResult[0]==this.labelArr[t].key&&this.labelArr[t].alpha){this.key=this.labelArr[t].alpha;break}}},{key:"actionIsFillAnswer",value:function(t){return void 0!==t&&!!this.userAnswersObj["id_"+this.question.id]&&this.commonService.funcConvertFillAns(t.toString())===this.commonService.funcConvertFillAns(this.userAnswersObj["id_"+this.question.id])}},{key:"ngOnInit",value:function(){if(this.isFillAnswer=!1,this.question.answerResult&&(this.key=this.question.answerResult[0]),1!=this.question.isImage||this.question.name.startsWith("[PDFv2]")||(this.labelArr=this.question.answerConfig.answer),(0==this.question.isImage||this.question.name.startsWith("[PDFv2]"))&&(this.labelArr=this.question.answerConfig,this.findKey()),1===this.question.answerType)for(var t=0;t<this.labelArr.length&&(this.isFillAnswer=this.isKey(this.labelArr[t])&&this.isChosen(this.labelArr[t]),!0!==this.isFillAnswer);t++);if(4===this.question.answerType&&this.question.answerResult&&this.question.answerResult.length>0){this.keys=this.question.answerResult;for(var e=0;e<this.keys.length;e++)if(this.actionIsFillAnswer(this.keys[e])){this.isFillAnswer=!0;break}}this.statusResult.emit(this.isFillAnswer)}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||it)(a.Ob(o.a),a.Ob(o.i),a.Ob(c.a),a.Ob(r.e),a.Ob(l.a))},it.\u0275cmp=a.Ib({type:it,selectors:[["azt-answer-box"]],inputs:{userAnswersObj:"userAnswersObj",question:"question",examConfig:"examConfig",place:"place"},outputs:{statusResult:"statusResult"},ngContentSelectors:st,decls:5,vars:4,consts:[[4,"ngIf"],["class","answer-box answer-box-type2 ml-auto",4,"ngIf"],[3,"ngIf"],["class","answer-box-type1 row pl-0 pr-0 ml-0 mr-0",4,"ngIf"],[1,"answer-box-type1","row","pl-0","pr-0","ml-0","mr-0"],[1,"keyText","my-1",3,"ngStyle"],[1,"answer-box","ml-auto","my-1",3,"ngStyle"],["class","label-item",4,"ngFor","ngForOf"],[1,"label-item"],["style","color: #00ac33;",4,"ngIf"],[1,"lalala"],["style","color: red;",4,"ngIf"],[2,"color","red"],[2,"color","#00ac33"],["class","keyText my-1",3,"ngStyle",4,"ngIf"],[1,"answer-box","ml-auto","my-1",2,"padding","0",3,"ngStyle"],[1,"text-answer"],["class","keyText my-1 ml-2",4,"ngIf"],[1,"answer-box","ml-auto","my-1",2,"border-color","00ac33"],[1,"keyText","my-1","ml-2"],[1,"answer-box","answer-box-type2","ml-auto"],["class","answer-box answer-box-type3 ml-auto notForPdfExport",3,"innerHtml",4,"ngIf"],["class","answer-box answer-box-type3 ml-auto forPdfExport",3,"innerHtml",4,"ngIf"],[1,"answer-box","answer-box-type3","ml-auto","notForPdfExport",3,"innerHtml"],[1,"answer-box","answer-box-type3","ml-auto","forPdfExport",3,"innerHtml"]],template:function(t,e){1&t&&(a.lc(),a.kc(0),a.Nc(1,L,3,2,"div",0),a.Nc(2,X,3,2,"div",0),a.Nc(3,Z,1,0,"div",1),a.Nc(4,nt,2,2,"ng-template",2)),2&t&&(a.Cb(1),a.mc("ngIf",e.examConfig.isRoleTeacher),a.Cb(1),a.mc("ngIf",!e.examConfig.isRoleTeacher),a.Cb(1),a.mc("ngIf",2==e.question.answerType),a.Cb(1),a.mc("ngIf",""!=e.userAnswersObj["id_"+e.question.id]||e.userAnswersObj["id_"+e.question.id]))},directives:[u.m,u.n,u.l,M.a],pipes:[b.e],styles:[".answer-box-type1[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-box-type1[_ngcontent-%COMP%]   .keyText[_ngcontent-%COMP%]{font-weight:500;font-size:18px;flex:auto;text-align:right;margin-right:15px}.answer-box[_ngcontent-%COMP%]{width:300px;display:flex;justify-content:space-between;background-color:#f7f7f7;padding:10px;border:1px solid #f1f1f1;border-radius:3px}.answer-box[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%]{font-weight:500;display:flex;align-items:center;font-size:18px;width:40px;justify-content:flex-end}.answer-box.answer-box-type3[_ngcontent-%COMP%]{width:calc(100% - 100px)}.text-answer[_ngcontent-%COMP%]{width:100%;min-height:40px;max-height:120px;overflow:auto;padding:10px}textarea[_ngcontent-%COMP%]:focus{border:none!important}.forPdfExport[_ngcontent-%COMP%]{display:none}.ans-4[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}@media screen and (max-width:480px){.answer-box[_ngcontent-%COMP%]{width:auto}.text-answer[_ngcontent-%COMP%]{width:180px;max-height:auto}}"]}),it),ot=i("Vwpm");function ct(t,e){if(1&t&&(a.Ub(0,"div",3),a.Pb(1,"azt-loaded-img",4),a.Tb()),2&t){var n=a.fc();a.Cb(1),a.mc("imgSrc",n.question.answerMedia)}}function rt(t,e){if(1&t&&a.Pb(0,"div",5),2&t){var n=a.fc();a.mc("innerHtml",n.question.answerMedia,a.Dc)}}var lt,ut=((lt=function(){function t(e,i,s,a,o){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=a,this.apiService=o,this.question={}}return s(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnchanges",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||lt)(a.Ob(o.a),a.Ob(o.i),a.Ob(c.a),a.Ob(r.e),a.Ob(l.a))},lt.\u0275cmp=a.Ib({type:lt,selectors:[["azt-explain-box"]],inputs:{question:"question"},decls:3,vars:3,consts:[[1,"alert","alert-info",3,"id"],["style"," width: 100%; overflow: auto; ",4,"ngIf"],["style"," width: 100%; overflow: auto; ",3,"innerHtml",4,"ngIf"],[2,"width","100%","overflow","auto"],[3,"imgSrc"],[2,"width","100%","overflow","auto",3,"innerHtml"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Nc(1,ct,2,1,"div",1),a.Nc(2,rt,1,1,"div",2),a.Tb()),2&t&&(a.nc("id","explain_"+e.question.id),a.Cb(1),a.mc("ngIf",1==e.question.isImage),a.Cb(1),a.mc("ngIf",0==e.question.isImage))},directives:[u.m,ot.a],styles:[""]}),lt);function bt(t,e){if(1&t&&a.Pb(0,"azt-question-pdf-item",6),2&t){var n=a.fc();a.mc("examConfig",n.examConfig)("question",n.question)("examObj",n.examObj)("index",n.index)}}function mt(t,e){if(1&t&&a.Pb(0,"azt-question-docx-item",7),2&t){var n=a.fc();a.mc("question",n.question)("index",n.index)}}var ft=function(t){return{visibility:t}};function dt(t,e){if(1&t){var n=a.Vb();a.Ub(0,"span",10),a.bc("click",function(){return a.Cc(n),a.fc(2).showExplain()}),a.Pc(1," Gi\u1ea3i th\xedch "),a.Ub(2,"mat-icon"),a.Pc(3),a.Tb(),a.Tb()}if(2&t){var i=a.fc(2);a.mc("ngStyle",a.rc(2,ft,i.question.answerMedia||""!=i.question.answerMedia?"visible":"hidden")),a.Cb(3),a.Qc(i.isShowExplain?"expand_less":"expand_more")}}var gt=function(t){return{"justify-content":t}};function ht(t,e){if(1&t){var n=a.Vb();a.Ub(0,"azt-answer-box",8),a.bc("statusResult",function(t){return a.Cc(n),a.fc().returnStatusResult(t)}),a.Nc(1,dt,4,4,"span",9),a.Tb()}if(2&t){var i=a.fc();a.mc("question",i.question)("userAnswersObj",i.userAnswersObj)("place",i.place)("examConfig",i.examConfig)("ngStyle",a.rc(6,gt,2==i.configExam.whenShowAnswer?"flex-end":"space-between")),a.Cb(1),a.mc("ngIf",2!=i.configExam.whenShowAnswer)}}function pt(t,e){if(1&t){var n=a.Vb();a.Ub(0,"azt-answer-box",11),a.bc("statusResult",function(t){return a.Cc(n),a.fc().returnStatusResult(t)}),a.Ub(1,"span",10),a.bc("click",function(){return a.Cc(n),a.fc().showExplain()}),a.Pc(2," Gi\u1ea3i th\xedch "),a.Ub(3,"mat-icon"),a.Pc(4),a.Tb(),a.Tb(),a.Tb()}if(2&t){var i=a.fc();a.mc("question",i.question)("userAnswersObj",i.userAnswersObj)("place",i.place)("examConfig",i.examConfig),a.Cb(1),a.mc("ngStyle",a.rc(6,ft,i.question.answerMedia||""!=i.question.answerMedia?"visible":"hidden")),a.Cb(3),a.Qc(i.isShowExplain?"expand_less":"expand_more")}}function vt(t,e){if(1&t&&a.Pb(0,"azt-explain-box",12),2&t){var n=a.fc();a.mc("question",n.question)}}var xt,Ct=((xt=function(){function t(e,i,s,o,c){n(this,t),this.activeRoute=e,this.router=i,this.commonService=s,this.localize=o,this.apiService=c,this.question={},this.examObj={},this.userAnswersObj={},this.configExam={},this.index=0,this.place="multiple_choice",this.statusResult=new a.o,this.isShowExplain=!1,this.examConfig={}}return s(t,[{key:"showExplain",value:function(){this.isShowExplain=!this.isShowExplain}},{key:"checkResultAns",value:function(){}},{key:"returnStatusResult",value:function(t){this.statusResult.emit(t)}},{key:"ngOnInit",value:function(){this.examConfig=this.configExam,this.examConfig.isRoleTeacher=this.question.isRoleTeacher}},{key:"ngOnDestroy",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xt)(a.Ob(o.a),a.Ob(o.i),a.Ob(c.a),a.Ob(r.e),a.Ob(l.a))},xt.\u0275cmp=a.Ib({type:xt,selectors:[["azt-question-item"]],inputs:{question:"question",examObj:"examObj",userAnswersObj:"userAnswersObj",configExam:"configExam",index:"index",place:"place"},outputs:{statusResult:"statusResult"},decls:6,vars:6,consts:[[1,"question-item-box",3,"id"],[3,"examConfig","question","examObj","index",4,"ngIf"],[3,"question","index",4,"ngIf"],["style","padding-right: 30px;",3,"question","userAnswersObj","place","examConfig","ngStyle","statusResult",4,"ngIf"],["style","padding-right: 30px;",3,"question","userAnswersObj","place","examConfig","statusResult",4,"ngIf"],[3,"question",4,"ngIf"],[3,"examConfig","question","examObj","index"],[3,"question","index"],[2,"padding-right","30px",3,"question","userAnswersObj","place","examConfig","ngStyle","statusResult"],["class","explainTxt clickable",3,"ngStyle","click",4,"ngIf"],[1,"explainTxt","clickable",3,"ngStyle","click"],[2,"padding-right","30px",3,"question","userAnswersObj","place","examConfig","statusResult"],[3,"question"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Nc(1,bt,1,4,"azt-question-pdf-item",1),a.Nc(2,mt,1,2,"azt-question-docx-item",2),a.Nc(3,ht,2,8,"azt-answer-box",3),a.Nc(4,pt,5,8,"azt-answer-box",4),a.Nc(5,vt,1,1,"azt-explain-box",5),a.Tb()),2&t&&(a.mc("id","question_item_box_"+e.question.id),a.Cb(1),a.mc("ngIf",1==e.question.isImage),a.Cb(1),a.mc("ngIf",0==e.question.isImage),a.Cb(1),a.mc("ngIf",!e.question.isRoleTeacher),a.Cb(1),a.mc("ngIf",e.question.isRoleTeacher),a.Cb(1),a.mc("ngIf",e.isShowExplain))},directives:[u.m,O,I,at,u.n,M.a,ut],styles:["azt-answer-box[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:10px}.explainTxt[_ngcontent-%COMP%], azt-answer-box[_ngcontent-%COMP%]{display:flex;align-items:center}.explainTxt[_ngcontent-%COMP%]{width:125px;color:#42aba2;font-weight:500}.question-item-box[_ngcontent-%COMP%]{display:block}"]}),xt)},s65G:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i("fXoL"),o=function(){var t=function(){function t(){n(this,t),this.labelsImg=new Image}return s(t,[{key:"drawMixQuestion",value:function(t,e){var n=this;e.forEach(function(t){1==t.isImage&&(t.mixDataImg="assets/images/question_placeholder.jpg")}),this.labelsImg.crossOrigin="anonymous",this.labelsImg.onload=function(){for(var t=0;t<e.length;t++)1==e[t].isImage&&(1==e[t].answerType?n.prepareImageToDrawForType1(e[t].answerConfig,e[t].questionContent[0],t,e):n.prepareImageForOtherTypes(e[t].questionContent[0],t,e))},this.labelsImg.src=t}},{key:"prepareImageToDrawForType1",value:function(t,e,n,i){var s=this,a=1+t.length,o=0,c=new Image;c.crossOrigin="anonymous",c.onload=function(){++o==a&&s.drawEachQuestion(t,e,n,c,r,i)},c.src=e.metaData.question.url;for(var r=[],l=0;l<t.length;l++)r[l]=new Image,r[l].crossOrigin="anonymous",r[l].onload=function(){++o==a&&s.drawEachQuestion(t,e,n,c,r,i)},r[l].src=t[l].content}},{key:"prepareImageForOtherTypes",value:function(t,e,n){var i=this,s=document.createElement("canvas");s.width=t.metaData.question.width+10,s.height=t.metaData.question.height;var a=s.getContext("2d"),o=new Image;o.crossOrigin="anonymous",o.onload=function(){null==a||a.drawImage(o,10,0),null==a||a.drawImage(i.labelsImg,t.questionLabelMap[e].left,t.questionLabelMap[e].top,t.questionLabelMap[e].width,t.questionLabelMap[e].height,t.metaData.question.remove.x,t.metaData.question.remove.y,t.questionLabelMap[e].width,t.questionLabelMap[e].height),n[e].mixDataImg=s.toDataURL("image/png")},o.src=t.metaData.question.url}},{key:"drawEachQuestion",value:function(t,e,n,i,s,a){var o=document.createElement("canvas");o.width=e.metaData.question.width+10,o.height=e.metaData.question.height;var c=o.getContext("2d");null==c||c.drawImage(i,10,0),null==c||c.drawImage(this.labelsImg,e.questionLabelMap[n].left,e.questionLabelMap[n].top,e.questionLabelMap[n].width,e.questionLabelMap[n].height,e.metaData.question.remove.x,e.metaData.question.remove.y,e.questionLabelMap[n].width,e.questionLabelMap[n].height);var r,l,u=s[0],b=0,m=e.metaData.answers[0].x;r=m,b=m+u.width,l=m+u.width,null==c||c.drawImage(u,m,e.metaData.answers[0].y),null==c||c.drawImage(this.labelsImg,e.abcdLabelPos[t[0].alpha?t[0].alpha:t[0].key].left,e.abcdLabelPos[t[0].alpha?t[0].alpha:t[0].key].top,e.metaData.answers[0].remove.width,e.metaData.answers[0].remove.height,e.metaData.answers[0].remove.x,e.metaData.answers[0].remove.y,e.metaData.answers[0].remove.width,e.metaData.answers[0].remove.height);for(var f=1;f<t.length;f++){var d=e.metaData.answers[f].x,g=e.metaData.answers[f].y;if(r+30<d){var h=[l,b];d<Math.max.apply(Math,h)&&(d=Math.max.apply(Math,h),e.metaData.answers[f].remove.x=Math.max.apply(Math,h)),b+=s[f].width}else b=r+s[f].width;null==c||c.drawImage(s[f],d,g),null==c||c.drawImage(this.labelsImg,e.abcdLabelPos[t[f].alpha?t[f].alpha:t[f].key].left,e.abcdLabelPos[t[f].alpha?t[f].alpha:t[f].key].top,e.metaData.answers[f].remove.width,e.metaData.answers[f].remove.height,e.metaData.answers[f].remove.x,e.metaData.answers[f].remove.y,e.metaData.answers[f].remove.width,e.metaData.answers[f].remove.height),f==t.length-1&&(a[n].mixDataImg=o.toDataURL("image/png"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();