!function(){function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||a(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function n(e,t){return s(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,c=void 0;try{for(var r,a=e[Symbol.iterator]();!(o=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(s){i=!0,c=s}finally{try{o||null==a.return||a.return()}finally{if(i)throw c}}return n}(e,t)||c(e,t)||i()}function o(e){return s(e)||a(e)||c(e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{fZgH:function(i,c,r){"use strict";r.r(c),r.d(c,"HomeworkModule",function(){return vc});var a=r("ofXK"),s=r("3Pt+"),b=r("0IaG"),m=r("tyNb"),u=r("fB2i"),h=r("IkSl"),g=r("vvyD"),f=r("mYPf"),p=r("Zhhu"),v=r("Avyq"),k=r("AeZ5"),C=r("mrSG"),w=r("quSY"),x=r("tk/3"),_=r("1yaQ"),T=r("FKr1"),y=r("BTbT"),P=r("n1FK"),O=r("3eqI"),U=r("itXk"),S=r("fXoL"),M=r("yTNM"),I=r("gbi4"),j=r("Bjt4"),N=r("nzN9"),D=r("kmnG"),E=r("qFsG"),F=r("bTqV"),H=r("NFeN"),z=r("Qu3c"),L=r("bSwM"),R=r("hZBc"),A=r("wAhq");function B(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function V(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"header-backend",56),S.bc("MenuEvent",function(e){return S.Cc(n),S.fc(2).callbackMenuEvent(e)}),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("menu_objs",o.menu_objs)("headerTitle","Th\xeam b\xe0i t\u1eadp")("back_link","/admin/homework/classes")}}function G(e,t){if(1&e){var n=S.Vb();S.Ub(0,"header-backend",56),S.bc("MenuEvent",function(e){return S.Cc(n),S.fc(2).callbackMenuEvent(e)}),S.Tb()}if(2&e){var o=S.fc(2);S.mc("menu_objs",o.menu_objs)("headerTitle","C\u1eadp nh\u1eadt b\xe0i t\u1eadp")("back_link",o.backLink)}}function W(e,t){1&e&&(S.Ub(0,"div"),S.Pc(1,"** T\xean b\xe0i t\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),S.Tb())}function J(e,t){if(1&e&&(S.Ub(0,"div",57),S.Ub(1,"div"),S.Ub(2,"div",58),S.Ub(3,"div",59),S.Nc(4,W,2,0,"div",55),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc(2);S.Cb(4),S.mc("ngIf",n.f.nameExam.errors.required)}}function $(e,t){1&e&&(S.Ub(0,"span"),S.Pc(1,"OK"),S.Tb())}function Y(e,t){1&e&&(S.Ub(0,"div",60),S.Ub(1,"div",61),S.Ub(2,"span",62),S.Pc(3,"Loading..."),S.Tb(),S.Tb(),S.Tb())}function Q(e,t){1&e&&(S.Ub(0,"div",63),S.Pc(1,"Ch\u1ee5p \u1ea3nh b\xe0i t\u1eadp ho\u1eb7c ch\u1ecdn file word, pdf, audio, video c\xf3 s\u1eb5n"),S.Tb())}function q(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"div"),S.Ub(2,"button",64),S.bc("click",function(){S.Cc(n);var e=t.index;return S.fc(2).formHomwork.files.splice(e,1)}),S.Ub(3,"mat-icon",65),S.Pc(4,"close"),S.Tb(),S.Tb(),S.Ub(5,"a",66),S.bc("click",function(e){S.Cc(n);var o=t.$implicit;return S.fc(2).onShowFile(e,o,-1)}),S.Ub(6,"span",67),S.Pc(7),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(6),S.mc("title",o.name),S.Cb(1),S.Qc(o.name)}}function K(e,t){if(1&e&&(S.Ub(0,"div",68),S.Pc(1," \u0110ang s\u1eeda b\xe0i t\u1eadp cho l\u1edbp: "),S.Ub(2,"span",69),S.Pc(3),S.Tb(),S.Tb()),2&e){var n=S.fc(2);S.Cb(3),S.Rc(" ",n.classroomObjByHomework.name,"")}}function X(e,t){1&e&&(S.Ub(0,"div",68),S.Pc(1," Ch\u1ecdn l\u1edbp mu\u1ed1n giao b\xe0i "),S.Tb())}function Z(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"a",72),S.bc("click",function(){return S.Cc(n),S.fc(3).checkAllCheckBox()}),S.Pc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),S.Tb(),S.Tb()}}function ee(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",72),S.bc("click",function(){return S.Cc(n),S.fc(3).clearAllCheckBox()}),S.Pc(1," B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3 "),S.Tb()}}function te(e,t){if(1&e&&(S.Ub(0,"div",70),S.Nc(1,Z,3,0,"div",0),S.Nc(2,ee,2,0,"ng-template",null,71,S.Oc),S.Tb()),2&e){var n=S.yc(3),o=S.fc(2);S.Cb(1),S.mc("ngIf",0==o.isCheckAll)("ngIfElse",n)}}function ne(e,t){if(1&e&&(S.Ub(0,"span",78),S.Pc(1),S.gc(2,"slice"),S.Tb()),2&e){var n=S.fc().index,o=S.fc(3);S.nc("matTooltip",o.classroomObj[n].name),S.Cb(1),S.Qc(S.jc(2,2,o.classroomObj[n].name,0,25)+"..")}}function oe(e,t){if(1&e&&(S.Ub(0,"span"),S.Pc(1),S.Tb()),2&e){var n=S.fc().index,o=S.fc(3);S.Cb(1),S.Qc(o.classroomObj[n].name)}}function ie(e,t){if(1&e&&(S.Ub(0,"div",75),S.Ub(1,"mat-checkbox",76),S.Nc(2,ne,3,6,"span",77),S.Nc(3,oe,2,1,"span",55),S.Tb(),S.Tb()),2&e){var n=t.index,o=S.fc(3);S.Cb(1),S.nc("value",o.classroomObj[n].id),S.mc("formControlName",n),S.Cb(1),S.mc("ngIf",o.classroomObj[n].name.length>25),S.Cb(1),S.mc("ngIf",o.classroomObj[n].name.length<=25)}}function ce(e,t){if(1&e&&(S.Ub(0,"div",73),S.Nc(1,ie,4,4,"div",74),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.mc("ngForOf",n.form.controls.classroomIds.controls)}}function re(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"button",79),S.bc("click",function(){return S.Cc(n),S.fc(2).saveHomeworkProgress()}),S.Pc(2,"L\u01b0u"),S.Tb(),S.Ub(3,"a",80),S.bc("click",function(){return S.Cc(n),S.fc(2).redirectClasses()}),S.Pc(4,"H\u1ee7y"),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("disabled",o.form.invalid)}}function ae(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",79),S.bc("click",function(){return S.Cc(n),S.fc(2).updateHomeworkProgress()}),S.Pc(1,"C\u1eadp nh\u1eadt"),S.Tb(),S.Ub(2,"a",80),S.bc("click",function(){return S.Cc(n),S.fc(2).redirectBack()}),S.Pc(3,"H\u1ee7y"),S.Tb()}if(2&e){var o=S.fc(2);S.mc("disabled",o.f.nameExam.errors)}}function se(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"azt-preview-media",81),S.bc("closePreview",function(){return S.Cc(n),S.fc(2).onFileClose()}),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("fileOption",o.previewFile)}}var le=function(){return{standalone:!0}},be=function(){return[]},de=function(e){return{height:250,menubar:!1,plugins:e,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}};function me(e,t){if(1&e){var n=S.Vb();S.Nc(0,V,2,3,"div",0),S.Nc(1,G,1,3,"ng-template",null,2,S.Oc),S.Ub(3,"form",3),S.Ub(4,"div",4),S.Ub(5,"div",5),S.Ub(6,"div",6),S.Ub(7,"div",7),S.Ub(8,"div",8),S.Ub(9,"p",9),S.Pc(10,"T\xean b\xe0i t\u1eadp"),S.Tb(),S.Tb(),S.Ub(11,"div",10),S.Pb(12,"input",11),S.Tb(),S.Ub(13,"div",12),S.Nc(14,J,5,1,"div",13),S.Tb(),S.Tb(),S.Ub(15,"div",7),S.Ub(16,"div",8),S.Ub(17,"p",9),S.Pc(18,"H\u1ea1n n\u1ed9p"),S.Tb(),S.Tb(),S.Ub(19,"div",14),S.Ub(20,"div",15),S.Ub(21,"div",16),S.Ub(22,"div",17),S.Ub(23,"mat-form-field",18),S.Ub(24,"input",19),S.bc("click",function(){return S.Cc(n),S.yc(29).open()}),S.Tb(),S.Ub(25,"button",20),S.bc("click",function(e){return S.Cc(n),S.yc(29).open(),e.stopPropagation()}),S.Ub(26,"mat-icon"),S.Pc(27,"today"),S.Tb(),S.Tb(),S.Ub(28,"ngx-mat-datetime-picker",null,21),S.Nc(30,$,2,0,"ng-template"),S.Tb(),S.Tb(),S.Tb(),S.Ub(31,"div",22),S.Ub(32,"div",23),S.Ub(33,"div"),S.Ub(34,"a",24),S.bc("click",function(){return S.Cc(n),S.fc().clearTime()}),S.Ub(35,"mat-icon",25),S.Pc(36,"cancel"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(37,"div",26),S.Pc(38,"* B\u1ecf tr\u1ed1ng n\u1ebfu kh\xf4ng gi\u1edbi h\u1ea1n th\u1eddi gian n\u1ed9p b\xe0i"),S.Tb(),S.Tb(),S.Ub(39,"div",27),S.Ub(40,"div",28),S.Ub(41,"div",12),S.Ub(42,"div",29),S.Ub(43,"input",30,31),S.bc("change",function(e){return S.Cc(n),S.fc().onFileSelected(e)}),S.Tb(),S.Ub(45,"a",32),S.bc("click",function(){return S.Cc(n),S.yc(44).click()}),S.Ub(46,"span"),S.Pc(47,"+ Th\xeam file b\xe0i t\xe2p"),S.Tb(),S.Tb(),S.Nc(48,Y,4,0,"div",33),S.Nc(49,Q,2,0,"div",34),S.Nc(50,q,8,2,"div",35),S.Tb(),S.Tb(),S.Tb(),S.Ub(51,"div",36),S.Ub(52,"editor",37),S.bc("ngModelChange",function(e){return S.Cc(n),S.fc().formHomwork.content=e}),S.Tb(),S.Tb(),S.Tb(),S.Ub(53,"div",38),S.Ub(54,"div",29),S.Ub(55,"mat-checkbox",39),S.Pc(56," Y\xeau c\u1ea7u h\u1ecdc sinh \u0111\u0103ng nh\u1eadp m\u1edbi \u0111\u01b0\u1ee3c n\u1ed9p b\xe0i "),S.Tb(),S.Tb(),S.Ub(57,"div",40),S.Ub(58,"mat-checkbox",41),S.Pc(59," Kh\xf4ng cho h\u1ecdc sinh xem k\u1ebft qu\u1ea3 "),S.Tb(),S.Tb(),S.Tb(),S.Ub(60,"div",38),S.Ub(61,"div",42),S.Ub(62,"div",12),S.Nc(63,K,4,1,"div",43),S.Nc(64,X,2,0,"div",43),S.Nc(65,te,4,2,"div",44),S.Tb(),S.Tb(),S.Nc(66,ce,2,1,"div",45),S.Tb(),S.Ub(67,"div",46),S.Ub(68,"div",47),S.Nc(69,re,5,1,"div",0),S.Nc(70,ae,4,1,"ng-template",null,48,S.Oc),S.Tb(),S.Tb(),S.Tb(),S.Ub(72,"div",49),S.Ub(73,"div",50),S.Ub(74,"div",51),S.Ub(75,"p",52),S.Pc(76," Th\u01b0 vi\u1ec7n b\xe0i t\u1eadp "),S.Tb(),S.Ub(77,"small"),S.Pc(78," K\xe9o th\u1ea3 b\xe0i t\u1eadp trong th\u01b0 vi\u1ec7n v\xe0o khung b\xean ph\u1ea3i \u0111\u1ec3 giao b\xe0i "),S.Tb(),S.Tb(),S.Ub(79,"div",53),S.Ub(80,"p",54),S.Pc(81," T\xednh n\u0103ng \u0111ang ph\xe1t tri\u1ec3n. "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(82,se,2,1,"div",55)}if(2&e){var o=S.yc(2),i=S.yc(29),c=S.yc(71),r=S.fc();S.mc("ngIf",0==r.isCheckUpdate)("ngIfElse",o),S.Cb(3),S.mc("formGroup",r.form),S.Cb(11),S.mc("ngIf",r.f.nameExam.errors),S.Cb(10),S.mc("ngxMatDatetimePicker",i),S.Cb(19),S.mc("ngModelOptions",S.qc(19,le)),S.Cb(5),S.mc("ngIf",r.loadingUpload),S.Cb(1),S.mc("ngIf",!r.formHomwork.files||0==r.formHomwork.files.length),S.Cb(1),S.mc("ngForOf",r.formHomwork.files),S.Cb(2),S.mc("ngModel",r.formHomwork.content)("ngModelOptions",S.qc(20,le))("init",S.rc(22,de,S.qc(21,be))),S.Cb(11),S.mc("ngIf",1==r.isCheckUpdate),S.Cb(1),S.mc("ngIf",0==r.isCheckUpdate),S.Cb(1),S.mc("ngIf",0==r.isCheckUpdate),S.Cb(1),S.mc("ngIf",0==r.isCheckUpdate),S.Cb(3),S.mc("ngIf",0==r.isCheckUpdate)("ngIfElse",c),S.Cb(13),S.mc("ngIf",r.isShowPreviewFile)}}var ue,he={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY HH:mm:00",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},ge=((ue=function(){function e(t,n,o,i,c,r,a,b,d,m){var u=this;l(this,e),this._adapter=t,this.activeRoute=n,this.apiService=o,this.location=i,this.router=c,this.dialog=r,this.commonService=a,this.myPdfService=b,this.localizeService=d,this.fb=m,this.classroomIdParram=+this.commonService.getMyParam(this.activeRoute,"id"),this.isLoading=!0,this.isLoadingMini=!0,this.class={},this.findedHomework=!1,this.subscriptions=new w.a,this.form=new s.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.hasChild=!1,this.checkEditor=!1,this.isEdit=!1,this.currentChild="",this.panelOpenState=!0,this.listHomework=[],this.formHomwork={},this.answersHomework=[],this.studentsClass=[],this.previewFile={},this.isShowPreviewFile=!1,this.oldScroll=0,this.removeID=!1,this.EditIndex=0,this.isSendNote=!1,this.isLoadingdata=!1,this.uploadProgress=-1,this.isClickDelete=!1,this.isClickEdit=!1,this.LogErrorsRequest=!1,this.isSortDateStudents=0,this.isChoseExam=!1,this.linkLoadFrameEmbed="",this.titleLoadFrameEmbed="",this.isLoadFrameEmbed=!1,this.nameClassroom="",this.regex=/(<([^>]+)>)/gi,this.menu_objs=[],this.isShowSeconds=!1,this.mustVerify=0,this.saveConfig=0,this.checkData=!0,this.classroomObj="",this.isCheckAll=!1,this.isCheckUpdate=!1,this.backLink="",this.listIds="",this.loadingUpload=!1,this.contentBase64Count=0,this.homeWorkContent="",this.newListUrls=[],this.convertBlobToBase64=function(e){return Object(C.a)(u,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",function(){var e=document.createElement("canvas"),o=e.getContext("2d");e.width=this.width,e.height=this.height,o.drawImage(n,0,0);var i=e.toDataURL("image/png");t(i)},!1),n.src=e}));case 1:case"end":return t.stop()}},t)}))}}return d(e,[{key:"disableScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollLeft,t=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=function(){window.scrollTo(e,t)}}},{key:"enableScroll",value:function(){window.onscroll=function(){}}},{key:"json2Array",value:function(e){var t,n=[];t=Object.values(e);for(var o=0;o<t.length;o++)n.push(t[o].id);return n}},{key:"onFileClose",value:function(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile=null}},{key:"onShowFile",value:function(e,t,n){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},t),{index:n})}},{key:"previewExam",value:function(e){var t="".concat(e.link_preview,"&azo_token=").concat(this.apiService.getToken(),"&frame_open=true");this.linkLoadFrameEmbed=t,this.titleLoadFrameEmbed="Chi ti\u1ebft \u0111\u1ec1 thi: "+e.title,this.isLoadFrameEmbed=!0}},{key:"openRemove",value:function(e){this.removeID={data:this.listHomework[e],index:e}}},{key:"callbackMenuEvent",value:function(e){}},{key:"convertFullNumber",value:function(e){return e>=10?e:"0"+e}},{key:"openEdit",value:function(e){this.formHomwork=Object.assign({},this.listHomework[e]),this.isEdit=!0,this.EditIndex=e,this.checkEditor=!0,window.scrollTo(0,0)}},{key:"removeAction",value:function(){var e=this;this.isLoading=!0,this.apiService.DeleteHomework(this.removeID.data.id).subscribe(function(t){1==t.success?(e.listHomework.splice(e.removeID.index,1),e.commonService.snackSuccess("X\xf3a th\xe0nh c\xf4ng b\xe0i t\u1eadp.","")):e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}),e.isLoading=!1,e.removeID=!1})}},{key:"expandedFirstListHomework",value:function(e){for(var t=this,n=0;n<this.listHomework.length;n++)this.listHomework[n].expanded=!1;-1!=e&&this.listHomework.length>0&&(this.listHomework[e].expanded=!0,setTimeout(function(){jQuery("html, body").animate({scrollTop:t.oldScroll},50),t.oldScroll=0},500))}},{key:"expandedListHomework",value:function(e){for(var t=0;t<this.listHomework.length;t++)this.listHomework[t].expanded=!1;-1!=e&&this.listHomework.length>0&&(this.listHomework[e].expanded=!0)}},{key:"disabledListHomework",value:function(e){this.listHomework[e].expanded=!1}},{key:"openFormHomework",value:function(){this.checkEditor=!0,this.isEdit=!1,this.formHomwork={}}},{key:"checkLengthAndImgContent",value:function(e){return e.length<=2e4&&!e.includes("<img src")}},{key:"findAllSubString",value:function(e,t){for(var n=0,o=0,i=[];(o=e.indexOf(t,n))>-1;)i.push(o),n=o+t.length;return i}},{key:"getTypeFile",value:function(e){var t=e.indexOf(";");return e.substring(5,t)}},{key:"getFileName",value:function(e){var t=e.split("").reverse().join(""),n=t.indexOf(";"),o=t.indexOf("/",n);return t.substring(n,o).split("").reverse().join("")}},{key:"onFileSelected",value:function(e){var t=this,n=e.target.files,o=!!n&&n[0];0!=o&&(this.loadingUpload=!0,this.uploadProgress=0,Object(y.a)(o).then(function(e){t.apiService.uploadToCdnProgress(e).subscribe(function(e){0==e.success?(t.loadingUpload=!1,t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")):1==e.success&&(e.type&&e.type==x.c.UploadProgress?t.uploadProgress=Math.round(e.loaded/e.total*100):e.successUpload&&1==e.successUpload&&(Array.isArray(t.formHomwork.files)||(t.formHomwork.files=[]),t.formHomwork.files.push(Object.assign({},e.data)),t.loadingUpload=!1,t.uploadProgress=-1))},function(e){t.LogErrorsRequest=JSON.stringify(e)})}))}},{key:"redirectBack",value:function(){this.commonService.myNavigation(this.backLink)}},{key:"clearAllCheckBox",value:function(){this.form.get("classroomIds").controls.forEach(function(e){e.setValue(!1)}),this.isCheckAll=!1}},{key:"checkAllCheckBox",value:function(){this.form.get("classroomIds").controls.forEach(function(e){e.setValue(!0)}),this.isCheckAll=!0}},{key:"checkIsChosen",value:function(e,t){if(null==t)for(var n=0;n<e.length;n++)this.addNewCheckBox(!1);else for(n=0;n<e.length;n++){for(var o=!1,i=0;i<t.length;i++)e[n].id==t[i].classroomId&&(o=!0);this.addNewCheckBox(o)}}},{key:"redirectClasses",value:function(){this.commonService.myNavigation("/admin/homework/classes")}},{key:"redirectToSuccess",value:function(e){this.commonService.myNavigation("/admin/homework/create-homework-success/"+e)}},{key:"addNewCheckBox",value:function(e){var t=new s.h(e);this.form.get("classroomIds").push(t)}},{key:"clearTime",value:function(){this.form.controls.deadlineHomework.setValue("")}},{key:"startUploadBlobFile",value:function(e,t){var n=this;if(t&&""!=t){var o=this.getTypeFile(t),i=this.myPdfService.b64toFile(t,this.getFileName(o),o);Object(y.a)(i).then(function(t){n.apiService.uploadToCdn(t).subscribe(function(t){if(1==t.success){var o=Object.assign(Object.assign({},e),{newUrl:t.data.url});n.newListUrls.push(o),n.contentBase64Count-=1,0==n.contentBase64Count&&n.changeContent()}else n.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),n.isLoading=!1},function(e){n.LogErrorsRequest=JSON.stringify(e),n.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),n.isLoading=!1})})}else this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),this.isLoading=!1}},{key:"reUploadBlobFile",value:function(e){var t=this;if(e&&e.length>0){this.contentBase64Count=e.length;for(var n=function(){new FileReader;var n=e[o],i=n.oldUrl.substring(0,n.oldUrl.length-1);t.convertBlobToBase64(i).then(function(e){t.startUploadBlobFile(n,e)})},o=0;o<e.length;o++)n()}else this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),this.isLoading=!1}},{key:"reUploadBase64File",value:function(e){var t=this;if(e&&e.length>0){this.contentBase64Count=e.length;for(var n=function(){var n=e[o],r=n.oldUrl.substring(0,n.oldUrl.length-1);i=t.getTypeFile(r),c=t.myPdfService.b64toFile(r,t.getFileName(i),i),Object(y.a)(c).then(function(e){t.apiService.uploadToCdn(e).subscribe(function(e){if(1==e.success){var o=Object.assign(Object.assign({},n),{newUrl:e.data.url});t.newListUrls.push(o),t.contentBase64Count-=1,0==t.contentBase64Count&&t.changeContent()}else t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),t.isLoading=!1},function(e){t.LogErrorsRequest=JSON.stringify(e),t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),t.isLoading=!1})})},o=0;o<e.length;o++){var i,c;n()}}else this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""),this.isLoading=!1}},{key:"foundImgInContent",value:function(e){var t=this.findAllSubString(e,"<img"),n=[],o=[];t.forEach(function(t){var i=e.indexOf("src=",t),c=e.indexOf('"',Number(i)+5),r=e.substring(Number(i)+5,Number(c)+1);r.includes(";base64")?n.push({oldUrl:r}):r.includes("blob:")&&o.push({oldUrl:r})}),n.length>0?this.reUploadBase64File(n):o.length>0?this.reUploadBlobFile(o):this.changeContent()}},{key:"changeContent",value:function(){var e=this;this.newListUrls.length>0&&this.newListUrls.forEach(function(t){var n=e.homeWorkContent.replace(t.oldUrl,t.newUrl+'" class="w-100 img-fluid"');e.homeWorkContent=n}),this.isCheckUpdate?this.updateHomeWork():this.saveHomework()}},{key:"saveHomeworkProgress",value:function(){this.isLoading=!0,null==JSON.stringify(this.formHomwork.content)||null==JSON.stringify(this.formHomwork.content)?(this.homeWorkContent="",this.saveHomework()):(this.homeWorkContent=this.formHomwork.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.homeWorkContent):this.saveHomework())}},{key:"updateHomeworkProgress",value:function(){this.isLoading=!0,null==JSON.stringify(this.formHomwork.content)||null==JSON.stringify(this.formHomwork.content)?(this.homeWorkContent="",this.updateHomeWork()):(this.homeWorkContent=this.formHomwork.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.formHomwork.content):this.updateHomeWork())}},{key:"saveHomework",value:function(){var e=this,t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(a.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1;var n=t.classroomIds.map(function(t,n){return t?e.classroomObj[n].id:null}).filter(function(e){return null!==e});this.apiService.saveHomeWork(t.nameExam,this.homeWorkContent,t.deadlineHomework,null,JSON.stringify(this.formHomwork.files),t.isCheckLogin,t.dontShowMark,t.whenShowAnswer,0,n).subscribe(function(t){1==t.success?(e.isLoading=!1,e.commonService.snackSuccess("T\u1ea1o b\xe0i t\u1eadp th\xe0nh c\xf4ng.",""),e.listHomeworks=t.data.successSaveHomeworkObjs,e.listHomeworks=e.json2Array(e.listHomeworks),e.listIds=JSON.stringify(e.listHomeworks),e.redirectToSuccess(e.listIds)):(e.isLoading=!1,e.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)}),e.status_obj={loading:!1,error:!0})})}},{key:"updateHomeWork",value:function(){var e=this,t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(a.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00 Z","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1;var n=t.classroomIds.map(function(t,n){return t?e.classroomObj[n].id:null}).filter(function(e){return null!==e});this.apiService.updateHomework(this.homeworkId,t.nameExam,this.homeWorkContent,t.deadlineHomework,null,JSON.stringify(this.formHomwork.files),t.isCheckLogin,t.dontShowMark,t.whenShowAnswer,0,n).subscribe(function(t){1==t.success?(e.isLoading=!1,e.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng.",""),e.redirectBack()):(e.isLoading=!1,e.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)}),e.status_obj={loading:!1,error:!0})})}},{key:"getDataClass",value:function(e){var t=this;this.apiService.getAllClass().subscribe(function(n){1==n.success?(t.classroomObj=n.data,t.checkIsChosen(t.classroomObj,t.classroomData),e(!0)):(t.commonService.snackError(n.message,""),e(!1))})}},{key:"getHomework",value:function(e){var t=this;this.isLoading=!0,this.isCheckUpdate=null!=e&&0!=e&&null!=e,this.getDataClass(function(n){n&&t.isCheckUpdate?t.apiService.getHomework(e).subscribe(function(e){1==e.success?(t.formHomwork.files=t.commonService.parseJson(e.data.homeworkObj.files),t.formHomwork.content=e.data.homeworkObj.content,t.classroomData=e.data.homeworkClassroomObjs,t.classroomObjByHomework=e.data.classroomObj,t.homeworkData=e.data.homeworkObj,t.classId=e.data.classroomObj.id,t.backLink="/admin/homework/score-list/"+t.classId+"/"+t.homeworkId,t.form.patchValue({nameExam:t.homeworkData.name,deadlineHomework:null!=t.homeworkData.deadline?t.homeworkData.deadline:"",isCheckLogin:0!=t.homeworkData.mustVerified,dontShowMark:0!=t.homeworkData.dontShowMark,whenShowAnswer:0!=t.homeworkData.whenShowAnswer}),t.isLoading=!1):(t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)}),t.status_obj={loading:!1,error:!0},t.isLoading=!1)}):t.isLoading=!1})}},{key:"ngOnInit",value:function(){var e=this;Object(U.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){o(t),e.homeworkId=e.commonService.getMyParam(e.activeRoute,"id"),e.getHomework(e.homeworkId)}),this.form=this.fb.group({nameExam:new s.h("",s.z.required),deadlineHomework:new s.h(""),isCheckLogin:new s.h(""),dontShowMark:new s.h(""),whenShowAnswer:new s.h(""),classroomIds:this.fb.array([],fe(1))}),this.form.valueChanges.subscribe(function(t){var n=JSON.stringify(t);n!=e.prevData&&(e.prevData=n,e.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_homework_add_exercise_title",description:"lang_cms_homework_add_exercise_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"f",get:function(){return this.form.controls}}]),e}()).\u0275fac=function(e){return new(e||ue)(S.Ob(T.c),S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(m.i),S.Ob(b.b),S.Ob(I.a),S.Ob(j.a),S.Ob(v.e),S.Ob(s.g))},ue.\u0275cmp=S.Ib({type:ue,selectors:[["app-add-home-work"]],features:[S.Bb([{provide:P.b,useClass:O.a,deps:[T.f,_.a]},{provide:P.a,useValue:he}])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["header",""],[1,"p-3",3,"formGroup"],[1,"container","pb-80"],[1,"row","py-md-4"],[1,"col-md-8","add-homework--form"],[1,"row","m-0","pb-3"],[1,"col-4","col-md-3","add-homework--form__label","text-md-right"],[1,"p-0","m-0"],[1,"col-8","col-md-9","pl-0","pr-0"],["type","text","formControlName","nameExam","placeholder","",1,"form-control","add-homework--form__input"],[1,"row"],["class","col-12 pt-1",4,"ngIf"],[1,"col-8","col-md-9","pl-0","pr-0","add-homework--form__padding"],[1,"add-homework--form__border","d-flex","align-items-center"],[1,"row","m-0","p-0","align-items-center","justify-content-around","homework-box",2,"width","100%"],[1,"col-9","col-md-10","pr-0","pl-0",2,"border","1px solid #ced4da","border-radius","3px"],[1,"myTimePicker","pt-0"],["matInput","","readonly","","formControlName","deadlineHomework",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",2,"font-size","18px",3,"click"],["durationTime",""],[1,"col-2","col-md-1","pl-0","pr-0"],[1,"pl-1","d-flex","align-items-center","justify-content-center",2,"padding-top","3px"],["matTooltip","\u0110\u1eb7t l\u1ea1i th\u1eddi gian",1,"clickable",2,"color","#3f51b5",3,"click"],[2,"vertical-align","middle"],[1,"clearfix","pt-1"],[1,"row","pt-4","m-0"],[1,"col-12","add-homework--form__title","none-top__border","none-bottom__border"],[1,"col-md-12"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3C8DBC",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["style","color: #747373; font-size: 10px;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12","p-0"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],[1,"row","m-0","pt-3"],["color","primary","formControlName","isCheckLogin"],[1,"col-md-6"],["color","primary","formControlName","whenShowAnswer"],[1,"col-12","add-homework--form__title","none-bottom__border"],["class","col-9",4,"ngIf"],["class","col-3 text-right",4,"ngIf"],["class","row m-0 p-0 add-homework--form__content none-top__border","style","width:100%;",4,"ngIf"],[1,"row","m-0","pt-4","pb-3"],[1,"col-12","text-right"],["button",""],[1,"col-md-4","px-00"],[1,"library"],[1,"py-3","text-center"],[1,"m-0","font-weight-bold"],[1,"d-flex","library--content","align-items-center","justify-content-center"],[1,"font-weight-bold","m-0","p-0"],[4,"ngIf"],[3,"menu_objs","headerTitle","back_link","MenuEvent"],[1,"col-12","pt-1"],[1,"text-left"],[1,"text-danger"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[2,"color","#747373","font-size","10px"],[1,"btn","btn-sm",3,"click"],[2,"font-size","15px","padding-top","5px"],[3,"click"],[2,"color","gray",3,"title"],[1,"col-9"],[2,"color","black","font-weight","bold"],[1,"col-3","text-right"],["chosen",""],[1,"clickable",2,"color","#3C8DBC",3,"click"],[1,"row","m-0","p-0","add-homework--form__content","none-top__border",2,"width","100%"],["class","col-sm-6 text-left pl-3 pt-2","formArrayName","classroomIds",4,"ngFor","ngForOf"],["formArrayName","classroomIds",1,"col-sm-6","text-left","pl-3","pt-2"],["color","primary",3,"value","formControlName"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"button-save",3,"disabled","click"],[1,"button-cancel",3,"click"],[3,"fileOption","closePreview"]],template:function(e,t){if(1&e&&(S.Nc(0,B,1,0,"azt-loading-effect",0),S.Nc(1,me,83,24,"ng-template",null,1,S.Oc)),2&e){var n=S.yc(2);S.mc("ngIf",1==t.isLoading)("ngIfElse",n)}},directives:[a.m,N.a,s.B,s.s,s.l,s.d,s.r,s.j,D.d,E.b,P.c,F.b,D.h,H.a,P.d,z.a,a.l,u.a,s.u,L.a,R.a,s.f,A.a],pipes:[a.u],styles:["body[_ngcontent-%COMP%]{overflow-y:auto}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{border:1px solid #ced4da;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__label[_ngcontent-%COMP%], .add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#e9ecef}.add-homework--form__title[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border-radius:4px;height:100%;border:1px solid #ced4da;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.none-top__border[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.none-bottom__border[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 2px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}.files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none;margin:0 -24px}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.files-custom[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important;border-color:rgba(0,0,0,.12)!important}.library[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none;padding:10px}.library--breadcum[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;border:1px solid #f1f1f1;border-bottom:0;border-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.library--breadcum[_ngcontent-%COMP%], .library--content[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:none}.library--content[_ngcontent-%COMP%]{height:100px;background:inherit;background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;border-top-left-radius:0;border-top-right-radius:0;padding:10px}  .mat-checkbox-layout{white-space:normal!important}@media screen and (max-width:768px){.px-00[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-top:12px}}@media screen and (max-width:576px){.button-save[_ngcontent-%COMP%]{padding:8px 16px}}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background{background-color:#3f51b5!important}"]}),ue);function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return t.controls.map(function(e){return e.value}).reduce(function(e,t){return t?e+t:e},0)>=e?null:{required:!0}}}var pe=r("UXJo");function ve(e,t){1&e&&(S.Ub(0,"span",17),S.Pc(1,"M\u1edbi T\u1ea1o"),S.Tb())}function ke(e,t){1&e&&(S.Ub(0,"span",18),S.Pc(1,"M\u1edbi T\u1ea1o"),S.Tb())}var Ce,we=((Ce=function(){function e(t){l(this,e),this.commonService=t,this.isMobile=!1,this.name="",this.dateCreated="",this.deadLine="",this.totalStudent=0,this.totalTakeTest=0,this.homeworkId=0,this.hashId="",this.isNew=0,this.redirectId=new S.o}return d(e,[{key:"handleRedirect",value:function(e){this.redirectId.emit(e)}},{key:"ngOnInit",value:function(){this.checkWidth()}},{key:"checkWidth",value:function(){this.isMobile=window.innerWidth<768}},{key:"copyLinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(this.hashId)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i th\xe0nh c\xf4ng","")}},{key:"onResize",value:function(e){this.isMobile=e.target.innerWidth<768}}]),e}()).\u0275fac=function(e){return new(e||Ce)(S.Ob(I.a))},Ce.\u0275cmp=S.Ib({type:Ce,selectors:[["azt-home-work-file"]],inputs:{name:"name",dateCreated:"dateCreated",deadLine:"deadLine",totalStudent:"totalStudent",totalTakeTest:"totalTakeTest",homeworkId:"homeworkId",hashId:"hashId",isNew:"isNew"},outputs:{redirectId:"redirectId"},decls:30,vars:13,consts:[[1,"row","mx-0","home-work-file","align-items-center","my-2",3,"resize"],[1,"col-9","pr-0","ellipsis-text",3,"click"],[1,"d-flex","align-items-center"],[1,"align-items-center"],["src","https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/images/u416.svg"],[1,"p-2","align-items-center","ellipsis-text"],[1,"home-work-name","font-size-12","ellipsis-text",3,"matTooltip"],[1,"font-size-12","m-0"],["class","badge badge-success ml-2",4,"ngIf"],[1,"p-0","m-0","font-size-12",2,"color","#0EAFC0"],[1,"col-3",2,"cursor","default"],[1,"d-flex","flex-column","text-center"],["class","badge badge-success",4,"ngIf"],[1,"p-0","m-0","home-work-text"],[1,"p-0","m-0"],["matTooltip","Copy link",1,"btn-copy",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#3c8dbc"],[1,"badge","badge-success","ml-2"],[1,"badge","badge-success"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.bc("resize",function(e){return t.onResize(e)},!1,S.Bc),S.Ub(1,"div",1),S.bc("click",function(){return t.handleRedirect(t.homeworkId)}),S.Ub(2,"div",2),S.Ub(3,"div",3),S.Pb(4,"img",4),S.Tb(),S.Ub(5,"div",5),S.Ub(6,"h4",6),S.Pc(7),S.Tb(),S.Ub(8,"div",2),S.Ub(9,"p",7),S.Pc(10),S.gc(11,"date"),S.Tb(),S.Nc(12,ve,2,0,"span",8),S.Tb(),S.Ub(13,"p",9),S.Pc(14),S.gc(15,"date"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(16,"div",10),S.Ub(17,"div",11),S.Ub(18,"div"),S.Nc(19,ke,2,0,"span",12),S.Tb(),S.Ub(20,"div"),S.Ub(21,"h4",13),S.Pc(22,"\xa0"),S.Tb(),S.Tb(),S.Ub(23,"div"),S.Ub(24,"p",14),S.Pc(25,"\xa0"),S.Tb(),S.Tb(),S.Ub(26,"div"),S.Ub(27,"button",15),S.bc("click",function(){return t.showCopySuccess()}),S.Ub(28,"mat-icon",16),S.Pc(29,"file_copy"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.Cb(6),S.nc("matTooltip",t.name),S.Cb(1),S.Qc(t.name),S.Cb(3),S.Rc("Ng\xe0y t\u1ea1o : ",S.ic(11,7,t.dateCreated,"dd/MM/yyyy HH:mm"),""),S.Cb(2),S.mc("ngIf",1==t.isNew&&0==t.isMobile),S.Cb(2),S.Rc("H\u1ea1n n\u1ed9p : ",null!==t.deadLine?S.ic(15,10,t.deadLine,"dd/MM/yyyy HH:mm"):"Kh\xf4ng th\u1eddi h\u1ea1n"," "),S.Cb(5),S.mc("ngIf",1==t.isNew&&1==t.isMobile),S.Cb(8),S.mc("cdkCopyToClipboard",t.copyLinkToClipboard(t.name)))},directives:[z.a,a.m,pe.a,H.a],pipes:[a.e],styles:[".home-work-file[_ngcontent-%COMP%]{background-color:#fff;box-shadow:none;border:1px solid #ececec;border-radius:5px;cursor:pointer}.home-work-name[_ngcontent-%COMP%]{font-weight:500;margin:0!important}.home-work-text[_ngcontent-%COMP%]{color:#a2a2a2;font-size:12px}.font-size-12[_ngcontent-%COMP%]{font-size:12px}.btn-copy[_ngcontent-%COMP%]{padding:0;border:none;background-color:#fff;text-transform:inherit;margin:2px 0 0}.ellipsis-text[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}.block-home[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:480px){.home-copy[_ngcontent-%COMP%]{display:none}}"]}),Ce);function xe(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function _e(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",18),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit;return S.fc(3).viewAllHomework(e.id)}),S.Pc(1,"Xem t\u1ea5t c\u1ea3"),S.Tb()}}function Te(e,t){1&e&&(S.Ub(0,"div"),S.Ub(1,"div",19),S.Ub(2,"div",20),S.Ub(3,"p",21),S.Pc(4,"Ch\u01b0a giao b\xe0i t\u1eadp"),S.Tb(),S.Tb(),S.Tb(),S.Tb())}function ye(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"azt-home-work-file",23),S.bc("redirectId",function(e){S.Cc(n);var t=S.fc(2).$implicit;return S.fc(3).redirectHomework(e,t.id)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc(2).$implicit;S.Cb(1),S.mc("name",o.name)("dateCreated",o.createdAt)("deadLine",o.deadline)("totalTakeTest",o.count)("totalStudent",i.countStudents)("hashId",o.hashId)("homeworkId",o.id)}}function Pe(e,t){if(1&e&&S.Nc(0,ye,2,7,"div",22),2&e){var n=S.fc().$implicit;S.mc("ngForOf",n.homeworks)}}var Oe=function(e){return{"pb-0":e}};function Ue(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",10),S.Ub(1,"div",11),S.Ub(2,"div",12),S.Ub(3,"div",13),S.Ub(4,"p",14),S.bc("click",function(){return S.Cc(n),S.fc(3).goToStudentList()}),S.Pc(5),S.Tb(),S.Tb(),S.Ub(6,"div",15),S.Nc(7,_e,2,0,"a",16),S.Tb(),S.Tb(),S.Nc(8,Te,5,0,"div",1),S.Nc(9,Pe,1,1,"ng-template",null,17,S.Oc),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.yc(10);S.Cb(1),S.mc("ngClass",S.rc(6,Oe,1==o.homeworks.length)),S.Cb(3),S.nc("matTooltip",o.name),S.Cb(1),S.Qc(o.name),S.Cb(2),S.mc("ngIf",0!=o.homeworks.length),S.Cb(1),S.mc("ngIf",0==o.homeworks.length)("ngIfElse",i)}}function Se(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",5),S.Ub(1,"div",6),S.Ub(2,"div",7),S.Ub(3,"a",8),S.bc("click",function(){return S.Cc(n),S.fc(2).goToAddHomework()}),S.Pc(4,"+ T\u1ea1o b\xe0i t\u1eadp"),S.Tb(),S.Tb(),S.Tb(),S.Ub(5,"div",6),S.Nc(6,Ue,11,8,"div",9),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(6),S.mc("ngForOf",o.classObj)}}function Me(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",24),S.Pc(1,' B\u1ea1n ch\u01b0a t\u1ea1o l\u1edbp h\u1ecdc n\xe0o, vui l\xf2ng click v\xe0o "'),S.Ub(2,"a",25),S.bc("click",function(){return S.Cc(n),S.fc(2).redirectToClassList()}),S.Pc(3," T\u1ea1o l\u1edbp "),S.Tb(),S.Pc(4,'" tr\u01b0\u1edbc khi giao b\xe0i t\u1eadp. '),S.Tb()}}function Ie(e,t){if(1&e&&(S.Nc(0,Se,7,1,"div",3),S.Nc(1,Me,5,0,"div",4)),2&e){var n=S.fc();S.mc("ngIf",0!=n.classObj.length),S.Cb(1),S.mc("ngIf",0==n.classObj.length)}}var je,Ne=((je=function(){function e(t,n,o,i,c,r){l(this,e),this.activeRoute=t,this.apiService=n,this.location=o,this.router=i,this.commonService=c,this.localizeService=r,this.isLoading=!1,this.video_objs=[{href:"/faq/0/1_0",title:"H\u01b0\u1edbng d\u1eabn t\u1ea1o b\xe0i t\u1eadp",backLink:"/admin/homework/classes"}]}return d(e,[{key:"getAllClass",value:function(){var e=this;this.isLoading=!0,this.apiService.getAllClassInfos().subscribe(function(t){1==t.success?(e.isLoading=!1,e.classObj=t.data):(e.isLoading=!1,e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))})}},{key:"goToAddHomework",value:function(){this.commonService.myNavigation("/admin/homework/add-new-homework/0")}},{key:"redirectToClassList",value:function(){this.commonService.myNavigation("/admin/student/student-list")}},{key:"redirectHomework",value:function(e,t){this.commonService.myNavigation("/admin/homework/score-list/"+t+"/"+e)}},{key:"viewAllHomework",value:function(e){this.commonService.myNavigation("/admin/homework/homework-list/"+e)}},{key:"goToStudentList",value:function(){this.commonService.myNavigation("/admin/student/student-list")}},{key:"redirectToStudentList",value:function(){this.commonService.myNavigation("/admin/student/student-list")}},{key:"ngOnInit",value:function(){var e=this;this.video_objs=[{href:"/faq/1_0",title:"H\u01b0\u1edbng d\u1eabn t\u1ea1o b\xe0i t\u1eadp",backLink:"/admin/homework/classes"}],Object(U.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){o(t),e.getAllClass()}),this.commonService.translateMetaData({title:"lang_cms_homework_class_list_title",description:"lang_cms_homework_class_list_description",image:"lang_cms_test_image"})}}]),e}()).\u0275fac=function(e){return new(e||je)(S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e))},je.\u0275cmp=S.Ib({type:je,selectors:[["app-classes"]],decls:4,vars:5,consts:[[3,"headerTitle","video_links","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container my-3 pb-80",4,"ngIf"],["class","text-center p-5",4,"ngIf"],[1,"container","my-3","pb-80"],[1,"row"],[1,"col-12","text-right"],[1,"btn","btn-success",3,"click"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"classes-remake",3,"ngClass"],[1,"row","m-0","p-0","align-items-center"],[1,"col-8","text-left","text-ellipsis"],[1,"m-0","p-0","text-ellipsis","clickable",3,"matTooltip","click"],[1,"col-4","text-right"],["class","text-right m-0 p-0",3,"click",4,"ngIf"],["homework",""],[1,"text-right","m-0","p-0",3,"click"],[1,"row","text-center",2,"height","86px","align-items","center"],[1,"col-12"],[1,"p-0","m-0"],[4,"ngFor","ngForOf"],[3,"name","dateCreated","deadLine","totalTakeTest","totalStudent","hashId","homeworkId","redirectId"],[1,"text-center","p-5"],[2,"color","#2361ae","font-weight","bold",3,"click"]],template:function(e,t){if(1&e&&(S.Pb(0,"header-backend",0),S.Nc(1,xe,1,0,"azt-loading-effect",1),S.Nc(2,Ie,2,2,"ng-template",null,2,S.Oc)),2&e){var n=S.yc(3);S.mc("headerTitle","Danh s\xe1ch b\xe0i t\u1eadp c\xe1c l\u1edbp")("video_links",t.video_objs)("back_link","/admin/testbank/dashboard"),S.Cb(1),S.mc("ngIf",1==t.isLoading)("ngIfElse",n)}},directives:[R.a,a.m,N.a,a.l,a.k,z.a,we],styles:[".classes-remake[_ngcontent-%COMP%]{box-shadow:0 0 5px rgba(0,0,0,.08);border-radius:5px;background-color:#f3f3f3;padding:10px;margin-bottom:15px;margin-top:15px}.pb-0[_ngcontent-%COMP%]{padding-bottom:.5px!important}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.block-else[_ngcontent-%COMP%]{height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.block-else-text[_ngcontent-%COMP%]{font-size:19px;margin-bottom:25px}.text-ellipsis[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}"]}),je),De=r("jhN1"),Ee=r("d3UM"),Fe=r("gaSO");function He(e,t){if(1&e&&(S.Ub(0,"span"),S.Pc(1),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.Tc(" ",n.user_obj.id,".",n.user_obj.fullName,".Zalo:",n.user_obj.zalo_id," ")}}function ze(e,t){if(1&e&&(S.Ub(0,"span"),S.Pc(1),S.gc(2,"anonymousFullName"),S.gc(3,"anonymousPhone"),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.Tc(" ",n.user_obj.id,".",S.hc(2,3,n.user_obj),".",S.hc(3,5,n.user_obj.phone)," ")}}var Le=function(e){return[e]};function Re(e,t){if(1&e&&(S.Ub(0,"div",1),S.Ub(1,"p"),S.Ub(2,"a",2),S.gc(3,"localize"),S.Pc(4,"V\xe0o m\xe0n h\xecnh h\u1ecdc sinh"),S.Tb(),S.Tb(),S.Ub(5,"p"),S.Pc(6," T\xe0i kho\u1ea3n: "),S.Nc(7,He,2,3,"span",3),S.Nc(8,ze,4,7,"span",3),S.Tb(),S.Ub(9,"p"),S.Pc(10,"Tham gia nh\xf3m h\u1ed7 tr\u1ee3 s\u1eed d\u1ee5ng n\u1ec1n t\u1ea3ng Azota: "),S.Ub(11,"a",4),S.Pc(12,"https://facebook.com/groups/azota.vn"),S.Tb(),S.Tb(),S.Ub(13,"p"),S.Ub(14,"a",5),S.Pb(15,"img",6),S.Tb(),S.Ub(16,"a",7),S.Pb(17,"img",8),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(2),S.mc("routerLink",S.rc(5,Le,S.hc(3,3,"/student/dashboard/0"))),S.Cb(5),S.mc("ngIf",n.user_obj.zalo_id),S.Cb(1),S.mc("ngIf",!n.user_obj.zalo_id)}}var Ae,Be=((Ae=function(){function e(t,n){l(this,e),this.apiService=t,this.commonService=n,this.user_obj={id:0}}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.user_obj=this.apiService.getUserObj(),this.commonService.loginMessage.subscribe(function(t){e.user_obj=e.apiService.getUserObj()})}}]),e}()).\u0275fac=function(e){return new(e||Ae)(S.Ob(M.a),S.Ob(I.a))},Ae.\u0275cmp=S.Ib({type:Ae,selectors:[["homework-backend-footer"]],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[3,"routerLink"],[4,"ngIf"],["href","https://www.facebook.com/groups/azota.vn","target","_blank"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png","width","150px",1,"play-store-badge"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","src","https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/images/2928664.svg","width","130px",1,"app-store-badge"]],template:function(e,t){1&e&&S.Nc(0,Re,18,7,"div",0),2&e&&S.mc("ngIf",0!=t.user_obj.id)},directives:[a.m,m.k],pipes:[v.d,Fe.a,Fe.b],encapsulation:2}),Ae);function Ve(e,t){if(1&e&&(S.Ub(0,"mat-option",15),S.Pc(1),S.Tb()),2&e){var n=t.$implicit;S.mc("value",n.id),S.Cb(1),S.Rc(" ",n.name," ")}}function Ge(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function We(e,t){1&e&&(S.Ub(0,"div",18),S.Ub(1,"span",19),S.Pc(2,"Kh\xf4ng c\xf3 n\u1ed9i dung b\u1ea1n \u0111ang t\xecm ki\u1ebfm!"),S.Tb(),S.Tb())}function Je(e,t){1&e&&(S.Ub(0,"span",33),S.Pc(1,"Mi\u1ec5n ph\xed"),S.Tb())}function $e(e,t){if(1&e&&(S.Ub(0,"span",34),S.Pc(1),S.gc(2,"number"),S.Tb()),2&e){var n=S.fc().$implicit;S.Cb(1),S.Rc("",S.hc(2,1,n.amount)," Azo")}}function Ye(e,t){1&e&&(S.Ub(0,"span",35),S.Pc(1,"\u0110\xe3 mua"),S.Tb())}function Qe(e,t){if(1&e&&(S.Ub(0,"a",36),S.Ub(1,"mat-icon",37),S.Pc(2,"save_alt"),S.Tb(),S.Pc(3," T\u1ea3i v\u1ec1 "),S.Tb()),2&e){var n=S.fc().$implicit;S.mc("href",n.linkDownload,S.Gc)("download",n.linkDownload)}}function qe(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",38),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit,t=S.fc(3);return t.openBuyContentDialog(e,t.user_obj.amount)}),S.Ub(1,"mat-icon",37),S.Pc(2,"shopping_cart"),S.Tb(),S.Pc(3," Mua "),S.Tb()}}function Ke(e,t){if(1&e&&(S.Ub(0,"div",22),S.Ub(1,"div",23),S.Pb(2,"img",24),S.gc(3,"mycdn"),S.Ub(4,"div",25),S.Ub(5,"p",26),S.Pc(6),S.Tb(),S.Ub(7,"div",27),S.Nc(8,Je,2,0,"span",28),S.Nc(9,$e,3,3,"span",29),S.Nc(10,Ye,2,0,"span",30),S.Nc(11,Qe,4,2,"a",31),S.Nc(12,qe,4,0,"a",32),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=t.$implicit;S.Cb(2),S.nc("src",S.hc(3,7,n.thumb),S.Gc),S.Cb(4),S.Qc(n.name),S.Cb(2),S.mc("ngIf",0==n.amount),S.Cb(1),S.mc("ngIf",0!=n.amount&&-1!=n.amount),S.Cb(1),S.mc("ngIf",-1==n.amount),S.Cb(1),S.mc("ngIf",0==n.amount||-1==n.amount),S.Cb(1),S.mc("ngIf",n.amount>0)}}function Xe(e,t){if(1&e&&(S.Ub(0,"div",20),S.Nc(1,Ke,13,9,"div",21),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.mc("ngForOf",n.objs)}}function Ze(e,t){if(1&e&&(S.Nc(0,We,3,0,"div",16),S.Nc(1,Xe,2,1,"ng-template",null,17,S.Oc)),2&e){var n=S.yc(2),o=S.fc();S.mc("ngIf",o.isNullData)("ngIfElse",n)}}function et(e,t){if(1&e&&(S.Ub(0,"div",12),S.Ub(1,"p",13),S.Pc(2,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n mua"),S.Tb(),S.Ub(3,"p"),S.Ub(4,"span",5),S.Pc(5),S.Tb(),S.Tb(),S.Ub(6,"span",14),S.Pc(7," V\u1edbi gi\xe1 "),S.Ub(8,"span",15),S.Pc(9),S.gc(10,"number"),S.Tb(),S.Pc(11," kh\xf4ng?"),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(5),S.Rc(" ",n.content.name,""),S.Cb(4),S.Rc("",S.hc(10,2,n.content.amount)," Azo")}}function tt(e,t){if(1&e&&(S.Ub(0,"div",12),S.Ub(1,"p",13),S.Pc(2,"B\u1ea1n kh\xf4ng \u0111\u1ee7 Azo \u0111\u1ec3 mua"),S.Tb(),S.Ub(3,"p"),S.Ub(4,"span",5),S.Pc(5),S.Tb(),S.Tb(),S.Ub(6,"span",14),S.Pc(7," V\u1edbi gi\xe1 "),S.Ub(8,"span",15),S.Pc(9),S.gc(10,"number"),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(5),S.Rc(" ",n.content.name,""),S.Cb(4),S.Rc("",S.hc(10,2,n.content.amount)," Azo")}}function nt(e,t){1&e&&(S.Ub(0,"div",4),S.Ub(1,"span",16),S.Pc(2," Vui l\xf2ng n\u1ea1p th\xeam Azo!"),S.Tb(),S.Tb())}function ot(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",17),S.bc("click",function(){return S.Cc(n),S.fc().buyContent()}),S.Ub(1,"mat-icon",18),S.Pc(2,"shopping_cart"),S.Tb(),S.Pc(3," Mua "),S.Tb()}}function it(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",17),S.bc("click",function(){return S.Cc(n),S.fc().gotoPack()}),S.Ub(1,"mat-icon",18),S.Pc(2,"account_balance_wallet"),S.Tb(),S.Pc(3," N\u1ea1p th\xeam "),S.Tb()}}var ct,rt,at=((rt=function(){function e(t,n,o,i,c,r,a,b){l(this,e),this.activeRoute=t,this.commonService=n,this.apiService=o,this.formBuilder=i,this.router=c,this.dialog=r,this.localize=a,this.dom=b,this.error_msg="",this.error=!1,this.options={path:"https://assets8.lottiefiles.com/packages/lf20_eebdoe5f.json"},this.isNullData=!1,this.form=new s.k({}),this.subscriptions=new w.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.objs=[],this.categories=[],this.user_obj={},this.selectedValue=""}return d(e,[{key:"getData",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.getAllFileContent().subscribe(function(t){1==t.success?(e.objs=t.data,e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}}}))}},{key:"getInfo",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.getInfo().subscribe(function(t){1==t.success?(e.user_obj=t.data,e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}}}))}},{key:"getCategories",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.getCategoryFileContent().subscribe(function(t){1==t.success?(e.categories=t.data,e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}}}))}},{key:"openBuyContentDialog",value:function(e,t){this.openDialog(!(e.amount>t),e,t)}},{key:"openDialog",value:function(e,t,n){this.dialog.open(st,{width:"380px",panelClass:"buyContentDialogBox",data:{status:e,content:t,userAmount:n}}).afterClosed().subscribe(function(e){})}},{key:"selectValue",value:function(e){var t=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.getFileContent(e).subscribe(function(e){1==e.success?e.data.length>0?(t.isNullData=!1,t.objs=e.data,t.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(t.isNullData=!0,t.status_obj={loading:!1,error:!1,error_obj:{message:""}}):t.status_obj={loading:!1,error:!0,error_obj:{message:e.message}}}))}},{key:"onSearch",value:function(){var e=this,t=this.commonService.getFormObj(this.form);this.status_obj={loading:!0,error:!1,error_obj:{message:""}},""==t.searchContent?(this.isNullData=!1,this.subscriptions.add(this.apiService.getAllFileContent().subscribe(function(t){1==t.success?(e.objs=t.data,e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}}}))):this.subscriptions.add(this.apiService.searchFileContent(t.searchContent).subscribe(function(t){1==t.success?(0==t.data.length?e.isNullData=!0:e.objs=t.data,e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}}}))}},{key:"ngOnInit",value:function(){var e=this;Object(U.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){var o=n(t,2);o[0],o[1],e.getData(),e.getInfo(),e.getCategories()}),this.form=this.formBuilder.group({searchContent:new s.h("",s.z.required)}),this.commonService.translateMetaData({title:"lang_cms_homework_content_store_title",description:"lang_cms_homework_content_store_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||rt)(S.Ob(m.a),S.Ob(I.a),S.Ob(M.a),S.Ob(s.g),S.Ob(m.i),S.Ob(b.b),S.Ob(v.e),S.Ob(De.b))},rt.\u0275cmp=S.Ib({type:rt,selectors:[["app-content-store"]],decls:19,vars:6,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","W1200","m-auto","mt-3"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-8","mt-2"],[1,"search-bar","form-group"],[1,"input-group-append"],["type","text","formControlName","searchContent","placeholder","T\xecm ki\u1ebfm",1,"form-control",3,"keyup.enter"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"col-md-4","content-store-select"],["appearance","fill"],["placeholder","T\u1ea5t c\u1ea3","name","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"value"],["class","text-center mt-3 mb-3",4,"ngIf","ngIfElse"],["HasData",""],[1,"text-center","mt-3","mb-3"],[1,"h3"],[1,"row","mt-2"],["class","col-12 col-sm-4 col-md-4 col-lg-4 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","mb-2"],[1,"card"],["alt","thumbnail",1,"card-img-top",3,"src"],[1,"card-body"],[1,"truncate","card-text"],[1,"d-flex","justify-content-between","actionZone"],["class","azo-price text-warning",4,"ngIf"],["class","azo-price text-danger",4,"ngIf"],["class","azo-price ",4,"ngIf"],["class","actionBtn","target","_blank",3,"href","download",4,"ngIf"],["class","actionBtn","style","cursor: pointer;",3,"click",4,"ngIf"],[1,"azo-price","text-warning"],[1,"azo-price","text-danger"],[1,"azo-price"],["target","_blank",1,"actionBtn",3,"href","download"],[2,"vertical-align","sub"],[1,"actionBtn",2,"cursor","pointer",3,"click"]],template:function(e,t){if(1&e&&(S.Pb(0,"header-backend",0),S.Ub(1,"div",1),S.Ub(2,"form",2),S.Ub(3,"div",3),S.Ub(4,"div",4),S.Ub(5,"div",5),S.Ub(6,"div",6),S.Ub(7,"input",7),S.bc("keyup.enter",function(){return t.onSearch()}),S.Tb(),S.Ub(8,"button",8),S.bc("click",function(){return t.onSearch()}),S.Ub(9,"mat-icon"),S.Pc(10,"search"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(11,"div",9),S.Ub(12,"mat-form-field",10),S.Ub(13,"mat-select",11),S.bc("selectionChange",function(e){return t.selectValue(e.value)}),S.Nc(14,Ve,2,2,"mat-option",12),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(15,Ge,1,0,"azt-loading-effect",13),S.Nc(16,Ze,3,2,"ng-template",null,14,S.Oc),S.Tb(),S.Pb(18,"homework-backend-footer")),2&e){var n=S.yc(17);S.mc("headerTitle","Ng\xe2n h\xe0ng n\u1ed9i dung")("back_link","/admin/homework/classes"),S.Cb(2),S.mc("formGroup",t.form),S.Cb(12),S.mc("ngForOf",t.categories),S.Cb(1),S.mc("ngIf",t.status_obj.loading)("ngIfElse",n)}},directives:[R.a,s.B,s.s,s.l,s.d,s.r,s.j,H.a,D.d,Ee.a,a.l,a.m,Be,T.n,N.a],pipes:[Fe.g,a.f],styles:[".dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;border-radius:5px}.border-test[_ngcontent-%COMP%]{border:1px solid red;min-height:50px}.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:500;font-size:1.2rem}.content-store-select[_ngcontent-%COMP%]{margin-top:5px}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:245px!important}.content-header[_ngcontent-%COMP%]{background:inherit;background-color:#0089a7;padding:20px 0}.user_amount[_ngcontent-%COMP%]{background:inherit;background-color:#009cbe;border:none;border-radius:5px;padding:10px;box-shadow:none}.user_amount[_ngcontent-%COMP%]:hover{text-decoration:none}.mat-card-avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;flex-shrink:0;object-fit:cover}@media (max-width:992px){.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px;border-radius:0}}@media (max-width:768px){.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:400;font-size:14px;text-align:center;position:absolute;left:20px}.actionZone[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center!important}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:120px}.header-col-center[_ngcontent-%COMP%]{text-align:center!important;display:block!important}.header-col-center[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;margin-bottom:10px!important;text-align:center!important;display:inline-flex!important}.user_amount[_ngcontent-%COMP%]{margin-left:0!important;margin-bottom:10px!important}.content-header[_ngcontent-%COMP%]{padding:20px 0 0}}"]}),rt),st=((ct=function(){function e(t,n,o,i,c){l(this,e),this.dialogRef=t,this.apiService=n,this.commonService=o,this.router=i,this.data=c,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.subscriptions=new w.a,this.content={}}return d(e,[{key:"getData",value:function(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.data.content?(this.content=this.data.content,this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):this.status_obj={loading:!1,error:!0,error_obj:{message:"Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"}}}},{key:"buyContent",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.buyFileContent(this.content.id).subscribe(function(t){1==t.success?(e.status_obj={loading:!1,error:!1,error_obj:{message:""}},e.commonService.snackSuccess("B\u1ea1n \u0111\xe3 mua th\xe0nh c\xf4ng!",""),e.onNoClick(),setTimeout(function(){document.location.reload()},3e3)):(e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}},e.commonService.snackError("Thanh to\xe1n kh\xf4ng th\xe0nh c\xf4ng!",""),e.onNoClick(),setTimeout(function(){document.location.reload()},3e3))}))}},{key:"gotoPack",value:function(){this.onNoClick(),this.commonService.myNavigation("/admin/homework/azo-pack")}},{key:"ngOnInit",value:function(){this.getData()}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ct)(S.Ob(b.g),S.Ob(M.a),S.Ob(I.a),S.Ob(m.i),S.Ob(b.a))},ct.\u0275cmp=S.Ib({type:ct,selectors:[["buy-content-dialog"]],decls:19,vars:10,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"text-center"],[1,"h5"],["class","text-left","style","border: 1px dashed red; padding: 10px 5px; border-radius: 5px;",4,"ngIf"],["class","text-center",4,"ngIf"],["mat-dialog-actions","",1,"float-right"],[1,"zalo-share-button"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger"],[1,"h5","mt-1"],[1,"text-danger"],[1,"h6","mt-2","mb-1"],[1,"btn","btn-primary",3,"click"],[2,"font-size","23px","vertical-align","sub"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Ub(3,"span",3),S.Pc(4,"..."),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(5,"div",0),S.Ub(6,"div",4),S.Ub(7,"p",5),S.Pc(8),S.gc(9,"number"),S.Tb(),S.Tb(),S.Nc(10,et,12,4,"div",6),S.Nc(11,tt,11,4,"div",6),S.Nc(12,nt,3,0,"div",7),S.Tb(),S.Ub(13,"div",8),S.Ub(14,"div",9),S.Nc(15,ot,4,0,"button",10),S.Nc(16,it,4,0,"button",10),S.Tb(),S.Ub(17,"button",11),S.bc("click",function(){return t.onNoClick()}),S.Pc(18,"H\u1ee7y"),S.Tb(),S.Tb()),2&e&&(S.mc("hidden",!t.status_obj.loading),S.Cb(5),S.mc("hidden",t.status_obj.loading),S.Cb(3),S.Rc("B\u1ea1n \u0111ang c\xf3 ",S.hc(9,8,t.data.userAmount)," Azo"),S.Cb(2),S.mc("ngIf",t.data.status),S.Cb(1),S.mc("ngIf",!t.data.status),S.Cb(1),S.mc("ngIf",!t.data.status),S.Cb(3),S.mc("ngIf",t.data.status),S.Cb(1),S.mc("ngIf",!t.data.status))},directives:[a.m,b.c,H.a],pipes:[a.f],encapsulation:2}),ct),lt=r("xOOu"),bt=r("Iab2"),dt=r("sYmb");function mt(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function ut(e,t){1&e&&S.Pb(0,"span",27)}function ht(e,t){1&e&&(S.Ub(0,"mat-icon",28),S.Pc(1," check_circle "),S.Tb())}function gt(e,t){if(1&e&&(S.Ub(0,"div",10),S.Nc(1,ut,1,0,"span",25),S.Nc(2,ht,2,0,"mat-icon",26),S.Pc(3),S.Tb()),2&e){var n=S.fc(3);S.Cb(1),S.mc("ngIf",n.countDonePdf<n.cur_export_arr.length),S.Cb(1),S.mc("ngIf",n.countDonePdf==n.cur_export_arr.length),S.Cb(1),S.Tc(" ",n.countDonePdf<n.cur_export_arr.length?"Vui l\xf2ng kh\xf4ng t\u1ea3i l\u1ea1i ho\u1eb7c cu\u1ed9n trang, \u0111ang x\u1eed l\xfd...":"Ho\xe0n th\xe0nh",": ",n.countDonePdf," / ",n.cur_export_arr.length," ")}}function ft(e,t){if(1&e&&(S.Ub(0,"div",29),S.Ub(1,"span",30),S.Pc(2),S.Tb(),S.Ub(3,"span",23),S.Pc(4,"\u0110i\u1ec3m"),S.Tb(),S.Tb()),2&e){var n=S.fc(3);S.mc("hidden",n.cur_answer.result.hideMark),S.Cb(2),S.Qc(n.cur_answer.result.point)}}function pt(e,t){if(1&e&&(S.Sb(0),S.Pc(1),S.Rb()),2&e){var n=S.fc(10);S.Cb(1),S.Rc(" ",n.getJson(n.cur_answer.result.staticTextConfig).textCorrect," ")}}function vt(e,t){if(1&e&&(S.Sb(0),S.Pc(1),S.Rb()),2&e){var n=S.fc(10);S.Cb(1),S.Rc(" ",n.getJson(n.cur_answer.result.staticTextConfig).textWrong," ")}}function kt(e,t){if(1&e&&S.Pb(0,"img",43),2&e){var n=S.fc(10);S.nc("src","assets/images/classlive/"+n.getJson(n.cur_answer.result.staticTextConfig).urlImgCorrect,S.Gc)}}function Ct(e,t){if(1&e&&S.Pb(0,"img",43),2&e){var n=S.fc(10);S.nc("src","assets/images/classlive/"+n.getJson(n.cur_answer.result.staticTextConfig).urlImgWrong,S.Gc)}}var wt=function(e,t,n,o,i){return{"font-family":e,color:t,"font-size":n,position:"absolute","z-index":2,top:o,left:i}};function xt(e,t){if(1&e&&(S.Sb(0),S.Ub(1,"span",40),S.Nc(2,pt,2,1,"ng-container",41),S.Nc(3,vt,2,1,"ng-container",41),S.Nc(4,kt,1,1,"img",42),S.Nc(5,Ct,1,1,"img",42),S.Tb(),S.Rb()),2&e){var n=t.$implicit,o=S.fc(9);S.Cb(1),S.mc("ngStyle",S.vc(5,wt,o.getJson(o.cur_answer.result.staticTextConfig).fontText,o.getJson(o.cur_answer.result.staticTextConfig).fontColor,o.getJson(o.cur_answer.result.staticTextConfig).fontSize+"px",n.y+"px",n.x+"px")),S.Cb(1),S.mc("ngIf",o.getJson(o.cur_answer.result.staticTextConfig).useCorrectText&&"correct"==n.value),S.Cb(1),S.mc("ngIf",o.getJson(o.cur_answer.result.staticTextConfig).useCorrectText&&"wrong"==n.value),S.Cb(1),S.mc("ngIf",!o.getJson(o.cur_answer.result.staticTextConfig).useCorrectText&&"correct"==n.value),S.Cb(1),S.mc("ngIf",!o.getJson(o.cur_answer.result.staticTextConfig).useWrongText&&"wrong"==n.value)}}function _t(e,t){if(1&e&&S.Nc(0,xt,6,11,"ng-container",33),2&e){var n=S.fc(4).index,o=S.fc(4);S.mc("ngForOf",o.cur_answer.result.pages[n].staticText)}}var Tt=function(e,t,n,o,i,c,r){return{"font-family":e,color:t,"font-size":n,display:"block",width:o,"line-height":1.3,position:"absolute","z-index":3,"text-align":i,top:c,left:r}};function yt(e,t){if(1&e&&(S.Sb(0),S.Pb(1,"span",44),S.gc(2,"formatNoteBreak"),S.Rb()),2&e){var n=t.$implicit,o=S.fc(5).index,i=S.fc(4);S.Cb(1),S.mc("ngStyle",S.wc(4,Tt,n.textStyle.font,n.textStyle.color,n.textStyle.size+"px",i.cur_answer.result.pages[o].width-n.x+"px",n.textStyle.align,n.y+"px",n.x+"px"))("innerHtml",S.hc(2,2,n.value),S.Dc)}}function Pt(e,t){if(1&e&&S.Nc(0,yt,3,12,"ng-container",33),2&e){var n=S.fc(4).index,o=S.fc(4);S.mc("ngForOf",o.cur_answer.result.pages[n].objText)}}var Ot=function(e){return{"rotated-img":e}},Ut=function(e,t,n){return{"width.px":e,"aspect-ratio":t,transform:n}};function St(e,t){if(1&e&&(S.Pb(0,"img",38),S.Pb(1,"img",39),S.Nc(2,_t,1,1,"ng-template",37),S.Nc(3,Pt,1,1,"ng-template",37)),2&e){var n=S.fc(3),o=n.$implicit,i=n.index,c=S.fc(4);S.nc("src",o.url,S.Gc),S.mc("ngClass",S.rc(7,Ot,c.isRightRotation(c.cur_answer.result.pages[i].rotation)))("ngStyle",S.tc(9,Ut,c.isRightRotation(c.cur_answer.result.pages[i].rotation)?c.cur_answer.result.pages[i].height:c.cur_answer.result.pages[i].width,c.cur_answer.result.pages[i].width/c.cur_answer.result.pages[i].height,"rotate("+c.cur_answer.result.pages[i].rotation+"deg)")),S.Db("data-ratio",c.cur_answer.result.pages[i].width/c.cur_answer.result.pages[i].height),S.Cb(1),S.nc("src",c.cur_answer.result.pages[i].draw,S.Gc),S.Cb(1),S.mc("ngIf",c.cur_answer.result.pages[i].staticText.length>0),S.Cb(1),S.mc("ngIf",c.cur_answer.result.pages[i].objText.length>0)}}function Mt(e,t){if(1&e&&(S.Sb(0),S.Nc(1,St,4,13,"ng-template",37),S.Rb()),2&e){var n=S.fc(6);S.Cb(1),S.mc("ngIf",n.cur_answer.result.pages)}}function It(e,t){if(1&e&&(S.Ub(0,"div",45),S.Ub(1,"em"),S.Pc(2,"File t\u1ea3i l\xean c\xf3 d\u1ea1ng "),S.Ub(3,"b"),S.Pc(4),S.Tb(),S.Pc(5,", h\u1ec7 th\u1ed1ng kh\xf4ng h\u1ed7 tr\u1ee3 xu\u1ea5t pdf \u0111\u1ecbnh d\u1ea1ng n\xe0y."),S.Tb(),S.Tb()),2&e){var n=S.fc(2).$implicit,o=S.fc(4);S.Cb(4),S.Rc(".",o.getExtensionFile(n.url),"")}}var jt=function(e,t){return{position:"relative","width.px":e,"height.px":t,display:"flex","justify-content":"center","align-items":"center"}},Nt=function(){return["png","jpg","jpeg","pdf"]};function Dt(e,t){if(1&e&&(S.Ub(0,"div",35),S.Nc(1,Mt,2,1,"ng-container",0),S.Nc(2,It,6,1,"ng-template",null,36,S.Oc),S.Tb()),2&e){var n=S.yc(3),o=S.fc(),i=o.index,c=o.$implicit,r=S.fc(4);S.mc("ngStyle",S.sc(3,jt,r.cur_answer.result.pages[i].width,r.cur_answer.result.pages[i].height)),S.Cb(1),S.mc("ngIf",S.qc(6,Nt).includes(r.getExtensionFile(c.url))||-1!==c.url.indexOf("data:image"))("ngIfElse",n)}}function Et(e,t){if(1&e&&(S.Sb(0),S.Nc(1,Dt,4,7,"div",34),S.Rb()),2&e){var n=S.fc(4);S.Cb(1),S.mc("ngIf",n.cur_answer.result.pages)}}function Ft(e,t){if(1&e&&(S.Ub(0,"div",31),S.Ub(1,"div",32),S.Pc(2,"B\xe0i l\xe0m:"),S.Tb(),S.Nc(3,Et,2,1,"ng-container",33),S.Tb()),2&e){var n=S.fc(3);S.Cb(3),S.mc("ngForOf",n.cur_answer.files)}}function Ht(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",4),S.Ub(1,"div",5),S.Ub(2,"div",6),S.Ub(3,"div",7),S.Ub(4,"div",8),S.Ub(5,"h1",9),S.Pc(6,"Xu\u1ea5t b\xe0i l\xe0m ra PDF"),S.Tb(),S.Ub(7,"div",10),S.Pc(8),S.Tb(),S.Ub(9,"div",10),S.Ub(10,"button",11),S.bc("click",function(){S.Cc(n);var e=S.fc(2);return e.openDialog(e.submited_students)}),S.Pc(11," Ti\u1ebfp t\u1ee5c"),S.Tb(),S.Tb(),S.Nc(12,gt,4,5,"div",12),S.Ub(13,"div",13),S.Ub(14,"div",14),S.Ub(15,"h2",15),S.Pc(16),S.Tb(),S.Ub(17,"div",16),S.Ub(18,"div"),S.Ub(19,"h3",17),S.Pc(20),S.Tb(),S.Ub(21,"h3",17),S.Pc(22),S.Tb(),S.Tb(),S.Ub(23,"div"),S.Ub(24,"h3",17),S.Pc(25),S.Tb(),S.Tb(),S.Tb(),S.Ub(26,"div",18),S.Ub(27,"div",19),S.Nc(28,ft,5,2,"div",20),S.Ub(29,"div",21),S.Ub(30,"textarea",22),S.Pc(31,"                        "),S.Tb(),S.Ub(32,"span",23),S.Pc(33,"L\u1eddi ph\xea c\u1ee7a gi\xe1o vi\xean"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(34,Ft,4,1,"div",24),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(8),S.Rc(" S\u1ed1 h\u1ecdc sinh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ea5m b\xe0i: ",o.submited_students.length," "),S.Cb(4),S.mc("ngIf",o.isProcessingPdf),S.Cb(4),S.Rc("H\u1ecd v\xe0 t\xean: ",o.cur_answer.fullName,""),S.Cb(4),S.Rc("L\u1edbp: ",o.data.classroomObj.name,""),S.Cb(2),S.Rc("B\xe0i t\u1eadp: ",o.data.homeworkObj.name,""),S.Cb(3),S.Rc("M\xe3 b\xe0i l\xe0m: ",o.cur_answer.id,""),S.Cb(3),S.mc("ngIf",o.cur_answer.result),S.Cb(2),S.mc("value",o.cur_answer.result.comment),S.Cb(4),S.mc("ngIf",o.cur_answer.result)}}function zt(e,t){1&e&&(S.Ub(0,"div",46),S.Ub(1,"div",47),S.Pc(2,"B\u1ea1n ch\u01b0a ch\u1ea5m b\xe0i cho b\u1ea5t k\xec h\u1ecdc sinh n\xe0o trong l\u1edbp n\xe0y, b\u1ea1n ch\u1ec9 xu\u1ea5t \u0111\u01b0\u1ee3c PDF khi \u0111\xe3 ch\u1ea5m \xedt nh\u1ea5t m\u1ed9t h\u1ecdc sinh"),S.Tb(),S.Tb())}function Lt(e,t){if(1&e&&(S.Nc(0,Ht,35,9,"div",2),S.Nc(1,zt,3,0,"ng-template",null,3,S.Oc)),2&e){var n=S.yc(2),o=S.fc();S.mc("ngIf",o.submited_students.length>0)("ngIfElse",n)}}function Rt(e,t){if(1&e&&(S.Ub(0,"mat-checkbox",10),S.Pc(1),S.Tb()),2&e){var n=t.index,o=S.fc();S.mc("checked",o.form.value.exports[n])("formControlName",n),S.Cb(1),S.Sc(" ",n+1,". ",o.data.resultsArr[n].fullName," ")}}var At,Bt,Vt=function(e){return{selects:e}},Gt=((Bt=function(){function e(t,n,o,i,c,r,a,s){var b=this;l(this,e),this.cd=t,this.apiService=n,this.dialog=o,this.commonService=i,this.translate=c,this.localize=r,this.activeRoute=a,this.router=s,this.cur_answer={id:12345},this.data={},this.submited_students=[],this.countDonePdf=0,this.myZip=new lt,this.cur_export_arr=[],this.doneConvertUserFiles=!1,this.doneConvertUserResults=!1,this.studentsInClassResults=[],this.studentsNotInClassResults=[],this.isLoading=!1,this.isProcessingPdf=!1,this.convertUrlToBase64_ForUserFiles=function(e){return Object(C.a)(b,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!["png","jpg","jpeg","pdf"].includes(this.getExtensionFile(e.url))){t.next=16;break}return t.prev=1,t.next=4,fetch(e.url+"?t="+(new Date).getTime());case 4:return n=t.sent,t.next=7,n.blob();case 7:return o=t.sent,t.abrupt("return",new Promise(function(e){var t=new FileReader;t.readAsDataURL(o),t.onloadend=function(){e(t.result)}}).then(function(t){e.url=t}));case 11:t.prev=11,t.t0=t.catch(1),console.log("Kh\xf4ng th\u1ec3 fetch url n\xe0y, \u1ea3nh n\xe0y s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb tr\xean file pdf: "+e.url);case 14:t.next=17;break;case 16:console.log("Kh\xf4ng h\u1ed7 tr\u1ee3 export \u0111\u1ecbnh d\u1ea1ng n\xe0y: "+e.url);case 17:case"end":return t.stop()}},t,this,[[1,11]])}))},this.convertUrlToBase64_ForUserResult=function(e){return Object(C.a)(b,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.draw+"?t="+(new Date).getTime());case 3:return n=t.sent,t.next=6,n.blob();case 6:return o=t.sent,t.abrupt("return",new Promise(function(e){var t=new FileReader;t.readAsDataURL(o),t.onloadend=function(){e(t.result)}}).then(function(t){e.draw=t}));case 10:t.prev=10,t.t0=t.catch(0),console.log("Kh\xf4ng th\u1ec3 fetch url n\xe0y, \u1ea3nh n\xe0y s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb tr\xean file pdf: "+e.url);case 13:case"end":return t.stop()}},t,null,[[0,10]])}))}}return d(e,[{key:"isRightRotation",value:function(e){return 1==Math.abs(e/90%2)}},{key:"changeSizeHeightImage",value:function(e,t){for(var n=t.children,o=0;o<n.length;o++)"IMG"===n[o].tagName&&(n[o].style.height=e+"px",n[o].style.width="auto")}},{key:"floorSizeImage",value:function(e){for(var t=e.children,n=0;n<t.length;n++)if("IMG"===t[n].tagName){var o=t[n].getBoundingClientRect();if(t[n].classList.contains("rotated-img")){t[n].style.width=Math.floor(o.width)+"px";var i=t[n].getAttribute("data-ratio");t[n].style.height=Math.floor(o.width/i)+"px"}else t[n].style.height=Math.floor(o.height)+"px",t[n].style.width=Math.floor(o.width)+"px"}}},{key:"convertMargitPagePdf",value:function(){var e,t=document.getElementById("multipleChoiceWrap");if(t){var n=(null==t?void 0:t.getBoundingClientRect().width)/210*297,o=!1;o=null===(e=document.getElementById("multipleChoiceWrapHeader"))||void 0===e?void 0:e.getBoundingClientRect().height;var i=document.getElementById("essayPdfTitle");if(i){o+=i.getBoundingClientRect().height;for(var c=document.getElementsByClassName("essayPdfImage"),r=0,a=0;a<c.length;a++)c[a].getBoundingClientRect().height>0&&(0===r?(c[a].getBoundingClientRect().height>n-o&&this.changeSizeHeightImage(n-o,c[a]),o+=c[a].getBoundingClientRect().height):(c[a].getBoundingClientRect().height>n&&this.changeSizeHeightImage(n-o,c[a]),c[a].style.marginTop=Math.floor(n-o)+"px",o=c[a].getBoundingClientRect().height),this.floorSizeImage(c[a]),r++)}}}},{key:"handleError",value:function(e){var t=this;this.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})}},{key:"getJson",value:function(e){return JSON.parse(e)}},{key:"getExtensionFile",value:function(e){var t=e.split(".");return t.length<=1?"":t[t.length-1].toLocaleLowerCase().split("_")[0]}},{key:"processUserFilesAsync",value:function(){this.cur_answer.files=""!=this.cur_answer.files?JSON.parse(this.cur_answer.files):[];var e=this.cur_answer.files.map(this.convertUrlToBase64_ForUserFiles);return Promise.all(e).then(function(){console.log("done process all files")})}},{key:"processUserResultAsync",value:function(){this.cur_answer.result=JSON.parse(this.cur_answer.result);var e=this.cur_answer.result.pages.map(this.convertUrlToBase64_ForUserResult);return Promise.all(e).then(function(){console.log("done process all result images")})}},{key:"openDialog",value:function(e){var t=this;this.dialog.open(Wt,{width:"1100px",data:{resultsArr:e}}).afterClosed().subscribe(function(n){if(n){for(var o=[],i=0;i<n.selects.length;i++)n.selects[i]&&o.push(e[i]);t.zipAll(o)}})}},{key:"create_pdf",value:function(){return Object(C.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.convertMargitPagePdf(),!(t=document.getElementById("multipleChoiceWrap"))){e.next=6;break}return e.next=5,html2pdf().set({pagebreak:{mode:"avoid-all"},image:{type:"jpeg",quality:1},html2canvas:{logging:!0,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"p"}}).from(t).output("blob");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))}},{key:"finalSaveAll",value:function(){var e=this;this.myZip.generateAsync({type:"blob"}).then(function(t){e.countDonePdf++;var n=e.data.classroomObj.name+"_"+e.data.homeworkObj.name+"_homework_result.zip";Object(bt.saveAs)(t,n)},function(e){console.log(e)})}},{key:"zipAll",value:function(e){return Object(C.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,c,r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.isProcessingPdf=!0,this.countDonePdf=0,this.cur_export_arr=e,this.myZip=new lt,console.log(e),o=t(e),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=35;break}return c=i.value,n.next=8,this.apiService.getSubmittedAnswersAsync(c.answer.id);case 8:if(1!=(r=n.sent).success){n.next=32;break}return this.cur_answer=r.data.answerObj,this.cur_answer.fullName=c.fullName,n.next=14,this.processUserFilesAsync();case 14:if(n.t0=this.cur_answer.result,!n.t0){n.next=18;break}return n.next=18,this.processUserResultAsync();case 18:return console.log("start create pdf"),n.prev=19,n.next=22,this.create_pdf();case 22:a=n.sent,this.myZip.file("results/".concat(this.cur_answer.fullName,"_").concat(this.cur_answer.id,".pdf"),a),n.next=29;break;case 26:n.prev=26,n.t1=n.catch(19),console.log(n.t1);case 29:this.countDonePdf<e.length-1&&this.countDonePdf++,n.next=33;break;case 32:this.handleError(r);case 33:n.next=4;break;case 35:n.next=40;break;case 37:n.prev=37,n.t2=n.catch(2),o.e(n.t2);case 40:return n.prev=40,o.f(),n.finish(40);case 43:console.log("YAHHH, ALL DONE!!!!!"),this.finalSaveAll();case 44:case"end":return n.stop()}},n,this,[[2,37,40,43],[19,26]])}))}},{key:"getData",value:function(){var e=this;this.class_id&&this.homework_id?this.apiService.GetStudentsHomework(parseInt(this.homework_id),parseInt(this.class_id)).subscribe(function(t){1==t.success?(e.data=t.data,e.submited_students=t.data.studentObjs.filter(function(e){return e.confirmedAt}),e.submited_students.length>0?e.apiService.getSubmittedAnswers(e.submited_students[0].answer.id).subscribe(function(n){if(1==n.success){if(e.cur_answer=n.data.answerObj,e.cur_answer.fullName=e.submited_students[0].fullName,e.cur_answer.files){e.cur_answer.files=e.getJson(e.cur_answer.files);for(var o=0;o<e.cur_answer.files.length;o++)e.cur_answer.files[o].url&&(e.cur_answer.files[o].url=e.commonService.getMyCdn(e.cur_answer.files[o].url)),e.cur_answer.files[o].thumb&&(e.cur_answer.files[o].thumb=e.commonService.getMyCdn(e.cur_answer.files[o].thumb))}if(e.cur_answer.result){e.cur_answer.result=e.getJson(e.cur_answer.result);for(var i=0;i<e.cur_answer.result.pages.length;i++)e.cur_answer.result.pages[i].backgroundImage&&(e.cur_answer.result.pages[i].backgroundImage=e.commonService.getMyCdn(e.cur_answer.result.pages[i].backgroundImage)),e.cur_answer.result.pages[i].draw&&(e.cur_answer.result.pages[i].draw=e.commonService.getMyCdn(e.cur_answer.result.pages[i].draw))}e.isLoading=!1}else e.isLoading=!1,e.handleError(t)}):(e.isLoading=!1,console.log("Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i!"))):(e.isLoading=!1,e.handleError(t))}):(this.isLoading=!1,this.commonService.snackError("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin l\u1edbp h\u1ecdc, b\xe0i t\u1eadp",""))}},{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.commonService.loadScriptPromises([{source:"https://wewiin.nyc3.cdn.digitaloceanspaces.com/storage_public/azota_assets/js/html2pdf.bundle.js",name:"html2pdf.bundle.js"}]).then(function(){e.commonService.translateMetaData({title:"Xu\u1ea5t PDF b\xe0i t\u1eadp",description:"Xu\u1ea5t pdf b\xe0i t\u1eadp",image:"lang_cms_test_image"}),e.getData()})}},{key:"class_id",get:function(){return this.activeRoute.snapshot.paramMap.get("class_id")}},{key:"homework_id",get:function(){return this.activeRoute.snapshot.paramMap.get("id")}}]),e}()).\u0275fac=function(e){return new(e||Bt)(S.Ob(S.h),S.Ob(M.a),S.Ob(b.b),S.Ob(I.a),S.Ob(dt.c),S.Ob(v.e),S.Ob(m.a),S.Ob(m.i))},Bt.\u0275cmp=S.Ib({type:Bt,selectors:[["app-export-homework"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["id","test_review_container","class","container-fluid mt-2",4,"ngIf","ngIfElse"],["noSubmit",""],["id","test_review_container",1,"container-fluid","mt-2"],["id","tabRowExam",1,"row",2,"margin-bottom","10px"],["id","test_review_area",1,"col"],["id","col_examContent_wrap",2,"width","1100px!important","margin","0 auto"],["id","mbTestContent"],[1,"text-center"],[1,"buttons-area","mb-3","text-center"],[1,"btn","btn-info",3,"click"],["class","buttons-area mb-3 text-center",4,"ngIf"],["id","multipleChoiceWrap",1,"exportPdfModeIndex"],["id","multipleChoiceWrapHeader"],[1,"mb-1","text-center"],[1,"d-flex","justify-content-between"],[1,"mb-0"],["id","teacherMessage",1,"mt-5"],[1,"contentNote"],["class","box-point",3,"hidden",4,"ngIf"],[1,"box-msg"],["readonly","",1,"note",3,"value"],[1,"cap"],["style","text-align: -webkit-center;",4,"ngIf"],["style","color: darkgrey;","class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["style","color: green; vertical-align: bottom;",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","darkgrey"],[2,"color","green","vertical-align","bottom"],[1,"box-point",3,"hidden"],[1,"point"],[2,"text-align","-webkit-center"],["id","essayPdfTitle",1,"h4","my-3"],[4,"ngFor","ngForOf"],["class","mb-2 essayPdfImage",3,"ngStyle",4,"ngIf"],[1,"mb-2","essayPdfImage",3,"ngStyle"],["noSupportMedia",""],[3,"ngIf"],["alt","",1,"user-img","img_respon",3,"ngClass","ngStyle","src"],["alt","",1,"user-img","img_respon",2,"position","absolute","z-index","1","top","0","left","0",3,"src"],[3,"ngStyle"],[4,"ngIf"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"],[3,"ngStyle","innerHtml"],["id","unsupportFallback"],[2,"padding","50px"],[1,"alert","alert-info"]],template:function(e,t){if(1&e&&(S.Nc(0,mt,1,0,"azt-loading-effect",0),S.Nc(1,Lt,3,2,"ng-template",null,1,S.Oc)),2&e){var n=S.yc(2);S.mc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[a.m,N.a,H.a,a.l,a.n,a.k],pipes:[Fe.f],styles:["#test_review_container[_ngcontent-%COMP%]{background:#ecf0f5;flex:auto;padding-top:15px}#tester-info[_ngcontent-%COMP%]{width:300px;padding:15px;background-color:#fff;margin:0 auto;position:sticky;top:10px;max-height:calc(100vh - 10px);display:flex;flex-direction:column;max-width:100%;border-radius:3px;border:1px solid #f1f1f1}#short_cut_mobile[_ngcontent-%COMP%]{display:none}#fullPoint[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #f1f1f1;background-color:#fafafa;padding:10px;margin-top:15px;align-items:center}#fullPoint[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{font-weight:500;font-size:130%}.tested-times[_ngcontent-%COMP%]{margin-top:15px}.tested-times[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{border:1px solid #f1f1f1;background-color:#fafafa;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;border:1px solid #f1f1f1;border-top:none;margin-bottom:0;background-color:#fff;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{font-weight:500}.tested-times[_ngcontent-%COMP%]:last-child{flex:auto;overflow:auto}#multipleChoiceWrapHeader[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.exportPdfModeIndex[_ngcontent-%COMP%]{background-color:#fff;padding-top:30px;padding-bottom:30px}#unsupportFallback[_ngcontent-%COMP%]{width:750px;height:350px;border:1px solid grey;border-radius:3px;display:flex;align-items:center;justify-content:center}#teacherMessage[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]{display:flex}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{position:absolute;top:-30px;font-family:font_chu_dep;font-weight:700;font-size:25px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]{width:200px;min-width:200px;min-height:200px;border:2px solid #333;border-right:none;position:relative;display:flex;align-items:center;justify-content:center;padding:15px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]   span.point[_ngcontent-%COMP%]{color:red;font-size:60px;font-family:font_chu_dep}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]{border:2px solid #333;padding:15px;position:relative;flex:auto;min-height:200px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   textarea.note[_ngcontent-%COMP%]{width:100%;height:100%;border:none;color:red;font-family:font_chu_dep;font-size:24px;line-height:1.5}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{left:300px}.fading_layer[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:hsla(0,0%,100%,.8901960784313725);width:100%;height:100%;top:0;left:0;padding-top:200px;text-align:center;color:#a9a9a9;font-size:16px}#filterWrap[_ngcontent-%COMP%]{position:absolute;right:0;top:-4px;z-index:2}.viewRight[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%], .viewWrong[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{display:none}#col_examContent_wrap[_ngcontent-%COMP%]{width:1100px;margin:0 auto}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:fixed;right:5px;top:50%;z-index:3;font-size:35px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:hsla(0,0%,78.8%,.47843137254901963);border-radius:50%;color:#fff;margin-top:-20px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon.prev_icon[_ngcontent-%COMP%]{left:5px}#mbTestContent[_ngcontent-%COMP%]{position:relative}#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;color:#646464;z-index:100}#test_review_container.toggleNavInfo[_ngcontent-%COMP%]   #col_std_info[_ngcontent-%COMP%]{left:0}#close_button[_ngcontent-%COMP%]{color:red;position:absolute;right:5px;top:5px}@media screen and (max-width:320px){#tester-info[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:480px){#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:inline-block}#test_review_container[_ngcontent-%COMP%]{padding-top:0}#col_std_info[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;z-index:99999;background:rgba(0,0,0,.611764705882353);bottom:0;padding:0;transition:all .5s}#short_cut_mobile[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:18px;justify-content:space-between;color:#4a4a4a}#header-app-component[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:0!important}#tester-info[_ngcontent-%COMP%]{margin:0;position:relative;height:100%;max-height:unset;top:0}#multipleChoiceWrap[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px;padding-top:5px}}.buttons-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none!important}@media screen and (max-width:1600px){#col_examContent_wrap[_ngcontent-%COMP%]{width:100%}}"]}),Bt),Wt=((At=function(){function e(t,n,o,i,c,r,a){l(this,e),this.dialogRef=t,this.apiService=n,this.router=o,this.commonService=i,this.localizeService=c,this.fb=r,this.data=a,this.form=new s.k({}),this.isSelectAll=!1}return d(e,[{key:"selectAll",value:function(){var e=this,t=[];this.data.resultsArr.forEach(function(){t.push(e.isSelectAll)}),this.form.controls.exports.setValue(t)}},{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({exports:new s.e([],Jt(1))}),this.data.resultsArr.forEach(function(){e.exportsFormArray.push(new s.h(!1))})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"exportsFormArray",get:function(){return this.form.controls.exports}},{key:"countSelected",get:function(){return this.exportsFormArray.value.filter(function(e){return!0===e}).length}}]),e}()).\u0275fac=function(e){return new(e||At)(S.Ob(b.g),S.Ob(M.a),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e),S.Ob(s.g),S.Ob(b.a))},At.\u0275cmp=S.Ib({type:At,selectors:[["what-export-dialog"]],decls:17,vars:9,consts:[[1,"text-center","mb-2"],[1,"h4"],[1,"clickable","d-flex","align-items-center",2,"font-weight","500"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange"],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],["formArrayName","exports","ngFor","",3,"ngForOf"],[1,"text-right"],["mat-raised-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["color","primary",1,"mr-2","mb-2",3,"checked","formControlName"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"span",1),S.Pc(2," Ch\u1ecdn nh\u1eefng h\u1ecdc sinh c\u1ea7n xu\u1ea5t PDF!"),S.Tb(),S.Tb(),S.Ub(3,"p"),S.Ub(4,"i"),S.Pc(5),S.Tb(),S.Tb(),S.Ub(6,"span",2),S.Ub(7,"mat-checkbox",3),S.bc("ngModelChange",function(e){return t.isSelectAll=e})("ngModelChange",function(){return t.selectAll()}),S.Pc(8),S.Tb(),S.Tb(),S.Ub(9,"div",4),S.Ub(10,"form",5),S.Nc(11,Rt,2,4,"ng-template",6),S.Tb(),S.Tb(),S.Ub(12,"div",7),S.Ub(13,"button",8),S.bc("click",function(){return t.onNoClick()}),S.Pc(14,"H\u1ee7y b\u1ecf"),S.Tb(),S.Ub(15,"button",9),S.Pc(16,"\u0110\u1ed3ng \xfd"),S.Tb(),S.Tb()),2&e&&(S.Cb(5),S.Rc("*** Vi\u1ec7c xu\u1ea5t PDF c\u1ea7n nhi\u1ec1u th\u1eddi gian, b\u1ea1n n\xean xu\u1ea5t t\u1ed1i \u0111a m\u1ed7i l\u1ea7n 50 b\xe0i l\xe0m (\u0111\xe3 ch\u1ecdn: ",t.countSelected,")"),S.Cb(2),S.mc("ngModel",t.isSelectAll),S.Cb(1),S.Qc(t.isSelectAll?"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3":"Ch\u1ecdn t\u1ea5t c\u1ea3"),S.Cb(2),S.mc("formGroup",t.form),S.Cb(1),S.mc("ngForOf",t.exportsFormArray.controls),S.Cb(4),S.mc("disabled",!t.form.valid)("mat-dialog-close",S.rc(7,Vt,t.exportsFormArray.value)))},directives:[L.a,s.r,s.u,b.e,s.B,s.s,s.l,s.f,a.l,F.b,b.d,s.j],encapsulation:2}),At);function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return t.controls.map(function(e){return e.value}).reduce(function(e,t){return t?e+t:e},0)>=e?null:{required:!0}}}var $t=r("EUZL");function Yt(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function Qt(e,t){1&e&&(S.Ub(0,"div"),S.Ub(1,"div",7),S.Ub(2,"div",8),S.Ub(3,"p",9),S.Pc(4,"Ch\u01b0a giao b\xe0i t\u1eadp"),S.Tb(),S.Tb(),S.Tb(),S.Tb())}function qt(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"azt-home-work-file",15),S.bc("redirectId",function(e){return S.Cc(n),S.fc(4).redirectHomework(e)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc(4);S.Cb(1),S.mc("name",o.name)("dateCreated",o.createdAt)("deadLine",o.deadline)("totalTakeTest",o.count)("totalStudent",i.classroomObj.countStudents)("homeworkId",o.id)("isNew",o.isNew)("hashId",o.hashId)}}function Kt(e,t){if(1&e&&(S.Ub(0,"div",13),S.Nc(1,qt,2,8,"div",14),S.Tb()),2&e){var n=t.$implicit;S.Cb(1),S.mc("ngForOf",n)}}function Xt(e,t){if(1&e){var n=S.Vb();S.Ub(0,"li",21),S.Ub(1,"a",22),S.bc("click",function(){S.Cc(n);var e=S.fc(4);return e.clickPage(e.currentPage-1)}),S.Ub(2,"span",23),S.Pc(3,"\xab"),S.Tb(),S.Ub(4,"span",24),S.Pc(5,"Previous"),S.Tb(),S.Tb(),S.Tb()}}function Zt(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",27),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit;return S.fc(4).createArrayHomework(e)}),S.Pc(1),S.Tb()}if(2&e){var o=S.fc().$implicit;S.Cb(1),S.Rc("",o," ")}}function en(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",28),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit;return S.fc(4).createArrayHomework(e)}),S.Pc(1),S.Tb()}if(2&e){var o=S.fc().$implicit;S.Cb(1),S.Rc("",o," ")}}function tn(e,t){if(1&e&&(S.Ub(0,"li",21),S.Nc(1,Zt,2,1,"a",25),S.Nc(2,en,2,1,"a",26),S.Tb()),2&e){var n=t.$implicit,o=S.fc(4);S.Cb(1),S.mc("ngIf",o.currentPage==n),S.Cb(1),S.mc("ngIf",o.currentPage!=n)}}function nn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"li",21),S.Ub(1,"a",29),S.bc("click",function(){S.Cc(n);var e=S.fc(4);return e.clickPage(e.currentPage+1)}),S.Ub(2,"span",23),S.Pc(3,"\xbb"),S.Tb(),S.Ub(4,"span",24),S.Pc(5,"Next"),S.Tb(),S.Tb(),S.Tb()}}function on(e,t){if(1&e&&(S.Ub(0,"div",16),S.Ub(1,"nav",17),S.Ub(2,"ul",18),S.Nc(3,Xt,6,0,"li",19),S.Nc(4,tn,3,2,"li",20),S.Nc(5,nn,6,0,"li",19),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc(3);S.Cb(3),S.mc("ngIf",n.currentPage>1),S.Cb(1),S.mc("ngForOf",n.arrayPag),S.Cb(1),S.mc("ngIf",n.lengthPage>n.currentPage&&n.lengthPage>=2)}}function cn(e,t){if(1&e&&(S.Ub(0,"div",10),S.Nc(1,Kt,2,1,"div",11),S.Tb(),S.Nc(2,on,6,3,"div",12)),2&e){var n=S.fc(2);S.Cb(1),S.mc("ngForOf",n.homeworkObjs),S.Cb(1),S.mc("ngIf",n.lengthPage>1)}}function rn(e,t){if(1&e&&(S.Ub(0,"div",3),S.Ub(1,"div",4),S.Nc(2,Qt,5,0,"div",5),S.Nc(3,cn,3,2,"ng-template",null,6,S.Oc),S.Tb(),S.Tb()),2&e){var n=S.yc(4),o=S.fc();S.Cb(2),S.mc("ngIf",0==o.homeworkObjs.length)("ngIfElse",n)}}var an,sn=((an=function(){function e(t,n,o){l(this,e),this.activeRoute=t,this.apiService=n,this.commonService=o,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.menu_objs=[],this.lengthPage=0,this.arrayPag=[],this.arrayHomeworkData=[],this.currentPage=1,this.checkNew=!1,this.video_objs=[{href:"/faq/51",title:"H\u01b0\u1edbng d\u1eabn t\u1ea1o b\xe0i t\u1eadp",backLink:"/admin/homework/classes"}]}return d(e,[{key:"getData",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiService.GetObjsAndPermissionsByClassroom(this.classroomId).subscribe(function(t){1==t.success?(e.status_obj={loading:!1,error:!1,error_obj:{message:""}},e.classroomObj=t.data.classroomObj,e.homeworkObj=t.data.homeworkObjs,e.sortObj=t.data.homeworkObjs,e.lengthPage=Math.ceil(t.data.homeworkObjs.length/15),e.createPag(),e.createArrayHomework(1)):(e.status_obj={loading:!1,error:!1,error_obj:{message:""}},e.commonService.snackError("L\u1ed7i: kh\xf4ng load \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u l\u1edbp h\u1ecdc","\u0110\xf3ng"))})}},{key:"listToMatrix",value:function(e,t){var n,o,i=[];for(n=0,o=-1;n<e.length;n++)n%t==0&&(i[++o]=[]),i[o].push(e[n]);return i}},{key:"createArrayHomework",value:function(e){this.currentPage=e,this.arrayHomeworkData=[];for(var t=15*(e-1);t<15*e;t++)this.homeworkObj.length-1>=t&&this.arrayHomeworkData.push(this.homeworkObj[t]);this.homeworkObjs=this.listToMatrix(this.arrayHomeworkData,5)}},{key:"clickPage",value:function(e){this.createArrayHomework(e)}},{key:"createPag",value:function(){for(var e=1;e<=this.lengthPage;e++)this.arrayPag.push(e)}},{key:"redirectHomework",value:function(e){this.commonService.myNavigation("/admin/homework/score-list/"+this.classroomId+"/"+e)}},{key:"changePermission",value:function(){this.getData()}},{key:"sortByCreatAt",value:function(e){return e.sort(function(e,t){return Number(new Date(e.createdAt))-Number(new Date(t.createdAt))}),e.reverse()}},{key:"saveExcelFile",value:function(e,t){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});bt.saveAs(n,t+".xlsx")}},{key:"callbackMenuEvent",value:function(e){var t=this;"logPoidClass"==e&&this.apiService.ExportDataHomework(this.classroomId).subscribe(function(e){if(1==e.success){var n=[],o=t.commonService.sortExportDataByStudents(e.data),i=0;o.forEach(function(e){i+=1;var o={},c=0;e.dataHomework.forEach(function(e){for(var n="Nh\u1eadn x\xe9t "+ ++c,i=t.commonService.getFormartDate(e.createdAt),r=1;o[""+i];)r++,i="".concat(t.commonService.getFormartDate(e.createdAt)," (").concat(r,")");if(e.testbankExams&&"[]"!==e.testbankExams){var a=t.commonService.parseJson(e.testbankExams),s=0,l=0;a.forEach(function(e){s+=Number(e.point),l+=Number(e.total_point)}),o[""+i]="".concat(e.point,";").concat(s,"/").concat(l)}else o[""+i]=""+e.point,o[n]=null==e.result?"":t.commonService.parseJson(e.result).comment}),n.push(Object.assign({STT:i,"H\u1ecd v\xe0 t\xean":e.fullname,"Gi\u1edbi t\xednh":e.gender,"Ng\xe0y sinh":t.commonService.getFormartDate(e.birthday)},o))});var c="T\u1ed5ng k\u1ebft \u0111i\u1ec3m L\u1edbp "+t.classroomObj.name,r=$t.utils.json_to_sheet(n),a=$t.write({Sheets:{"B\u1ea3ng \u0111i\u1ec3m":r},SheetNames:["B\u1ea3ng \u0111i\u1ec3m"]},{bookType:"xlsx",type:"array"});t.saveExcelFile(a,c)}else t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")})})}},{key:"ngOnInit",value:function(){var e=this;Object(U.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){o(t),e.classroomId=e.commonService.getMyParam(e.activeRoute,"id"),e.getData(),e.menu_objs=[{code:"logPoidClass",name:"Xu\u1ea5t b\u1ea3ng \u0111i\u1ec3m l\u1edbp h\u1ecdc"}]}),this.commonService.translateMetaData({title:"lang_cms_homework_list_exercise_title",description:"lang_cms_homework_list_exercise_description",image:"lang_cms_test_image"})}}]),e}()).\u0275fac=function(e){return new(e||an)(S.Ob(m.a),S.Ob(M.a),S.Ob(I.a))},an.\u0275cmp=S.Ib({type:an,selectors:[["list-homework"]],decls:3,vars:6,consts:[[3,"menu_objs","video_links","headerTitle","back_link","MenuEvent"],[4,"ngIf"],["class","mb-2 mt-3 pb-80","style","max-width: 1400px; margin: auto;",4,"ngIf"],[1,"mb-2","mt-3","pb-80",2,"max-width","1400px","margin","auto"],[1,"header-box","mt-3","pl-2","pr-2"],[4,"ngIf","ngIfElse"],["homework",""],[1,"row","text-center","py-5"],[1,"col-12"],[1,"p-0","m-0"],[1,"row"],["class","col-md-6 col-xl-4 col-12",4,"ngFor","ngForOf"],["class","row mt-4 justify-content-center",4,"ngIf"],[1,"col-md-6","col-xl-4","col-12"],[4,"ngFor","ngForOf"],[1,"relative",3,"name","dateCreated","deadLine","totalTakeTest","totalStudent","homeworkId","isNew","hashId","redirectId"],[1,"row","mt-4","justify-content-center"],["aria-label","Page navigation pagination-nav",2,"display","inline-block"],[1,"pagination"],["class","page-item",4,"ngIf"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item"],["aria-label","Previous",1,"btn","btn-pag","page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["style","background-color: #e9ecef;","class","btn btn-pag page-link",3,"click",4,"ngIf"],["class","btn btn-pag page-link",3,"click",4,"ngIf"],[1,"btn","btn-pag","page-link",2,"background-color","#e9ecef",3,"click"],[1,"btn","btn-pag","page-link",3,"click"],["aria-label","Next",1,"btn","btn-pag","page-link",3,"click"]],template:function(e,t){1&e&&(S.Ub(0,"header-backend",0),S.bc("MenuEvent",function(e){return t.callbackMenuEvent(e)}),S.Tb(),S.Nc(1,Yt,1,0,"azt-loading-effect",1),S.Nc(2,rn,5,2,"div",2)),2&e&&(S.mc("menu_objs",t.menu_objs)("video_links",t.video_objs)("headerTitle","Danh s\xe1ch b\xe0i t\u1eadp")("back_link","/admin/homework/classes"),S.Cb(1),S.mc("ngIf",t.status_obj.loading),S.Cb(1),S.mc("ngIf",t.classroomObj))},directives:[R.a,a.m,N.a,a.l,we],styles:[".header-box[_ngcontent-%COMP%]{border:1px solid #dfdfdf;background-color:#f3f3f3;border-radius:5px;margin:0 15px}.page-item[_ngcontent-%COMP%]{margin:0 3px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.btn-pag[_ngcontent-%COMP%]{padding:5px 8px}.btn-add-teacher[_ngcontent-%COMP%]{border:1px solid #ececec}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.content-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.break[_ngcontent-%COMP%]{flex-basis:100%;width:0}"]}),an),ln=r("XhcP");function bn(e,t){1&e&&(S.Ub(0,"span"),S.Pb(1,"span",12),S.Pc(2,"\xa0"),S.Tb())}function dn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",1),S.Ub(1,"div",2),S.Ub(2,"div",3),S.Ub(3,"p",4),S.Pc(4," B\u1ea1n mu\u1ed1n x\xf3a b\xe0i t\u1eadp:"),S.Tb(),S.Ub(5,"p",5),S.Ub(6,"span",6),S.Pc(7),S.Tb(),S.Tb(),S.Tb(),S.Ub(8,"div",7),S.Ub(9,"div",8),S.Ub(10,"button",9),S.bc("click",function(){return S.Cc(n),S.fc().btnCloseDialog()}),S.Pc(11),S.gc(12,"mytranslate"),S.Tb(),S.Tb(),S.Ub(13,"button",10),S.bc("click",function(){return S.Cc(n),S.fc().confirmDelete()}),S.Nc(14,bn,3,0,"span",11),S.Pc(15),S.gc(16,"mytranslate"),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=S.fc();S.Cb(6),S.nc("matTooltip",o.data.homeworkObj.name),S.Cb(1),S.Qc(o.data.homeworkObj.name),S.Cb(4),S.Rc(" ",S.hc(12,6,"lang_cms_common_close_btn")," "),S.Cb(2),S.mc("disabled",o.isLoading),S.Cb(1),S.mc("ngIf",!0===o.isLoading),S.Cb(1),S.Rc(" ",S.hc(16,8,"lang_cms_common_confirm_btn")," ")}}var mn,un=((mn=function(){function e(t,n){l(this,e),this.commonService=t,this.apiService=n,this.closeDialog=new S.o,this.subscriptions=new w.a,this.form=new s.k({}),this.isLoading=!1,this.type=0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}return d(e,[{key:"confirmDelete",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.DeleteHomework(this.data.homeworkObj.id).subscribe(function(t){1==t.success?(e.closeDialog.emit(!0),e.status_obj={loading:!1,error:!1},e.commonService.snackSuccess("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng","")):(e.status_obj={loading:!1,error:!1,error_obj:{message:""}},e.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)}))}))}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit(!1)}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mn)(S.Ob(I.a),S.Ob(M.a))},mn.\u0275cmp=S.Ib({type:mn,selectors:[["app-delete-homework"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","mb-1"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],[1,"truncate",3,"matTooltip"],[1,"d-flex","float-right","mt-3"],[1,"zalo-share-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&S.Nc(0,dn,17,10,"div",0),2&e&&S.mc("ngIf",t.data.isShow)},directives:[a.m,z.a,F.b],pipes:[Fe.i],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),mn),hn=r("STbY"),gn=r("1jcm"),fn=["TABLE"];function pn(e,t){if(1&e&&(S.Ub(0,"tr"),S.Ub(1,"td",4),S.Pc(2),S.Tb(),S.Ub(3,"td",4),S.Pc(4),S.gc(5,"date"),S.Tb(),S.Ub(6,"td",4),S.Pc(7),S.Tb(),S.Ub(8,"td",4),S.Pc(9),S.Tb(),S.Tb()),2&e){var n=t.$implicit,o=S.fc();S.Cb(2),S.Qc(n.fullName),S.Cb(2),S.Qc(S.ic(5,4,n.birthday,"dd/MM/yyyy")),S.Cb(3),S.Qc(n.isMarked?n.point:"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),S.Cb(2),S.Qc(o.getComment(n.answer))}}var vn,kn=((vn=function(){function e(t){l(this,e),this.commonService=t,this.TABLE=S.l,this.studentList=[],this.homeworkObj={},this.currentDate="",this.tableType="homework"}return d(e,[{key:"ExportTOExcel",value:function(){var e=$t.utils.table_to_sheet(this.TABLE.nativeElement),t=$t.utils.book_new();$t.utils.book_append_sheet(t,e,"Sheet1"),this.homeworkObj.hasOwnProperty("name")?$t.writeFile(t,this.homeworkObj.name+"-ScoreSheet.xlsx"):$t.writeFile(t,"ScoreSheet.xlsx")}},{key:"getComment",value:function(e){var t="";return null!=e&&null!=e.result&&(t=this.commonService.parseJson(e.result).comment),t}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||vn)(S.Ob(I.a))},vn.\u0275cmp=S.Ib({type:vn,selectors:[["app-excel-export"]],viewQuery:function(e,t){var n;1&e&&S.Wc(fn,!0),2&e&&S.xc(n=S.cc())&&(t.TABLE=n.first)},inputs:{studentList:"studentList",homeworkObj:"homeworkObj",currentDate:"currentDate",tableType:"tableType"},decls:34,vars:7,consts:[[1,"table","table-bordered","d-none",3,"id","click"],["TABLE",""],[1,"thead-dark"],["colspan","10"],[1,"border-table"],[4,"ngFor","ngForOf"],["colspan","2"]],template:function(e,t){1&e&&(S.Ub(0,"table",0,1),S.bc("click",function(){return t.ExportTOExcel()}),S.Ub(2,"thead",2),S.Ub(3,"tr"),S.Ub(4,"th",3),S.Pc(5),S.Tb(),S.Tb(),S.Ub(6,"tr"),S.Pb(7,"th"),S.Tb(),S.Ub(8,"tr"),S.Ub(9,"th",3),S.Pc(10),S.gc(11,"date"),S.Tb(),S.Tb(),S.Ub(12,"tr"),S.Pb(13,"th"),S.Tb(),S.Ub(14,"tr"),S.Ub(15,"th",4),S.Pc(16,"H\u1ecd t\xean"),S.Tb(),S.Ub(17,"th",4),S.Pc(18,"Ng\xe0y sinh"),S.Tb(),S.Ub(19,"th",4),S.Pc(20,"\u0110i\u1ec3m"),S.Tb(),S.Ub(21,"th",4),S.Pc(22,"Nh\u1eadn x\xe9t"),S.Tb(),S.Tb(),S.Tb(),S.Ub(23,"tbody"),S.Nc(24,pn,10,7,"tr",5),S.Pb(25,"tr"),S.Ub(26,"tr"),S.Pb(27,"td"),S.Pb(28,"td"),S.Pb(29,"td"),S.Pb(30,"td"),S.Ub(31,"td",6),S.Pc(32,"Gi\xe1o vi\xean x\xe1c nh\u1eadn: "),S.Tb(),S.Pb(33,"td"),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.oc("id","table_",t.tableType,""),S.Cb(5),S.Rc("B\xe0i t\u1eadp: ",t.homeworkObj.name,""),S.Cb(5),S.Rc("Th\u1eddi gian xu\u1ea5t k\u1ebft qu\u1ea3: ",S.ic(11,4,t.currentDate,"dd/MM/yyyy"),""),S.Cb(14),S.mc("ngForOf",t.studentList))},directives:[a.l],pipes:[a.e],encapsulation:2}),vn),Cn=r("X2wh"),wn=["drawer"],xn=["boxContent"];function _n(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function Tn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"app-delete-homework",9),S.bc("closeDialog",function(e){return S.Cc(n),S.fc(2).closeDeleteHomework(e)}),S.Tb()}if(2&e){var o=S.fc(2);S.mc("data",o.deleteHomeworkData)}}function yn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"azt-preview-media",10),S.bc("closePreview",function(){return S.Cc(n),S.fc(2).onFileClose()}),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("fileOption",o.previewFile)}}function Pn(e,t){1&e&&(S.Ub(0,"div",11),S.Ub(1,"span"),S.Pc(2,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u b\xe0i t\u1eadp!"),S.Tb(),S.Tb())}function On(e,t){if(1&e&&(S.Ub(0,"p",90),S.Pc(1),S.gc(2,"date"),S.Tb()),2&e){var n=S.fc(3);S.Cb(1),S.Rc("H\u1ea1n n\u1ed9p: ",S.ic(2,1,n.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function Un(e,t){1&e&&(S.Ub(0,"p",90),S.Pc(1,"H\u1ea1n n\u1ed9p: Kh\xf4ng th\u1eddi h\u1ea1n"),S.Tb())}function Sn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",96),S.Ub(1,"div",97),S.bc("click",function(e){S.Cc(n);var o=t.$implicit;return S.fc(5).onShowFile(e,o,-1)}),S.Ub(2,"mat-icon",98),S.Pc(3," text_snippet"),S.Tb(),S.Ub(4,"span",99),S.Pc(5),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(4),S.mc("matTooltip",o.name),S.Cb(1),S.Qc(o.name)}}function Mn(e,t){if(1&e&&(S.Ub(0,"div",94),S.Nc(1,Sn,6,2,"div",95),S.Tb()),2&e){var n=S.fc(4);S.Cb(1),S.mc("ngForOf",n.homeworkObj.files)}}function In(e,t){if(1&e&&S.Pb(0,"div",100),2&e){var n=S.fc(4);S.mc("innerHTML",n.homeworkObj.content,S.Dc)}}function jn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",101),S.Ub(1,"a",102),S.bc("click",function(){return S.Cc(n),S.fc(4).goToEditHomework()}),S.Ub(2,"mat-icon",103),S.Pc(3,"edit"),S.Tb(),S.Ub(4,"span",80),S.Pc(5,"S\u1eeda"),S.Tb(),S.Tb(),S.Ub(6,"a",104),S.bc("click",function(){return S.Cc(n),S.fc(4).deleteHomework()}),S.Ub(7,"mat-icon",103),S.Pc(8,"delete"),S.Tb(),S.Ub(9,"span",80),S.Pc(10,"X\xf3a"),S.Tb(),S.Tb(),S.Tb()}}function Nn(e,t){if(1&e&&(S.Nc(0,Mn,2,1,"div",91),S.Nc(1,In,1,1,"div",92),S.Nc(2,jn,11,0,"div",93)),2&e){var n=S.fc(3);S.mc("ngIf",n.homeworkObj.files&&n.homeworkObj.files.length>0),S.Cb(1),S.mc("ngIf",n.homeworkObj.content&&""!=n.homeworkObj.content),S.Cb(1),S.mc("ngIf",0==n.classObj.isShare)}}function Dn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",105),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleShowActions()}),S.Ub(1,"mat-icon",103),S.Pc(2,"expand_more"),S.Tb(),S.Tb()}}function En(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",105),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleShowActions()}),S.Ub(1,"mat-icon",103),S.Pc(2,"expand_less"),S.Tb(),S.Tb()}}function Fn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",106),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleDrawer()}),S.Ub(1,"mat-icon",107),S.Pc(2," menu_open"),S.Tb(),S.Tb()}}function Hn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",108),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleDrawer()}),S.Ub(1,"mat-icon",109),S.Pc(2,"menu_open "),S.Tb(),S.Tb()}}function zn(e,t){if(1&e&&(S.Ub(0,"p",90),S.Pc(1),S.gc(2,"date"),S.Tb()),2&e){var n=S.fc(3);S.Cb(1),S.Rc("H\u1ea1n n\u1ed9p: ",S.ic(2,1,n.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function Ln(e,t){1&e&&(S.Ub(0,"p",90),S.Pc(1,"H\u1ea1n n\u1ed9p: Kh\xf4ng th\u1eddi h\u1ea1n"),S.Tb())}function Rn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",96),S.Ub(1,"div",97),S.bc("click",function(e){S.Cc(n);var o=t.$implicit;return S.fc(5).onShowFile(e,o,-1)}),S.Ub(2,"mat-icon",98),S.Pc(3," text_snippet"),S.Tb(),S.Ub(4,"span",99),S.Pc(5),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(4),S.mc("matTooltip",o.name),S.Cb(1),S.Qc(o.name)}}function An(e,t){if(1&e&&(S.Ub(0,"div",94),S.Nc(1,Rn,6,2,"div",95),S.Tb()),2&e){var n=S.fc(4);S.Cb(1),S.mc("ngForOf",n.homeworkObj.files)}}function Bn(e,t){if(1&e&&S.Pb(0,"div",100),2&e){var n=S.fc(4);S.mc("innerHTML",n.homeworkObj.content,S.Dc)}}function Vn(e,t){if(1&e&&(S.Nc(0,An,2,1,"div",110),S.Nc(1,Bn,1,1,"div",92)),2&e){var n=S.fc(3);S.mc("ngIf",n.homeworkObj.files&&n.homeworkObj.files.length>0),S.Cb(1),S.mc("ngIf",n.homeworkObj.content&&""!=n.homeworkObj.content)}}function Gn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",105),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleShowActions()}),S.Ub(1,"mat-icon",103),S.Pc(2,"expand_more "),S.Tb(),S.Tb()}}function Wn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",105),S.bc("click",function(){return S.Cc(n),S.fc(3).toggleShowActions()}),S.Ub(1,"mat-icon",103),S.Pc(2,"expand_less "),S.Tb(),S.Tb()}}function Jn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",111),S.Ub(1,"div",75),S.Ub(2,"form",46),S.Ub(3,"input",47),S.bc("keyup.enter",function(){return S.Cc(n),S.fc(3).search()}),S.Tb(),S.Ub(4,"div",48),S.bc("click",function(){return S.Cc(n),S.fc(3).search()}),S.Ub(5,"mat-icon",49),S.Pc(6," search "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(7,"div",112),S.Ub(8,"div",51),S.Ub(9,"button",113),S.Ub(10,"span",53),S.Pc(11,"B\u1ed9 l\u1ecdc"),S.Tb(),S.Ub(12,"mat-icon",54),S.Pc(13,"filter_alt "),S.Tb(),S.Tb(),S.Tb(),S.Ub(14,"mat-menu",55,56),S.Ub(16,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(17,"span",58),S.Pc(18," Hi\u1ec7n h\u1ecdc sinh ch\u01b0a ch\u1ea5m "),S.Tb(),S.Ub(19,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(3).toggleFilterSubmitted(e)}),S.Tb(),S.Tb(),S.Ub(20,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(21,"span",58),S.Pc(22," Hi\u1ec7n h\u1ecdc sinh ch\u01b0a n\u1ed9p "),S.Tb(),S.Ub(23,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(3).toggleFilterNotSubmit(e)}),S.Tb(),S.Tb(),S.Ub(24,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(25,"span",58),S.Pc(26," Hi\u1ec7n h\u1ecdc sinh \u0111\xe3 ch\u1ea5m "),S.Tb(),S.Ub(27,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(3).toggleFilterMarked(e)}),S.Tb(),S.Tb(),S.Ub(28,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(29,"span",58),S.Pc(30," Hi\u1ec7n h\u1ecdc sinh n\u1ed9p l\u1ea1i "),S.Tb(),S.Ub(31,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(3).toggleFilterReSubmit(e)}),S.Tb(),S.Tb(),S.Ub(32,"div",60),S.Ub(33,"a",61),S.bc("click",function(){return S.Cc(n),S.fc(3).confirmFilter()}),S.Ub(34,"span",62),S.Pc(35," \u0110\u1ed3ng \xfd "),S.Tb(),S.Tb(),S.Ub(36,"a",61),S.bc("click",function(){return S.Cc(n),S.fc(3).clearFilter()}),S.Ub(37,"span",53),S.Pc(38," X\xf3a"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=S.yc(15),i=S.fc(3);S.Cb(2),S.mc("formGroup",i.form),S.Cb(7),S.mc("matMenuTriggerFor",o),S.Cb(10),S.mc("checked",i.isSubmitted),S.Cb(4),S.mc("checked",i.isNotSubmit),S.Cb(4),S.mc("checked",i.isMarked),S.Cb(4),S.mc("checked",i.mustReSubmit)}}function $n(e,t){1&e&&(S.Ub(0,"div",74),S.Ub(1,"p",114),S.Pc(2,"Danh s\xe1ch n\u1ed9p b\xe0i"),S.Tb(),S.Tb())}function Yn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",115),S.Ub(1,"div",116),S.Ub(2,"p",114),S.Pc(3,"Danh s\xe1ch n\u1ed9p b\xe0i l\u1edbp : "),S.Ub(4,"span",40),S.bc("click",function(){return S.Cc(n),S.fc(3).goToStudentList()}),S.Pc(5),S.Tb(),S.Tb(),S.Tb(),S.Ub(6,"div",117),S.Ub(7,"div",63),S.Ub(8,"button",64),S.Ub(9,"mat-icon",65),S.Pc(10,"menu"),S.Tb(),S.Tb(),S.Tb(),S.Ub(11,"mat-menu",55,66),S.Ub(13,"a",67),S.bc("click",function(){return S.Cc(n),S.fc(3).exportToExcel("homework")}),S.Ub(14,"mat-icon",68),S.Pc(15,"file_download"),S.Tb(),S.Ub(16,"span",69),S.Pc(17," Xu\u1ea5t Excel"),S.Tb(),S.Tb(),S.Ub(18,"a",67),S.bc("click",function(){return S.Cc(n),S.fc(3).exportToPDF()}),S.Ub(19,"mat-icon",68),S.Pc(20,"picture_as_pdf"),S.Tb(),S.Ub(21,"span",70),S.Pc(22," Xu\u1ea5t PDF"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=S.yc(12),i=S.fc(3);S.Cb(4),S.nc("matTooltip",i.classObj.name),S.Cb(1),S.Rc(" ",i.classObj.name," "),S.Cb(3),S.mc("matMenuTriggerFor",o)}}function Qn(e,t){1&e&&(S.Ub(0,"div",31),S.Ub(1,"div",118),S.Ub(2,"p",119),S.Pc(3,"Kh\xf4ng t\xecm th\u1ea5y b\u1ea3n ghi b\u1ea1n \u0111ang t\xecm ki\u1ebfm!"),S.Tb(),S.Tb(),S.Tb())}function qn(e,t){if(1&e){var n=S.Vb();S.Ub(0,"app-student-result-view",120),S.bc("goToResult",function(e){return S.Cc(n),S.fc(3).goToTestReview(e)}),S.Tb()}if(2&e){var o=S.fc(3);S.mc("studentLists",o.homeworkUserList)("isNotTestedYet",o.isNotTestedYet)("isOpenSideNav",o.isOpenSideNav)("isHomeworkFlow",o.isHomeworkFlow)("obj",o.homeworkObj)}}var Kn=function(e,t){return{"w-60":e,"w-30":t}},Xn=function(e){return{"px-0":e}},Zn=function(e){return{"justify-content-center":e}};function eo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"mat-drawer-container",12),S.Ub(1,"mat-drawer",13,14),S.Ub(3,"div",15),S.Ub(4,"div",16),S.Ub(5,"div",17),S.Ub(6,"div",18),S.Ub(7,"p",19),S.Pc(8),S.Tb(),S.Tb(),S.Tb(),S.Ub(9,"div",20),S.Ub(10,"div",21),S.Ub(11,"button",22),S.bc("click",function(){return S.Cc(n),S.fc(2).showCopySuccess()}),S.Ub(12,"mat-icon",23),S.Pc(13,"file_copy"),S.Tb(),S.Pc(14," Copy link "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(15,"div",18),S.Ub(16,"p",24),S.Pc(17),S.gc(18,"date"),S.Tb(),S.Tb(),S.Ub(19,"div",18),S.Nc(20,On,3,4,"p",25),S.Nc(21,Un,2,0,"p",25),S.Tb(),S.Nc(22,Nn,3,3,"ng-template",26),S.Ub(23,"div",27),S.Nc(24,Dn,3,0,"a",28),S.Nc(25,En,3,0,"a",28),S.Tb(),S.Tb(),S.Tb(),S.Ub(26,"mat-drawer-content",29),S.Ub(27,"div",30),S.Ub(28,"div",31,32),S.Ub(30,"div",33),S.Ub(31,"div",34),S.Ub(32,"div",35),S.Ub(33,"div",36),S.Nc(34,Fn,3,0,"a",37),S.Nc(35,Hn,3,0,"a",38),S.Ub(36,"p",39),S.Ub(37,"span",40),S.bc("click",function(){return S.Cc(n),S.fc(2).goToStudentList()}),S.Pc(38),S.gc(39,"slice"),S.Tb(),S.Ub(40,"mat-icon",41),S.Pc(41," chevron_right"),S.Tb(),S.Ub(42,"span",42),S.Pc(43),S.Tb(),S.Tb(),S.Tb(),S.Ub(44,"div",43),S.Ub(45,"div",44),S.Ub(46,"div",45),S.Ub(47,"form",46),S.Ub(48,"input",47),S.bc("keyup.enter",function(){return S.Cc(n),S.fc(2).search()}),S.Tb(),S.Ub(49,"div",48),S.bc("click",function(){return S.Cc(n),S.fc(2).search()}),S.Ub(50,"mat-icon",49),S.Pc(51," search "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(52,"div",50),S.Ub(53,"div",51),S.Ub(54,"button",52),S.Ub(55,"span",53),S.Pc(56,"B\u1ed9 l\u1ecdc"),S.Tb(),S.Ub(57,"mat-icon",54),S.Pc(58,"filter_alt "),S.Tb(),S.Tb(),S.Tb(),S.Ub(59,"mat-menu",55,56),S.Ub(61,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(62,"span",58),S.Pc(63," Hi\u1ec7n h\u1ecdc sinh ch\u01b0a ch\u1ea5m "),S.Tb(),S.Ub(64,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(2).toggleFilterSubmitted(e)}),S.Tb(),S.Tb(),S.Ub(65,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(66,"span",58),S.Pc(67," Hi\u1ec7n h\u1ecdc sinh ch\u01b0a n\u1ed9p "),S.Tb(),S.Ub(68,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(2).toggleFilterNotSubmit(e)}),S.Tb(),S.Tb(),S.Ub(69,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(70,"span",58),S.Pc(71," Hi\u1ec7n h\u1ecdc sinh \u0111\xe3 ch\u1ea5m "),S.Tb(),S.Ub(72,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(2).toggleFilterMarked(e)}),S.Tb(),S.Tb(),S.Ub(73,"a",57),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(74,"span",58),S.Pc(75," Hi\u1ec7n h\u1ecdc sinh n\u1ed9p l\u1ea1i "),S.Tb(),S.Ub(76,"mat-slide-toggle",59),S.bc("change",function(e){return S.Cc(n),S.fc(2).toggleFilterReSubmit(e)}),S.Tb(),S.Tb(),S.Ub(77,"div",60),S.Ub(78,"a",61),S.bc("click",function(){return S.Cc(n),S.fc(2).confirmFilter()}),S.Ub(79,"span",62),S.Pc(80," \u0110\u1ed3ng \xfd "),S.Tb(),S.Tb(),S.Ub(81,"a",61),S.bc("click",function(){return S.Cc(n),S.fc(2).clearFilter()}),S.Ub(82,"span",53),S.Pc(83," X\xf3a"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(84,"div"),S.Ub(85,"div",63),S.Ub(86,"button",64),S.Ub(87,"mat-icon",65),S.Pc(88,"menu"),S.Tb(),S.Tb(),S.Tb(),S.Ub(89,"mat-menu",55,66),S.Ub(91,"a",67),S.bc("click",function(){return S.Cc(n),S.fc(2).exportToExcel("homework")}),S.Ub(92,"mat-icon",68),S.Pc(93,"file_download"),S.Tb(),S.Ub(94,"span",69),S.Pc(95," Xu\u1ea5t Excel"),S.Tb(),S.Tb(),S.Ub(96,"a",67),S.bc("click",function(){return S.Cc(n),S.fc(2).exportToPDF()}),S.Ub(97,"mat-icon",68),S.Pc(98,"picture_as_pdf"),S.Tb(),S.Ub(99,"span",70),S.Pc(100," Xu\u1ea5t PDF"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(101,"div",71),S.Ub(102,"div",16),S.Ub(103,"div",72),S.Ub(104,"div",18),S.Ub(105,"p",19),S.Pc(106),S.Tb(),S.Tb(),S.Tb(),S.Ub(107,"div",73),S.Ub(108,"div",21),S.Ub(109,"button",22),S.bc("click",function(){return S.Cc(n),S.fc(2).showCopySuccess()}),S.Ub(110,"mat-icon",23),S.Pc(111,"file_copy "),S.Tb(),S.Pc(112," Copy link "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(113,"div",16),S.Ub(114,"div",74),S.Ub(115,"div",18),S.Ub(116,"p",24),S.Pc(117),S.gc(118,"date"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(119,"div",16),S.Ub(120,"div",75),S.Ub(121,"div",18),S.Nc(122,zn,3,4,"p",25),S.Nc(123,Ln,2,0,"p",25),S.Tb(),S.Tb(),S.Ub(124,"div",76),S.Ub(125,"div",77),S.Ub(126,"a",78),S.bc("click",function(){return S.Cc(n),S.fc(2).goToEditHomework()}),S.Ub(127,"mat-icon",79),S.Pc(128," edit"),S.Tb(),S.Ub(129,"span",80),S.Pc(130,"S\u1eeda"),S.Tb(),S.Tb(),S.Ub(131,"a",81),S.bc("click",function(){return S.Cc(n),S.fc(2).deleteHomework()}),S.Ub(132,"mat-icon",82),S.Pc(133," delete"),S.Tb(),S.Ub(134,"span",83),S.Pc(135,"X\xf3a"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(136,Vn,2,2,"ng-template",26),S.Ub(137,"div",16),S.Ub(138,"div",74),S.Ub(139,"div",27),S.Nc(140,Gn,3,0,"a",28),S.Nc(141,Wn,3,0,"a",28),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(142,Jn,39,6,"div",84),S.Ub(143,"div",85),S.Nc(144,$n,3,0,"div",86),S.Nc(145,Yn,23,3,"ng-template",null,87,S.Oc),S.Tb(),S.Nc(147,Qn,4,0,"div",88),S.Nc(148,qn,1,5,"ng-template",26),S.Tb(),S.Pb(149,"app-excel-export",89),S.Tb(),S.Tb()}if(2&e){var o=S.yc(60),i=S.yc(90),c=S.yc(146),r=S.fc(2);S.mc("hasBackdrop",r.hasBackdrop),S.Cb(1),S.nc("opened",r.isMobile?"false":"true"),S.mc("mode",r.mode)("ngClass",S.sc(56,Kn,r.isMobile,!r.isMobile)),S.Cb(7),S.Qc(r.homeworkObj.name),S.Cb(3),S.mc("cdkCopyToClipboard",r.copylinkToClipboard(r.homeworkObj.hashId)),S.Cb(6),S.Rc("Ng\xe0y t\u1ea1o: ",S.ic(18,46,r.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),S.Cb(3),S.mc("ngIf",r.hasDeadline),S.Cb(1),S.mc("ngIf",!r.hasDeadline),S.Cb(1),S.mc("ngIf",r.isShowActions),S.Cb(2),S.mc("ngIf",!r.isShowActions),S.Cb(1),S.mc("ngIf",r.isShowActions),S.Cb(2),S.mc("ngClass",S.rc(59,Xn,r.isMobile)),S.Cb(3),S.mc("ngClass",S.rc(61,Zn,r.isMobile)),S.Cb(2),S.mc("hidden",1==r.isMobile),S.Cb(2),S.mc("ngIf",!r.isOpenSideNav||r.isMobile),S.Cb(1),S.mc("ngIf",r.isOpenSideNav&&!r.isMobile),S.Cb(2),S.nc("matTooltip",r.classObj.name),S.Cb(1),S.Rc("",r.classObj.name.length>20?S.jc(39,49,r.classObj.name,0,20)+"..":r.classObj.name," "),S.Cb(4),S.nc("matTooltip",r.homeworkObj.name),S.Cb(1),S.Rc(" ",r.homeworkObj.name," "),S.Cb(4),S.mc("formGroup",r.form),S.Cb(7),S.mc("matMenuTriggerFor",o),S.Cb(10),S.mc("checked",r.isSubmitted),S.Cb(4),S.mc("checked",r.isNotSubmit),S.Cb(4),S.mc("checked",r.isMarked),S.Cb(4),S.mc("checked",r.mustReSubmit),S.Cb(10),S.mc("matMenuTriggerFor",i),S.Cb(15),S.mc("hidden",0==r.isMobile),S.Cb(5),S.Qc(r.homeworkObj.name),S.Cb(3),S.mc("cdkCopyToClipboard",r.copylinkToClipboard(r.homeworkObj.hashId)),S.Cb(8),S.Rc("Ng\xe0y t\u1ea1o: ",S.ic(118,53,r.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),S.Cb(5),S.mc("ngIf",r.hasDeadline),S.Cb(1),S.mc("ngIf",!r.hasDeadline),S.Cb(13),S.mc("ngIf",r.isShowActions),S.Cb(4),S.mc("ngIf",!r.isShowActions),S.Cb(1),S.mc("ngIf",r.isShowActions),S.Cb(1),S.mc("ngIf",r.isMobile),S.Cb(2),S.mc("ngIf",0==r.isMobile)("ngIfElse",c),S.Cb(3),S.mc("ngIf",r.isNullSearchData),S.Cb(1),S.mc("ngIf",!r.isNullSearchData),S.Cb(1),S.mc("studentList",r.studentObjs)("homeworkObj",r.homeworkObj)("currentDate",r.currentDate)("typeTable","homework")}}function to(e,t){1&e&&S.Pb(0,"div",121)}function no(e,t){if(1&e){var n=S.Vb();S.Nc(0,Tn,1,1,"app-delete-homework",3),S.Nc(1,yn,2,1,"div",4),S.Ub(2,"div",5),S.bc("resize",function(e){return S.Cc(n),S.fc().onResize(e)},!1,S.Bc),S.Nc(3,Pn,3,0,"div",6),S.Nc(4,eo,150,63,"mat-drawer-container",7),S.Tb(),S.Nc(5,to,1,0,"div",8)}if(2&e){var o=S.fc();S.mc("ngIf",o.deleteHomeworkData.isShow),S.Cb(1),S.mc("ngIf",o.isShowPreviewFile),S.Cb(2),S.mc("ngIf",""!=o.errorMessage),S.Cb(1),S.mc("ngIf",""==o.errorMessage),S.Cb(1),S.mc("ngIf",1==o.isMobile)}}var oo,io,co,ro=((oo=function(){function t(e,n,o,i,c,r,a,b){l(this,t),this.apiService=e,this.dialog=n,this.commonService=o,this.translate=i,this.localize=c,this.activeRoute=r,this.router=a,this.fb=b,this.drawer=ln.a,this.box_content=S.l,this.currentDate=new Date,this.back_link="",this.classId=0,this.objs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.subscriptions=new w.a,this.form=new s.k({}),this.contentHeight=null,this.backUpHeight=null,this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.isHomeworkFlow=!0,this.deleteHomeworkData={homeworkObj:"",isShow:!1},this.homeworkUserList=[],this.studentObjs=[],this.homeworkObj={},this.classObj={},this.files=[],this.isNotTestedYet=!1,this.isNullSearchData=!1,this.hasDeadline=!1,this.isShowPreviewFile=!1,this.previewFile={},this.errorMessage="",this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1}return d(t,[{key:"getData",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.GetStudentsHomework(this.homeworkId,this.classId).subscribe(function(t){if(1==t.success){if(e.errorMessage="",e.homeworkUserList=e.checkStatusStudent(t.data.studentObjs),e.homeworkObj=e.parseHomeworkData(t.data.homeworkObj),e.classObj=t.data.classroomObj,e.back_link="/admin/homework/homework-list/"+e.classObj.id,e.homeworkObj.deadline&&null!=e.homeworkObj.deadline&&""!=e.homeworkObj.deadline&&(e.hasDeadline=!0),0==e.homeworkUserList.length)return e.isNotTestedYet=!0,void(e.status_obj={loading:!1,error:!1,error_obj:{message:"NO_TESTED_YET"}});e.studentObjs=e.homeworkUserList,e.isNullSearchData=!1,e.status_obj={loading:!1,error:!1}}else e.errorMessage=t.message,e.status_obj={loading:!1,error:!1},e.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)})}))}},{key:"checkStatusStudent",value:function(e){for(var t=[],n=0;n<e.length;n++)e[n].confirmedAt&&e[n].confirmedAt?e[n].isMarked=!0:null==e[n].answer||e[n].confirmedAt?null==e[n].answer&&null!=e[n].answerHistory?e[n].mustReSubmit=!0:e[n].isNotSubmit=!0:e[n].isSubmitted=!0,e[n]=Object.assign(Object.assign({},e[n]),{index:n}),t.push(e[n]);return t}},{key:"parseHomeworkData",value:function(e){return e.files&&(e.files=this.commonService.parseJson(e.files)),e}},{key:"search",value:function(){var e=this,t=this.commonService.getFormObj(this.form);""!=t.searchContent?this.subscriptions.add(this.apiService.searchStudentHomework(this.homeworkObj.id,this.classObj.id,t.searchContent).subscribe(function(t){if(1==t.success){if(t.data.studentObjs&&0!=t.data.studentObjs.length){if(e.homeworkUserList=e.checkStatusStudent(t.data.studentObjs),0==e.homeworkUserList.length)return e.isNotTestedYet=!0,void(e.status_obj={loading:!1,error:!1,error_obj:{message:"NO_TESTED_YET"}});e.isNullSearchData=!1}else e.isNullSearchData=!0,e.homeworkUserList=[];e.status_obj={loading:!1,error:!1}}else e.isNotTestedYet=!0,e.status_obj={loading:!1,error:!1,error_obj:{message:"NO_TESTED_YET"}}})):(this.homeworkUserList=this.studentObjs,this.isNullSearchData=!1,this.status_obj={loading:!1,error:!1,error_obj:{message:"NO_TESTED_YET"}})}},{key:"toggleFilterSubmitted",value:function(e){this.isSubmitted=!!e.checked}},{key:"toggleFilterNotSubmit",value:function(e){this.isNotSubmit=!!e.checked}},{key:"toggleFilterMarked",value:function(e){this.isMarked=!!e.checked}},{key:"toggleFilterReSubmit",value:function(e){this.mustReSubmit=!!e.checked}},{key:"confirmFilter",value:function(){var t=[],n=[],o=[],i=[];this.isSubmitted&&(t=this.studentObjs.filter(function(e){return 1==e.isSubmitted})),this.isNotSubmit&&(n=this.studentObjs.filter(function(e){return 1==e.isNotSubmit})),this.isMarked&&(o=this.studentObjs.filter(function(e){return 1==e.isMarked})),this.mustReSubmit&&(i=this.studentObjs.filter(function(e){return 1==e.mustReSubmit})),this.isSubmitted||this.isNotSubmit||this.isMarked||this.mustReSubmit?this.homeworkUserList=this.sortIndex([].concat(e(t),e(n),e(o),e(i))):this.clearFilter()}},{key:"clearFilter",value:function(){this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.homeworkUserList=this.studentObjs}},{key:"exportToExcel",value:function(e){setTimeout(function(){var t;null===(t=document.getElementById("table_"+e))||void 0===t||t.click()},1e3)}},{key:"exportToPDF",value:function(){this.commonService.gaEvent("go_to_exp_pdf_homework");var e=this.localize.translateRoute("/admin/homework/export-homework")+"/"+this.classId+"/"+this.homeworkId;window.open(e,"_blank")}},{key:"resizeImg",value:function(e,t,n){var o=document.getElementById("media_content_"+e),i=null==o?void 0:o.offsetWidth;return o?i/t<=1?Math.round(n*(i/t)):Math.round(n):0}},{key:"sortIndex",value:function(e){return e.sort(function(e,t){return e-t})}},{key:"sortByName",value:function(){this.homeworkUserList=this.commonService.sortFirstNameStudents(this.studentObjs)}},{key:"onResize",value:function(e){e.target.innerWidth<768?(this.contentHeight=this.box_content.nativeElement.offsetHeight+45,this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.contentHeight=166,this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isOpenSideNav=!0)}},{key:"checkWitdh",value:function(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1)}},{key:"isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"goToTestReview",value:function(e){this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+e.answer.id,"?backto="+encodeURIComponent("/admin/homework/score-list/"+this.classId+"/"+this.homeworkId))}},{key:"goToEditHomework",value:function(){this.commonService.myNavigation("/admin/homework/add-new-homework/"+this.homeworkObj.id)}},{key:"disableScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollLeft,t=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=function(){window.scrollTo(e,t)}}},{key:"enableScroll",value:function(){window.onscroll=function(){}}},{key:"deleteHomework",value:function(){this.deleteHomeworkData={homeworkObj:this.homeworkObj,isShow:!0}}},{key:"closeDeleteHomework",value:function(e){e?(this.deleteHomeworkData={homeworkObj:"",isShow:!1},this.commonService.myNavigation("/admin/homework/homework-list/"+this.classObj.id)):this.deleteHomeworkData={homeworkObj:"",isShow:!1}}},{key:"onFileClose",value:function(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile=null}},{key:"onShowFile",value:function(e,t,n){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},t),{index:n})}},{key:"toggleDrawer",value:function(){this.drawer.toggle(),this.isOpenSideNav=!this.isOpenSideNav}},{key:"toggleShowActions",value:function(){this.isShowActions=!this.isShowActions,this.isMobile&&(this.contentHeight=0==this.isShowActions?200:this.backUpHeight)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i","")}},{key:"copylinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(e)}},{key:"goToStudentList",value:function(){this.commonService.myNavigation("/admin/student/student-list")}},{key:"ngOnInit",value:function(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.homeworkId=this.activeRoute.snapshot.paramMap.get("id"),this.classId=this.activeRoute.snapshot.paramMap.get("class_id"),this.form=this.fb.group({searchContent:new s.h("",s.z.required)}),this.getData(),this.checkWitdh(),this.commonService.translateMetaData({title:"lang_cms_homework_submit_list_title",description:"lang_cms_homework_submit_list_description",image:"lang_cms_homework_image"})}},{key:"ngAfterViewInit",value:function(){var e=this;this.isMobile?setTimeout(function(){e.contentHeight=e.box_content.nativeElement.offsetHeight+45,e.backUpHeight=e.box_content.nativeElement.offsetHeight+45},1e3):this.contentHeight=166}}]),t}()).\u0275fac=function(e){return new(e||oo)(S.Ob(M.a),S.Ob(b.b),S.Ob(I.a),S.Ob(dt.c),S.Ob(v.e),S.Ob(m.a),S.Ob(m.i),S.Ob(s.g))},oo.\u0275cmp=S.Ib({type:oo,selectors:[["app-homework-submit-list"]],viewQuery:function(e,t){var n;1&e&&(S.Wc(wn,!0),S.Wc(xn,!0)),2&e&&(S.xc(n=S.cc())&&(t.drawer=n.first),S.xc(n=S.cc())&&(t.box_content=n.first))},decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[4,"ngIf"],[1,"container-fluid","py-3","mt-md-3",3,"resize"],["class","alert alert-danger",4,"ngIf"],["class","tested_list_container","style","border-radius: 5px;",3,"hasBackdrop",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"data","closeDialog"],[3,"fileOption","closePreview"],[1,"alert","alert-danger"],[1,"tested_list_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"test",2,"background-color","#ecf0f5","border","none",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","box-content","pt-2","pb-2"],[1,"row"],[1,"col-md-6"],[1,"text-left"],[1,"homework_title","mt-2","mb-2"],[1,"col-md-6","block-btn"],[1,"d-flex","justify-content-end","align-self-end"],["tabindex","-1","mat-button","",1,"btn",2,"font-size","10px","padding-top","0","color","#0eafc0",3,"cdkCopyToClipboard","click"],[2,"font-size","12px","padding-top","5px"],[1,"mb-1",2,"font-size","14px","color","#8E8E8E"],["class","mb-1","style","font-size: 14px; color: #0EAFC0;",4,"ngIf"],[3,"ngIf"],[1,"text-center"],["class","clickable","style","user-select: none;",3,"click",4,"ngIf"],[2,"background-color","#ecf0f5","overflow","hidden"],[1,"container-fluid","content-zone",2,"background-color","#ecf0f5",3,"ngClass"],[1,"box-content","py-2"],["boxContent",""],[1,"row","pl-0","pr-0","ml-0","mr-0",3,"ngClass"],[1,"col-md-12","pl-0","pr-0"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between",3,"hidden"],[1,"col-sm-6","d-flex"],["class","clickable","matTooltip","M\u1edf menu",3,"click",4,"ngIf"],["class","clickable","matTooltip","\u0110\xf3ng menu",3,"click",4,"ngIf"],[1,"mb-0","ml-3","align-self-center"],[1,"clickable","link-stu",2,"vertical-align","middle",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464a1","height","20px","font-size","20px","width","20px"],[1,"truncate_custom",2,"vertical-align","middle",3,"matTooltip"],[1,"col-sm-6","align-self-center"],[1,"d-flex","justify-content-end"],[1,"col-6","pl-0","pr-0","text-right"],[2,"position","relative",3,"formGroup"],["type","text","formControlName","searchContent","placeholder","T\xecm ki\u1ebfm",1,"input-search",3,"keyup.enter"],[1,"search-icon","clickable",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","18px","height","16px","width","18px"],[1,"ml-2","mr-2","text-center"],[1,"filter_btn"],["mat-button","",1,"menu-button",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#828282"],[2,"font-size","16px","height","16px"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",1,"cursorDefault","mb-2",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle"],["color","primary",2,"vertical-align","middle","margin-left","5px",3,"checked","change"],[1,"d-flex","justify-content-end","px-2"],["mat-menu-item","",1,"clickable",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle","color","#0EAFC0"],[1,"filter_btn","bg-light"],["mat-button","",1,"menu-button","pl-0","pr-0","pb-0",2,"min-width","auto",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#333333"],["menu","matMenu"],["mat-menu-item","",1,"clickable","mb-2",2,"height","30px","line-height","30px",3,"click"],[1,"menu-icon"],["matTooltip","Xu\u1ea5t Excel",2,"vertical-align","middle","color","#828282"],["matTooltip","Xu\u1ea5t PDF",2,"vertical-align","middle","color","#828282"],[1,"col-12",3,"hidden"],[1,"col-6"],[1,"col-6","block-btn"],[1,"col-12"],[1,"col-8"],[1,"col-4"],[1,"d-flex","justify-content-end","align-self-center"],[1,"clickable","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#8E8E8E","font-size","19px"],[2,"vertical-align","middle","color","#8E8E8E","font-size","14px"],[1,"clickable","ml-3","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#bd3737","font-size","19px"],[2,"vertical-align","middle","color","#bd3737","font-size","14px"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","ml-0","mr-0",2,"width","100%"],["class","col-12",4,"ngIf","ngIfElse"],["dd",""],["class","box-content py-2",4,"ngIf"],[3,"studentList","homeworkObj","currentDate","typeTable"],[1,"mb-1",2,"font-size","14px","color","#0EAFC0"],["class","row ml-0 mr-0 files_zone mt-3",4,"ngIf"],["class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],["class","d-flex justify-content-end align-self-center mt-2",4,"ngIf"],[1,"row","ml-0","mr-0","files_zone","mt-3"],["class","col-12 col-sm-12 col-md-12 align-self-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12","align-self-center"],[1,"file_obj","d-flex","text-left","py-2","clickable",3,"click"],[2,"font-size","18px","vertical-align","middle","color","#3C8DBC","margin-right","3px","height","20px","width","20px"],[1,"truncate",2,"vertical-align","middle","color","#3C8DBC",3,"matTooltip"],[1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"d-flex","justify-content-end","align-self-center","mt-2"],[1,"clickable",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#8E8E8E"],[1,"clickable","ml-3",2,"user-select","none","font-size","16px",3,"click"],[1,"clickable",2,"user-select","none",3,"click"],["matTooltip","M\u1edf menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],["matTooltip","\u0110\xf3ng menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464"],["class","row ml-0 mr-0  files_zone mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-4","pl-0"],["mat-button","",1,"menu-button","menu-button-mb",3,"matMenuTriggerFor"],[1,"mb-1","h6",2,"font-weight","400","font-size","14px"],[1,"row","align-items-center","mx-auto",2,"width","100%"],[1,"col-10","p-0","text-left"],[1,"col-2","p-0","pb-2","d-flex","justify-content-end"],[1,"text-center","mt-3"],[1,"h4"],[3,"studentLists","isNotTestedYet","isOpenSideNav","isHomeworkFlow","obj","goToResult"],[1,"py-4"]],template:function(e,t){if(1&e&&(S.Pb(0,"header-backend",0),S.Nc(1,_n,1,0,"azt-loading-effect",1),S.Nc(2,no,6,5,"ng-template",null,2,S.Oc)),2&e){var n=S.yc(3);S.mc("headerTitle",t.homeworkObj.name)("back_link",t.back_link),S.Cb(1),S.mc("ngIf",t.status_obj.loading)("ngIfElse",n)}},directives:[R.a,a.m,N.a,un,A.a,ln.b,ln.a,a.k,F.b,pe.a,H.a,ln.c,z.a,s.B,s.s,s.l,s.d,s.r,s.j,hn.d,hn.a,hn.b,gn.a,kn,a.l,Cn.a],pipes:[a.e,a.u],styles:[".tested_list_container[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 77px - .5rem)}  .mat-drawer-inner-container::-webkit-scrollbar{width:8px;margin:5px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}  .mat-drawer-inner-container{overflow:auto!important}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}.exam_info[_ngcontent-%COMP%]{padding:8px 16px}.exam_title[_ngcontent-%COMP%]{font-size:16px;color:#646464}.w-30[_ngcontent-%COMP%]{width:30%}.w-60[_ngcontent-%COMP%]{width:60%}.search-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid hsla(0,0%,91.8%,.8901960784313725);padding:.1rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:1px solid #0eafc0;outline:none}.btn_action[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;box-shadow:none}.filter_btn[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;border:1px solid hsla(0,0%,91.8%,.8901960784313725);border-radius:3px;text-transform:none;padding-right:6px;padding-bottom:3px;color:#414141;line-height:20px}.content-zone[_ngcontent-%COMP%]{height:100%}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 466px);overflow-y:scroll;padding-bottom:80px!important}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.truncate_custom[_ngcontent-%COMP%]{max-width:80%;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.homework_title[_ngcontent-%COMP%]{font-size:16px;color:#646464;word-break:break-word}.description[_ngcontent-%COMP%], .files_zone[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;font-size:13px;word-break:break-word}.cursorDefault[_ngcontent-%COMP%]{cursor:default}@media (max-width:756px){.tested_list_container[_ngcontent-%COMP%]{height:auto}.truncate_custom[_ngcontent-%COMP%]{max-width:70%}}.input-search-mb[_ngcontent-%COMP%]{width:100%;padding:2px}.menu-button-mb[_ngcontent-%COMP%]{text-align:center;width:100%}  .truncate{word-break:break-word!important;white-space:unset!important}"]}),oo),ao=r("AytR"),so=((co=function(){function e(t,n,o,i,c,r,a){l(this,e),this.dialogRef=t,this.apiService=n,this.fb=o,this.commonService=i,this.router=c,this.localizeService=r,this.data=a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.subscriptions=new w.a,this.form=new s.k({}),this.result=!1}return d(e,[{key:"getData",value:function(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.status_obj=this.data.status?{loading:!1,error:!1,error_obj:{message:""}}:{loading:!1,error:!0,error_obj:{message:"Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"}}}},{key:"cleanResult",value:function(){var e=this,t=this.commonService.getFormObj(this.form),n={id:this.data.ans_id,resendNote:t.reason};this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.ResendAnswer(n).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("G\u1eedi y\xeau c\u1ea7u th\xe0nh c\xf4ng",""),e.result=!0,e.onSubmit({result:e.result,id:e.data.ans_id,itemHomework:e.data.itemHomework}),e.data.redirect&&e.commonService.myNavigation("/admin/homework/score-list/"+e.data.classID+"/"+e.data.itemHomework.id),e.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(e.commonService.snackError("G\u1eedi y\xeau c\u1ea7u kh\xf4ng th\xe0nh c\xf4ng",""),e.result=!1,e.onSubmit({result:e.result,id:e.data.ans_id,itemHomework:e.data.itemHomework}),e.status_obj={loading:!1,error:!0,error_obj:{message:t.message}})}))}},{key:"ngOnInit",value:function(){this.getData(),this.form=this.fb.group({reason:new s.h("",s.z.required)})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onSubmit",value:function(e){this.dialogRef.close(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||co)(S.Ob(b.g),S.Ob(M.a),S.Ob(s.g),S.Ob(I.a),S.Ob(m.i),S.Ob(v.e),S.Ob(b.a))},co.\u0275cmp=S.Ib({type:co,selectors:[["clean-result-dialog"]],decls:32,vars:8,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"text-center"],[1,"h5"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger","text-center"],[1,"h5","mb-1"],[1,"text-danger"],[1,"h5","text-danger","mt-1","mb-1"],["type","text","id","reason","formControlName","reason",1,"form-control"],["mat-dialog-actions","",1,"d-flex","float-right","mt-3"],[1,"zalo-share-button"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Ub(3,"span",3),S.Pc(4,"..."),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(5,"div",0),S.Ub(6,"form",4),S.Ub(7,"div",5),S.Ub(8,"p",6),S.Pc(9,"Y\xeau c\u1ea7u n\u1ed9p l\u1ea1i b\xe0i"),S.Tb(),S.Tb(),S.Ub(10,"div",7),S.Ub(11,"p",8),S.Pc(12,"(*) L\u01b0u \xfd:"),S.Tb(),S.Ub(13,"p",9),S.Pc(14,"Khi \u1ea5n x\xe1c nh\u1eadn, c\xe2u tr\u1ea3 l\u1eddi c\u1ee7a "),S.Ub(15,"span",10),S.Pc(16),S.Tb(),S.Pc(17," trong b\xe0i t\u1eadp ng\xe0y\xa0"),S.Ub(18,"span",10),S.Pc(19),S.gc(20,"date"),S.Tb(),S.Pc(21,"\xa0s\u1ebd b\u1ecb x\xf3a!"),S.Tb(),S.Pb(22,"hr"),S.Ub(23,"p",11),S.Pc(24,"L\xfd do y\xeau c\u1ea7u n\u1ed9p l\u1ea1i"),S.Tb(),S.Pb(25,"input",12),S.Tb(),S.Tb(),S.Tb(),S.Ub(26,"div",13),S.Ub(27,"div",14),S.Ub(28,"button",15),S.bc("click",function(){return t.cleanResult()}),S.Pc(29," X\xe1c nh\u1eadn "),S.Tb(),S.Tb(),S.Ub(30,"button",16),S.bc("click",function(){return t.onNoClick()}),S.Pc(31,"H\u1ee7y"),S.Tb(),S.Tb()),2&e&&(S.mc("hidden",!t.status_obj.loading),S.Cb(5),S.mc("hidden",t.status_obj.loading),S.Cb(1),S.mc("formGroup",t.form),S.Cb(10),S.Rc(" ",t.data.name," "),S.Cb(3),S.Qc(S.ic(20,5,t.data.deadline?t.data.deadline:t.data.itemHomework.createdAt,"dd/MM/yyyy")))},directives:[s.B,s.s,s.l,s.d,s.r,s.j,b.c],pipes:[a.e],encapsulation:2}),co),lo=((io=function(){function e(t,n,o,i,c,r){l(this,e),this.dialogRef=t,this.apiService=n,this.router=o,this.commonService=i,this.localizeService=c,this.data=r,this.success=!1}return d(e,[{key:"ngOnInit",value:function(){this.success=this.data.status}},{key:"checkNextAns",value:function(){var e=this;this.apiService.GetNextObjByHomework(this.data.homeWorkID).subscribe(function(t){0==t.success?(e.dialogRef.close(),e.commonService.myNavigation("/admin/homework/score-list/"+e.data.classID+"/"+e.data.homeWorkID)):(e.dialogRef.close(),e.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+t.data.id,"?backto="+encodeURIComponent(e.data.backtoLink)),setTimeout(function(){document.location.reload()},500))})}},{key:"onNoClick",value:function(){this.dialogRef.close(),document.location.reload()}}]),e}()).\u0275fac=function(e){return new(e||io)(S.Ob(b.g),S.Ob(M.a),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e),S.Ob(b.a))},io.\u0275cmp=S.Ib({type:io,selectors:[["notice-dialog"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"margin-bottom","20px"],["mat-dialog-actions",""],[1,"btn","btn-primary",2,"margin-right","15px",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(e,t){1&e&&(S.Ub(0,"h2",0),S.Pc(1,"Ch\u1ea5m b\xe0i th\xe0nh c\xf4ng!"),S.Tb(),S.Ub(2,"div",1),S.Pc(3),S.Tb(),S.Ub(4,"div",2),S.Ub(5,"button",3),S.bc("click",function(){return t.onNoClick()}),S.Pc(6,"OK"),S.Tb(),S.Ub(7,"button",4),S.bc("click",function(){return t.checkNextAns()}),S.Pc(8,"Ch\u1ea5m ti\u1ebfp"),S.Tb(),S.Tb()),2&e&&(S.Cb(3),S.Rc("B\xe0i l\xe0m n\xe0y \u0111\u01b0\u1ee3c ch\u1ea5m ",t.data.score," \u0111i\u1ec3m"))},directives:[b.h,b.e,b.c],encapsulation:2}),io),bo=r("wZkO"),mo=r("5RNC"),uo=function(e,t){return{"font-family":"font_chu_dep","font-size.px":e,color:t}};function ho(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",28),S.Ub(2,"div",29),S.Ub(3,"div",2),S.Ub(4,"h2"),S.Pc(5,"M\u1ed9t ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(6,"input",30),S.Tb(),S.Tb(),S.Ub(7,"div",31),S.Ub(8,"div",2),S.Ub(9,"h2"),S.Pc(10,"Hai ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(11,"input",32),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngStyle",S.sc(1,uo,n.f.fontSize.value,n.f.fontColor.value))}}var go=function(e,t){return{"font-family":"font_chu_in","font-size.px":e,color:t}};function fo(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",28),S.Ub(2,"div",29),S.Ub(3,"div",2),S.Ub(4,"h2"),S.Pc(5,"M\u1ed9t ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(6,"input",30),S.Tb(),S.Tb(),S.Ub(7,"div",31),S.Ub(8,"div",2),S.Ub(9,"h2"),S.Pc(10,"Hai ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(11,"input",32),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngStyle",S.sc(1,go,n.f.fontSize.value,n.f.fontColor.value))}}var po=function(e,t){return{"font-family":"font_chu_nghieng","font-size.px":e,color:t}};function vo(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",33),S.Ub(2,"div",29),S.Ub(3,"div",2),S.Ub(4,"h2"),S.Pc(5,"M\u1ed9t ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(6,"input",30),S.Tb(),S.Tb(),S.Ub(7,"div",31),S.Ub(8,"div",2),S.Ub(9,"h2"),S.Pc(10,"Hai ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(11,"input",32),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngStyle",S.sc(1,po,n.f.fontSize.value,n.f.fontColor.value))}}var ko=function(e,t){return{"font-family":"font_chu_dam","font-size.px":e,color:t}};function Co(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",28),S.Ub(2,"div",29),S.Ub(3,"div",2),S.Ub(4,"h2"),S.Pc(5,"M\u1ed9t ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(6,"input",30),S.Tb(),S.Tb(),S.Ub(7,"div",31),S.Ub(8,"div",2),S.Ub(9,"h2"),S.Pc(10,"Hai ch\u1ea1m th\xeam icon : "),S.Tb(),S.Pb(11,"input",32),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngStyle",S.sc(1,ko,n.f.fontSize.value,n.f.fontColor.value))}}function wo(e,t){if(1&e&&(S.Ub(0,"mat-option",34),S.Pc(1),S.Tb()),2&e){var n=t.$implicit;S.mc("value",n.value),S.Cb(1),S.Rc(" ",n.viewValue," ")}}function xo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",35),S.Ub(1,"img",36),S.bc("click",function(){S.Cc(n);var e=t.index,o=S.fc();return o.changeSrcImg(o.imgTrueArr,e,1)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc();S.Cb(1),S.pc("src","",i.urlImg,"",o.src,"",S.Gc)}}function _o(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",35),S.Ub(1,"img",36),S.bc("click",function(){S.Cc(n);var e=t.index,o=S.fc();return o.changeSrcImg(o.imgFalseArr,e,0)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc();S.Cb(1),S.pc("src","",i.urlImg,"",o.src,"",S.Gc)}}var To,yo=((To=function(){function e(t,n,o){l(this,e),this.fb=t,this.apiService=n,this.commonService=o,this.ChangeEvent=new S.o,this.isShow=!1,this.disabled=!1,this.color="primary",this.touchUi=!1,this.subscription=new w.a,this.dataSettings="",this.form=new s.k({}),this.srcImgTrue="",this.srcImgFalse="",this.base_s3_api="",this.urlImg="/assets/images/classlive/",this.fontFamilies=[{id:0,value:"font_chu_dep",viewValue:"Ch\u1eef \u0111\u1eb9p"},{id:1,value:"font_chu_in",viewValue:"Ch\u1eef in"},{id:2,value:"font_chu_nghieng",viewValue:"Ch\u1eef nghi\xeang"},{id:3,value:"font_chu_dam",viewValue:"Ch\u1eef \u0111\u1eadm"}],this.imgTrueArr=[{id:0,src:"images/rightwrong/right1.png"},{id:1,src:"images/rightwrong/right2.png"},{id:2,src:"images/rightwrong/right3.png"},{id:3,src:"images/rightwrong/right4.png"},{id:4,src:"images/rightwrong/right5.png"}],this.imgFalseArr=[{id:0,src:"images/rightwrong/wrong1.png"},{id:1,src:"images/rightwrong/wrong2.png"},{id:2,src:"images/rightwrong/wrong3.png"},{id:3,src:"images/rightwrong/wrong4.png"},{id:4,src:"images/rightwrong/wrong5.png"}],this.colorArr=[{id:0,name:"red",hashCode:""},{id:1,name:"yellow",hashCode:""},{id:2,name:"green",hashCode:""},{id:3,name:"blue",hashCode:""},{id:4,name:"black",hashCode:""}]}return d(e,[{key:"saveConfig",value:function(){var e=this.commonService.getFormObj(this.form);this.sharePermissionForTeacherId(JSON.stringify(e)),this.ChangeEvent.emit(e)}},{key:"sharePermissionForTeacherId",value:function(e){var t=this;this.apiService.SaveClassliveTrueFalseIcon(e).subscribe(function(e){1==e.success||t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"\u0110\xf3ng")})})}},{key:"changeFontSize",value:function(e){this.form.controls.fontSize.setValue(e.value)}},{key:"changeUseText",value:function(e){0==e.index&&(this.form.controls.useWrongText.setValue(!0),this.form.controls.useCorrectText.setValue(!0)),1==e.index&&(this.form.controls.useWrongText.setValue(!1),this.form.controls.useCorrectText.setValue(!1))}},{key:"changeSrcImg",value:function(e,t,n){1==n&&this.form.controls.urlImgCorrect.setValue(e[t].src),0==n&&this.form.controls.urlImgWrong.setValue(e[t].src)}},{key:"changeColor",value:function(e,t){this.form.controls.fontColor.setValue(e[t].name)}},{key:"ngOnInit",value:function(){this.base_s3_api=ao.a.base_s3_api,this.form=this.fb.group({urlImgCorrect:new s.h(this.classliveTrueFalseIcon.urlImgCorrect),urlImgWrong:new s.h(this.classliveTrueFalseIcon.urlImgWrong),textCorrect:new s.h(this.classliveTrueFalseIcon.textCorrect),textWrong:new s.h(this.classliveTrueFalseIcon.textWrong),useCorrectText:new s.h(this.classliveTrueFalseIcon.useCorrectText),useWrongText:new s.h(this.classliveTrueFalseIcon.useWrongText),correctWidth:new s.h(this.classliveTrueFalseIcon.correctWidth),correctHeight:new s.h(this.classliveTrueFalseIcon.correctHeight),wrongWidth:new s.h(this.classliveTrueFalseIcon.wrongWidth),wrongHeight:new s.h(this.classliveTrueFalseIcon.wrongHeight),fontSize:new s.h(this.classliveTrueFalseIcon.fontSize),fontColor:new s.h(this.classliveTrueFalseIcon.fontColor),fontText:new s.h(this.classliveTrueFalseIcon.fontText)}),1==this.classliveTrueFalseIcon.useCorrectText&&this.classliveTrueFalseIcon.useWrongText&&(this.selected=new s.h(0)),0==this.classliveTrueFalseIcon.useCorrectText&&0==this.classliveTrueFalseIcon.useWrongText&&(this.selected=new s.h(1))}},{key:"ngOnChanges",value:function(){}},{key:"f",get:function(){return this.form.controls}}]),e}()).\u0275fac=function(e){return new(e||To)(S.Ob(s.g),S.Ob(M.a),S.Ob(I.a))},To.\u0275cmp=S.Ib({type:To,selectors:[["azt-settings-mark"]],inputs:{classliveTrueFalseIcon:"classliveTrueFalseIcon",isShow:"isShow"},outputs:{ChangeEvent:"ChangeEvent"},features:[S.Ab],decls:45,vars:13,consts:[[1,"container","py-3","p-0"],[1,"row","p-0","m-0","position-row"],[1,"col-12"],[3,"formGroup","click"],[3,"selectedIndex","selectedTabChange"],["label","Icon Ch\u1eef"],[1,"pt-4"],[4,"ngIf"],[1,"row","m-0","p-0"],[1,"font-size-title","m-0","pt-4"],["step","1","min","12","formControlName","fontSize","max","50","thumbLabel","","color","primary",1,"px-0",2,"width","100%",3,"change"],[1,"font-size-title","m-0","pt-3","pb-3"],["appearance","fill"],["formControlName","fontText"],[3,"value",4,"ngFor","ngForOf"],["label","Icon \u1ea2nh"],[1,"row","p-0","m-0","pt-4"],[1,"d-flex","align-items-center","pb-3"],[1,"m-0","pr-3"],[1,"img-border"],["width","30px","height","30px",3,"src"],[1,"d-flex","pb-3"],["class","pl-3",4,"ngFor","ngForOf"],[1,"hr-line"],[1,"d-flex","align-items-center","pb-3","pt-3"],[1,"d-flex"],[1,"row","p-0","m-0","mt-5"],[1,"button-confirm",3,"click"],[3,"ngStyle"],[1,"row","p-0","m-0","mb-3"],["type","text","formControlName","textCorrect",1,"input-control"],[1,"row","p-0","m-0"],["type","text","formControlName","textWrong",1,"input-control"],[2,"font-style","italic",3,"ngStyle"],[3,"value"],[1,"pl-3"],["width","30px","height","30px",1,"clickable",3,"src","click"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Ub(3,"form",3),S.bc("click",function(e){return e.stopPropagation()}),S.Ub(4,"mat-tab-group",4),S.bc("selectedTabChange",function(e){return t.changeUseText(e)}),S.Ub(5,"mat-tab",5),S.Ub(6,"div",6),S.Nc(7,ho,12,4,"div",7),S.Nc(8,fo,12,4,"div",7),S.Nc(9,vo,12,4,"div",7),S.Nc(10,Co,12,4,"div",7),S.Ub(11,"div",8),S.Ub(12,"div",2),S.Ub(13,"h4",9),S.Pc(14," C\u1ee1 ch\u1eef "),S.Tb(),S.Ub(15,"mat-slider",10),S.bc("change",function(e){return t.changeFontSize(e)}),S.Tb(),S.Tb(),S.Tb(),S.Ub(16,"div",8),S.Ub(17,"div",2),S.Ub(18,"h4",11),S.Pc(19," Ch\u1ecdn font ch\u1eef "),S.Tb(),S.Ub(20,"mat-form-field",12),S.Ub(21,"mat-select",13),S.Nc(22,wo,2,2,"mat-option",14),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(23,"mat-tab",15),S.Ub(24,"div",16),S.Ub(25,"div",2),S.Ub(26,"div",17),S.Ub(27,"h2",18),S.Pc(28,"M\u1ed9t ch\u1ea1m th\xeam icon : "),S.Tb(),S.Ub(29,"div",19),S.Pb(30,"img",20),S.Tb(),S.Tb(),S.Ub(31,"div",21),S.Nc(32,xo,2,2,"div",22),S.Tb(),S.Pb(33,"hr",23),S.Ub(34,"div",24),S.Ub(35,"h2",18),S.Pc(36,"Hai ch\u1ea1m th\xeam icon : "),S.Tb(),S.Ub(37,"div",19),S.Pb(38,"img",20),S.Tb(),S.Tb(),S.Ub(39,"div",25),S.Nc(40,_o,2,2,"div",22),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(41,"div",26),S.Ub(42,"div",2),S.Ub(43,"button",27),S.bc("click",function(){return t.saveConfig()}),S.Pc(44,"\xc1P D\u1ee4NG"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.Cb(3),S.mc("formGroup",t.form),S.Cb(1),S.mc("selectedIndex",t.selected.value),S.Cb(3),S.mc("ngIf","font_chu_dep"==t.f.fontText.value),S.Cb(1),S.mc("ngIf","font_chu_in"==t.f.fontText.value),S.Cb(1),S.mc("ngIf","font_chu_nghieng"==t.f.fontText.value),S.Cb(1),S.mc("ngIf","font_chu_dam"==t.f.fontText.value),S.Cb(12),S.mc("ngForOf",t.fontFamilies),S.Cb(8),S.pc("src","",t.urlImg,"",t.f.urlImgCorrect.value,"",S.Gc),S.Cb(2),S.mc("ngForOf",t.imgTrueArr),S.Cb(6),S.pc("src","",t.urlImg,"",t.f.urlImgWrong.value,"",S.Gc),S.Cb(2),S.mc("ngForOf",t.imgFalseArr))},directives:[s.B,s.s,s.l,bo.b,bo.a,a.m,mo.a,s.r,s.j,D.d,Ee.a,a.l,a.n,s.d,T.n],styles:['@font-face{font-family:font_chu_in;src:url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/Symbola.ttf) format("true-type"),url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/Symbola.eot),url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/Symbola.woff) format("woff"),url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/Symbola.svg) format("svg")}@font-face{font-family:font_chu_dep;src:url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/HP001_5_hang_bold.ttf)}@font-face{font-family:font_chu_nghieng;src:url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_dam;src:url(https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.input-control[_ngcontent-%COMP%]{display:block;margin-left:20px;min-height:50px;height:50px;width:50px;min-width:50px;padding:10px;border:1px dashed red;text-align:center;background-color:transparent}.input-control[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#e3e3e3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.color-picker[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;border-radius:50%;border:1px solid #665;margin-right:10px}.font-size-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.button-confirm[_ngcontent-%COMP%]{width:99%;max-width:99%;height:54px;line-height:54px;font-size:15px;padding:0 28px;text-decoration:none;color:#fff;background-color:#26a69a;text-align:center;letter-spacing:.5px;transition:background-color .2s ease-out;cursor:pointer;outline:0;border:1px solid #26a69a;border-radius:6px}.position-row[_ngcontent-%COMP%]{position:relative}.position-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.input-number[_ngcontent-%COMP%]{width:50px!important;height:40px!important}[type=number][_ngcontent-%COMP%]{-moz-appearance:none;appearance:none;appearance:textfield;-webkit-appearance:none;-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .mat-tab-body-content{height:100%;max-height:100%;overflow-y:scroll}.hr-line[_ngcontent-%COMP%]{border-top:3px solid #e3e3e3}.img-border[_ngcontent-%COMP%]{border:1px dashed red;padding:4px}h2[_ngcontent-%COMP%]{font-size:19px}@media screen and (max-width:380px){  .mat-tab-body-content{height:100%;max-height:100%;overflow-y:scroll;min-height:65vh}}']}),To);function Po(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",11),S.Ub(1,"span"),S.Pc(2,"M\u1ed9t ch\u1ea1m \u0111\u1ec3 th\xeam: \u0110. "),S.Pb(3,"br"),S.Pc(4," Hai ch\u1ea1m \u0111\u1ec3 th\xeam: S \xa0\xa0"),S.Tb(),S.Ub(5,"a",12),S.bc("click",function(){return S.Cc(n),S.fc().ClickHide()}),S.Pc(6,"T\xd4I \u0110\xc3 HI\u1ec2U"),S.Tb(),S.Tb()}}var Oo,Uo=((Oo=function(){function e(t,n){l(this,e),this.dialog=t,this.commonService=n,this.ChangeEvent=new S.o,this.clickHide=!0}return d(e,[{key:"ClickHide",value:function(){this.clickHide=!1}},{key:"changeZoom",value:function(e){this.ChangeEvent.emit({type:e})}},{key:"goBack",value:function(){this.ChangeEvent.emit({type:"goBack"})}},{key:"changeSaveSettingMark",value:function(e){this.ChangeEvent.emit({event:e,type:"changeSaveSettingMark"})}},{key:"ngOnInit",value:function(){this.classliveTrueFalseIcon=this.data.classliveTrueFalseIcon}}]),e}()).\u0275fac=function(e){return new(e||Oo)(S.Ob(b.b),S.Ob(I.a))},Oo.\u0275cmp=S.Ib({type:Oo,selectors:[["app-header-mark-exercise"]],inputs:{data:"data"},outputs:{ChangeEvent:"ChangeEvent"},decls:24,vars:4,consts:[[1,"view-left"],[1,"menu-button",2,"float","left"],["mat-icon-button","",2,"border-radius","50% !important",3,"click"],[1,"bg-white",2,"font-size","24px","color","#646464","border-radius","50% !important"],["mat-icon-button","",2,"border-radius","50% !important",3,"matMenuTriggerFor"],[1,"class-lits-menu"],["reorder","matMenu"],[3,"classliveTrueFalseIcon","ChangeEvent"],[1,"click-hide","ml-2"],[1,"view-right"],["class","click-hide d-flex justify-content-between",4,"ngIf"],[1,"click-hide","d-flex","justify-content-between"],[3,"click"]],template:function(e,t){if(1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"button",2),S.bc("click",function(){return t.goBack()}),S.Ub(3,"mat-icon",3),S.Pc(4,"keyboard_arrow_left"),S.Tb(),S.Tb(),S.Tb(),S.Ub(5,"div",1),S.Ub(6,"button",4),S.Ub(7,"mat-icon",3),S.Pc(8,"reorder"),S.Tb(),S.Tb(),S.Ub(9,"mat-menu",5,6),S.Ub(11,"azt-settings-mark",7),S.bc("ChangeEvent",function(e){return t.changeSaveSettingMark(e)}),S.Tb(),S.Tb(),S.Tb(),S.Ub(12,"div",1),S.Ub(13,"button",2),S.bc("click",function(){return t.changeZoom("zoom_in")}),S.Ub(14,"mat-icon",3),S.Pc(15,"zoom_in"),S.Tb(),S.Tb(),S.Tb(),S.Ub(16,"div",1),S.Ub(17,"button",2),S.bc("click",function(){return t.changeZoom("zoom_out")}),S.Ub(18,"mat-icon",3),S.Pc(19,"zoom_out"),S.Tb(),S.Tb(),S.Tb(),S.Ub(20,"div",8),S.Pc(21),S.Tb(),S.Tb(),S.Ub(22,"div",9),S.Nc(23,Po,7,0,"div",10),S.Tb()),2&e){var n=S.yc(10);S.Cb(6),S.mc("matMenuTriggerFor",n),S.Cb(5),S.mc("classliveTrueFalseIcon",t.classliveTrueFalseIcon),S.Cb(10),S.Rc(" ",t.data.fullName," "),S.Cb(2),S.mc("ngIf",1==t.clickHide)}},directives:[F.b,H.a,hn.d,hn.a,yo,a.m],styles:[".click-hide[_ngcontent-%COMP%]{justify-content:space-around;padding:9px;border-radius:5px;border:1px solid #fff;background-color:hsla(0,0%,100%,.8470588235);float:left}.click-hide[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0}.mat-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:33px;width:33px}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:33px}@media screen and (min-width:1000px){.view-left[_ngcontent-%COMP%]{max-width:400px;position:fixed;margin:10px;top:0}.view-right[_ngcontent-%COMP%]{max-width:445px;position:fixed;top:0;margin:10px 10px 10px 615px}.click-hide[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:1000px) and (min-width:700px){.view-left[_ngcontent-%COMP%]{max-width:400px;position:fixed;margin:10px;top:0;left:0}.view-right[_ngcontent-%COMP%]{max-width:445px;position:fixed;top:0;right:0;margin:10px 15px 10px 10px}.click-hide[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:700px) and (min-width:600px){.view-left[_ngcontent-%COMP%]{max-width:400px;position:fixed;margin:10px;top:0;left:0}.view-right[_ngcontent-%COMP%]{max-width:445px;position:fixed;top:0;right:0;margin:10px 15px 10px 10px}.view-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:20px}}@media screen and (max-width:600px){.view-left[_ngcontent-%COMP%]{max-width:400px;position:fixed;margin:10px;top:0;left:0}.view-right[_ngcontent-%COMP%]{max-width:445px;position:fixed;margin:15px;top:45px}.view-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:20px}}"]}),Oo);function So(e,t){if(1&e&&(S.Ub(0,"div",11),S.Ub(1,"div",12),S.Pc(2,"\u0110i\u1ec3m"),S.Tb(),S.Ub(3,"div",13),S.Pc(4),S.Tb(),S.Tb()),2&e){var n=S.fc();S.Cb(4),S.Rc(" ",n.pointNumber,"")}}function Mo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",16),S.Ub(1,"div",17),S.bc("click",function(){S.Cc(n);var e=t.$implicit,o=t.index;return S.fc(2).ChangeAmoji(e,!1,o)}),S.Pb(2,"img",18),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(2),S.nc("src",o,S.Gc)}}function Io(e,t){if(1&e&&(S.Ub(0,"div",14),S.Nc(1,Mo,3,1,"div",15),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngForOf",n.changeAmoji)}}function jo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",16),S.Ub(1,"div",17),S.bc("click",function(){S.Cc(n);var e=t.$implicit;return S.fc(2).ChangeAmoji(e,!0,!1)}),S.Pb(2,"img",18),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(2),S.nc("src",o,S.Gc)}}function No(e,t){if(1&e&&(S.Ub(0,"div",19),S.Nc(1,jo,3,1,"div",15),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngForOf",n.emojiObj)}}var Do,Eo=((Do=function(){function e(t){l(this,e),this.dialog=t,this.ChangeEvent=new S.o,this.emojiObj=[],this.showIconMoji=!1,this.changeAmoji=[]}return d(e,[{key:"ShowIconMoji",value:function(e){0==e?this.showIconMoji=!0:1==e&&(this.showIconMoji=!1)}},{key:"ChangeAmoji",value:function(e,t,n){1==t?(this.changeAmoji.push(e),this.changeEvent()):0==t&&(this.changeAmoji.splice(n,1),this.changeEvent())}},{key:"MyTextarea",value:function(e){this.getComment=e.target.value,this.changeEvent()}},{key:"autoResize",value:function(e,t){if(1==t){var n=document.getElementById("text");console.log(n),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}else n=document.getElementById("text"),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}},{key:"changeEvent",value:function(){this.ChangeEvent.emit({comment:this.getComment,changeAmoji:this.changeAmoji})}},{key:"ngOnInit",value:function(){for(var e=1;e<20;e++)this.emojiObj.push("https://classlive.stume.net/images/emoji/emoji"+e+".gif");if(this.jsonDataResult.commentEmoji)for(var t=0;t<this.jsonDataResult.commentEmoji.length;t++)this.changeAmoji.push(this.jsonDataResult.commentEmoji[t]);this.getComment=this.jsonDataResult.comment,this.autoResize(1,0)}}]),e}()).\u0275fac=function(e){return new(e||Do)(S.Ob(b.b))},Do.\u0275cmp=S.Ib({type:Do,selectors:[["app-comment-score"]],inputs:{pointNumber:"pointNumber",jsonDataResult:"jsonDataResult",ShowChangePoint:"ShowChangePoint"},outputs:{ChangeEvent:"ChangeEvent"},decls:15,vars:7,consts:[[1,"body","row","m-0"],["class","col-3 point-view",4,"ngIf"],[1,"pl-3","pr-3"],[2,"color","#747474","padding","10px 0","font-size","20px","font-family","handwriting_font"],[2,"font-family","'Arial Bold', 'Arial'","font-weight","700","font-style","normal","font-size","26px","color","red"],["id","text",3,"keyup","change"],["class","show-icon-smoji p-0 m-0",4,"ngIf"],[2,"float","right"],["mat-icon-button","",2,"border-radius","50% !important",3,"click"],[1,"bg-white",2,"font-size","24px","color","#646464","border-radius","50% !important"],["class","show-icon-smoji",4,"ngIf"],[1,"col-3","point-view"],[2,"color","#747474","padding","10px","font-size","20px","font-family","handwriting_font"],[2,"font-family","'Arial Bold', 'Arial'","font-weight","700","font-style","normal","font-size","35px","color","red","position","absolute","top","50%","width","100%","margin-left","-15px"],[1,"show-icon-smoji","p-0","m-0"],["class","icon-smoji",4,"ngFor","ngForOf"],[1,"icon-smoji"],[3,"click"],["alt","","width","50",3,"src"],[1,"show-icon-smoji"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Nc(1,So,5,1,"div",1),S.Ub(2,"div"),S.Ub(3,"div",2),S.Ub(4,"div",3),S.Pc(5,"Nh\u1eadn x\xe9t c\u1ee7a gi\xe1o vi\xean"),S.Tb(),S.Ub(6,"div",4),S.Ub(7,"textarea",5),S.bc("keyup",function(e){return t.autoResize(e,1)})("change",function(e){return t.MyTextarea(e)}),S.Pc(8),S.Tb(),S.Tb(),S.Tb(),S.Nc(9,Io,2,1,"div",6),S.Ub(10,"div",7),S.Ub(11,"button",8),S.bc("click",function(){return t.ShowIconMoji(t.showIconMoji)}),S.Ub(12,"mat-icon",9),S.Pc(13," sentiment_satisfied"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Nc(14,No,2,1,"div",10)),2&e&&(S.Cb(1),S.mc("ngIf",1==t.ShowChangePoint),S.Cb(1),S.Fb("",1==t.ShowChangePoint?"col-9":"col-12"," p-0 comment-view"),S.Cb(6),S.Qc(t.jsonDataResult.comment),S.Cb(1),S.mc("ngIf",t.changeAmoji),S.Cb(5),S.mc("ngIf",1==t.showIconMoji))},directives:[a.m,F.b,H.a,a.l],styles:[".body[_ngcontent-%COMP%]{width:100%;min-height:130px;background:inherit;background-color:#fff;box-sizing:border-box;border:2px solid red;border-radius:5px;box-shadow:none}.point-view[_ngcontent-%COMP%]{border-right:2px solid red;text-align:center}.comment-view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;line-height:1.15;overflow-y:hidden;padding:0 7px}.show-icon-smoji[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;margin-top:20px;background-color:#fff;margin-bottom:10px;border-radius:5px;padding:15px}.icon-smoji[_ngcontent-%COMP%]{float:left;margin:0 5px}.icon-smoji[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#d1d1d1;border-radius:5px}"]}),Do);function Fo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",5),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit;return S.fc().changePoint(e)}),S.Pc(1),S.Tb()}if(2&e){var o=S.fc().$implicit;S.Cb(1),S.Rc(" ",o," ")}}function Ho(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",6),S.bc("click",function(){S.Cc(n);var e=S.fc().$implicit;return S.fc().changePoint(e)}),S.Pc(1),S.Tb()}if(2&e){var o=S.fc().$implicit;S.Cb(1),S.Rc(" ",o," ")}}function zo(e,t){if(1&e&&(S.Ub(0,"div"),S.Nc(1,Fo,2,1,"div",3),S.Nc(2,Ho,2,1,"div",4),S.Tb()),2&e){var n=t.$implicit,o=S.fc();S.Cb(1),S.mc("ngIf",o.checkPoint==n),S.Cb(1),S.mc("ngIf",o.checkPoint!=n)}}var Lo,Ro=((Lo=function(){function e(t){l(this,e),this.dialog=t,this.pointNumber=[10,9,8,7,6,5,4,3,2,1,0],this.checkPoint="",this.ChangeEvent=new S.o}return d(e,[{key:"changePoint",value:function(e){this.ChangeEvent.emit(e)}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Lo)(S.Ob(b.b))},Lo.\u0275cmp=S.Ib({type:Lo,selectors:[["app-point-ladder"]],inputs:{checkPoint:"checkPoint"},outputs:{ChangeEvent:"ChangeEvent"},decls:3,vars:1,consts:[[1,"body","row","m-0"],[1,"col-12","row","p-0","m-0"],[4,"ngFor","ngForOf"],["class","point-number clickable","style","background-color: red; color: white;",3,"click",4,"ngIf"],["class","point-number clickable",3,"click",4,"ngIf"],[1,"point-number","clickable",2,"background-color","red","color","white",3,"click"],[1,"point-number","clickable",3,"click"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Nc(2,zo,3,2,"div",2),S.Tb(),S.Tb()),2&e&&(S.Cb(2),S.mc("ngForOf",t.pointNumber))},directives:[a.l,a.m],styles:[".point-number[_ngcontent-%COMP%]{height:42px;width:42px;background-color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-family:Arial Bold,Arial;font-weight:700;font-style:normal;font-size:17px;margin-right:10px;margin-bottom:5px}.point-number[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}"]}),Lo);function Ao(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function Bo(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",5),S.Ub(2,"div",6),S.Ub(3,"div",7),S.Pc(4),S.gc(5,"mytranslate"),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc(2);S.Cb(4),S.Qc(S.hc(5,1,n.errorMessage))}}function Vo(e,t){if(1&e&&(S.Ub(0,"div"),S.Pc(1),S.Ub(2,"span",24),S.Pc(3),S.Tb(),S.Ub(4,"span",25),S.Pc(5),S.Tb(),S.Tb()),2&e){var n=S.fc(3);S.Cb(1),S.Tc(" Tr\u1ea3 l\u1eddi \u0111\xfang ",n.countRight,"/",n.markCount," = ",n.pointfix," \u0111i\u1ec3m . "),S.Cb(2),S.Rc("\xa0\u0111 : ",n.countRight," "),S.Cb(2),S.Rc("\xa0 s : ",n.countWrong,"")}}function Go(e,t){1&e&&(S.Ub(0,"div"),S.Pc(1," Ch\u01b0a c\xf3 s\u1ed1 c\xe2u \u0111\xfang, c\xe2u sai "),S.Tb())}function Wo(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Ub(1,"app-header-mark-exercise",8),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(2).changeEvent(e,"header")}),S.Tb(),S.Ub(2,"div",9),S.Pb(3,"iframe",10),S.gc(4,"safe"),S.Tb(),S.Ub(5,"div",11),S.Nc(6,Vo,6,5,"div",4),S.Nc(7,Go,2,0,"div",4),S.Tb(),S.Ub(8,"div",12),S.Ub(9,"app-comment-score",13),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(2).changeEvent(e,"commentScore")}),S.Tb(),S.Tb(),S.Ub(10,"div",14),S.Ub(11,"div",15),S.Ub(12,"span",16),S.Pc(13),S.Tb(),S.Ub(14,"mat-slide-toggle",17),S.bc("change",function(){return S.Cc(n),S.fc(2).ShowChangePoint()}),S.Tb(),S.Tb(),S.Pb(15,"br"),S.Ub(16,"div",18),S.Ub(17,"button",19),S.bc("click",function(){return S.Cc(n),S.fc(2).saveMark()}),S.Pc(18,"L\u01afU"),S.Tb(),S.Ub(19,"button",20),S.bc("click",function(){return S.Cc(n),S.fc(2).handleOpenReSubmit()}),S.Pc(20,"Y\xcaU C\u1ea6U N\u1ed8P L\u1ea0I"),S.Tb(),S.Tb(),S.Tb(),S.Ub(21,"div",12),S.Ub(22,"app-point-ladder",21),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(2).changeEvent(e,"pointLadder")}),S.Tb(),S.Tb(),S.Ub(23,"div",22),S.Ub(24,"button",23),S.bc("click",function(){return S.Cc(n),S.fc(2).saveMark()}),S.Pc(25,"L\u01afU"),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("data",o.senDataHeader),S.Cb(2),S.mc("src",S.hc(4,10,o.iframeSrc),S.Ec),S.Cb(3),S.mc("ngIf",o.markCount>0),S.Cb(1),S.mc("ngIf",!o.markCount),S.Cb(2),S.mc("ShowChangePoint",!0)("pointNumber",o.score)("jsonDataResult",o.jsonData),S.Cb(4),S.Rc("",o.titleShowPointStudent,"\xa0\xa0"),S.Cb(1),S.mc("checked",1==o.curHideMark),S.Cb(8),S.mc("checkPoint",o.checkPoint)}}function Jo(e,t){if(1&e&&(S.Nc(0,Bo,6,3,"div",4),S.Nc(1,Wo,26,12,"div",4)),2&e){var n=S.fc();S.mc("ngIf",""!=n.errorMessage),S.Cb(1),S.mc("ngIf",1==n.checkView&&""==n.errorMessage)}}function $o(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",26),S.Ub(1,"a",27),S.bc("click",function(){return S.Cc(n),S.fc().goBack()}),S.Ub(2,"mat-icon",28),S.Pc(3,"keyboard_backspace"),S.Tb(),S.Pc(4," Quay l\u1ea1i "),S.Tb(),S.Tb()}}var Yo,Qo=((Yo=function(){function e(t,n,o,i){var c=this;l(this,e),this.activeRoute=t,this.apiService=n,this.commonService=o,this.dialog=i,this.subscriptions=new w.a,this.result={},this.isLoading=!1,this.answerID="",this.homeworkID="",this.iframeSrc=ao.a.classliveUrl+"?t="+Date.now(),this.isMarked=!1,this.jsonData={},this.files=[],this.classID="",this.homeworkObj={},this.studentName={},this.score="n/a",this.mnoteJsonData={},this.pagesCount=0,this.backtoLink="",this.curHideMark=!0,this.changeAmoji="",this.comment="",this.classliveTrueFalseIcon="",this.titleShowPointStudent="",this.checkView=!0,this.senDataHeader={},this.handleIframe=function(e){if("MNoteJson"==e.data.cmd&&(c.isLoading=!0,c.checkData(e)),"MNoteSize"==e.data.cmd){var t=e.data.data;document.getElementById("mNoteIframe").style.height=t.height+"px",c.sendPositionToIframe()}if("MNoteChangeMark"==e.data.cmd&&c.PointHandling(e.data.data),"MNoteLoadComplete"==e.data){var n=c.result.hasOwnProperty("answerObj")?Object.assign({},c.result.answerObj):{};if(c.result.hasOwnProperty("answerObj")){var o=JSON.parse(n.result);if(null!=o){for(var i=0;i<o.pages.length;i++)o.pages[i].backgroundImage&&(o.pages[i].backgroundImage=c.commonService.getMyCdn(o.pages[i].backgroundImage)),o.pages[i].draw&&(o.pages[i].draw=c.commonService.getMyCdn(o.pages[i].draw));o=JSON.stringify(o),n.result=o}var r=JSON.parse(n.files);if(null!=r){for(var a=0;a<r.length;a++)r[a].url&&(r[a].url=c.commonService.getMyCdn(r[a].url)),r[a].thumb&&(r[a].thumb=c.commonService.getMyCdn(r[a].thumb));r=JSON.stringify(r),n.files=r}}var s=c.result.hasOwnProperty("studentObj")?c.result.studentObj:{},l=c.result.hasOwnProperty("classroomObj")?c.result.classroomObj:{},b=c.result.hasOwnProperty("homeworkObj")?c.result.homeworkObj:{};if(c.jsonData&&c.jsonData.hasOwnProperty("pages"))for(var d=0;d<c.jsonData.pages.length;d++)c.jsonData.pages[d].hasOwnProperty("backgroundImage")&&(c.jsonData.pages[d].backgroundImage=c.commonService.getMyCdn(c.jsonData.pages[d].backgroundImage)),c.jsonData.pages[d].hasOwnProperty("draw")&&(c.jsonData.pages[d].draw=c.commonService.getMyCdn(c.jsonData.pages[d].draw));if(c.isMarked)c.jsonData.cmd="initMNote",c.jsonData.mode="edit",c.jsonData.hideMark=c.curHideMark,c.jsonData.answer_obj=n,c.jsonData.student_obj=s,c.jsonData.classroom_obj=l,c.jsonData.homework_obj=b,c.commonService.sendMessageToIFrame("mNote",c.jsonData);else{var m=[];c.files.forEach(function(e){m.push({backgroundImage:e.url})}),c.commonService.sendMessageToIFrame("mNote",{cmd:"initMNote",mode:"edit",pages:m,answer_obj:n,student_obj:s,classroom_obj:l,homework_obj:b,hideMark:c.curHideMark}),c.changeSettingData(c.classliveTrueFalseIcon)}}}}return d(e,[{key:"onWindowScroll",value:function(){this.sendPositionToIframe()}},{key:"sendPositionToIframe",value:function(){var e=document.getElementById("mNoteIframe"),t=window.scrollY,n=window.innerHeight,o={cmd:"changeScroll",topOffset:t,iframeTopOffset:e.getBoundingClientRect().top,iframeHeight:e.getBoundingClientRect().height,screenHeight:screen.height,windowHeight:n};this.commonService.sendMessageToIFrame("mNote",o)}},{key:"checkData",value:function(e){var t=this.commonService.parseJson(this.answerObj.result);null!=this.answerObj.result&&(""==this.comment&&(this.comment=t.comment),""==this.changeAmoji&&(this.changeAmoji=t.commentEmoji)),this.mnoteJsonData={comment:this.comment,commentEmoji:this.changeAmoji,hideMark:this.curHideMark,pages:e.data.data.pages,point:this.score,staticTextConfig:e.data.data.staticTextConfig},this.uploadAll(this.mnoteJsonData.pages,this.score)}},{key:"changeSettingData",value:function(e){this.commonService.sendMessageToIFrame("mNote",{cmd:"changeStaticSetting",staticTextConfig:e})}},{key:"changeEvent",value:function(e,t){"commentScore"==t?(this.changeAmoji=e.changeAmoji,this.comment=e.comment):"pointLadder"==t?(this.score=e,this.checkPoint=e):"header"==t&&("goBack"==e.type?this.goBack():"changeSaveSettingMark"==e.type?this.changeSettingData(e.event):"zoom_in"==e.type?alert("zoom_in"):"zoom_out"==e.type&&alert("zoom_out"))}},{key:"ShowChangePoint",value:function(){1==this.curHideMark?(this.curHideMark=!1,this.titleShowPointStudent="Hi\u1ec7n \u0111i\u1ec3m v\u1edbi HS"):0==this.curHideMark&&(this.curHideMark=!0,this.titleShowPointStudent="\u1ea8n \u0111i\u1ec3m v\u1edbi HS")}},{key:"uploadDrawBase64ToCDN",value:function(e,t,n){var o=this,i=this.apiService.dataURItoBlob(e),c=ao.a.base_upload_api+"get_public_upload_url";c+="?file_name="+encodeURIComponent("essay_note_".concat(t,"_").concat(this.answerID,".png")),c+="&file_size="+encodeURIComponent("10000"),c+="&minetype="+encodeURIComponent("image/png");var r={Authorization:"Bearer "+this.apiService.getToken()};this.apiService.commonHttp(c,r,!1).subscribe(function(e){if(1!=e.success)throw"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";var c=e.data.url;o.apiService.commonPutHttp(e.data.upload_url,{"Content-Type":"image/png","x-amz-acl":"public-read"},i).subscribe(function(e){if(e&&e.success&&0==e.success)throw"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";o.mnoteJsonData.pages[t].draw=o.commonService.getMyCdn(c),o.pagesCount--,0==o.pagesCount&&o.remark(parseInt(o.answerID),n,JSON.stringify(o.mnoteJsonData))})})}},{key:"uploadAll",value:function(e,t){this.pagesCount=0;for(var n=0;n<e.length;n++)e[n].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(parseInt(this.answerID),t,JSON.stringify(this.mnoteJsonData));else for(var o=0;o<e.length;o++)e[o].draw&&this.uploadDrawBase64ToCDN(e[o].draw,o,t)}},{key:"PointHandling",value:function(e){this.countRight=e.countRight,this.countWrong=e.countWrong,this.markCount=this.countRight+this.countWrong,this.markCount>0?(this.pointfix=(10*this.countRight/this.markCount).toFixed(1),"force"==e.type?(this.score=this.pointfix,this.checkPoint=Math.round(this.pointfix)):this.checkPoint=this.answerObj.point):this.score=this.answerObj.point}},{key:"saveMark",value:function(){this.commonService.sendMessageToIFrame("mNote",{cmd:"getMNoteJson"})}},{key:"goBack",value:function(){this.commonService.myNavigation(this.backtoLink?this.backtoLink:"/admin/homework/score-list/"+this.classID+"/"+this.homeworkID)}},{key:"getData",value:function(e){var t=this;this.isLoading=!0,this.errorMessage="",this.answerID=e,this.apiService.getSubmittedAnswers(e).subscribe(function(e){if(1==e.success){if(t.isLoading=!1,t.result=e.data,t.answerObj=e.data.answerObj,t.score=e.data.answerObj.point,t.homeworkID=e.data.homeworkObj.id,t.classID=e.data.classroomObj.id,t.files=t.commonService.parseJson(e.data.answerObj.files),null!=t.files)for(var n=0;n<t.files.length;n++)t.files[n].url=t.commonService.getMyCdn(t.files[n].url),t.files[n].thumb=t.commonService.getMyCdn(t.files[n].thumb);t.homeworkObj=e.data.homeworkObj,t.studentName=e.data.studentObj.fullName;var o=t.commonService.parseJson(e.data.answerObj.result);t.curHideMark=o&&o.hasOwnProperty("hideMark")?o.hideMark:0!=t.homeworkObj.dontShowMark,1==t.curHideMark?t.titleShowPointStudent="\u1ea8n \u0111i\u1ec3m v\u1edbi HS":0==t.curHideMark&&(t.titleShowPointStudent="Hi\u1ec7n \u0111i\u1ec3m v\u1edbi HS"),e.data.answerObj.confirmedAt&&(t.isMarked=!0,t.jsonData=t.commonService.parseJson(t.commonService.getMyCdn(e.data.answerObj.result)),null==t.jsonData&&(t.isMarked=!1)),t.ClassliveTrueFalseIcon(e)}else t.checkView=!1,t.errorMessage=e.message,t.isLoading=!1})}},{key:"ClassliveTrueFalseIcon",value:function(e){if(null==e.data.answerObj.result)this.classliveTrueFalseIcon=null==e.data.classliveTrueFalseIcon?{correctHeight:50,correctWidth:50,fontColor:"red",fontSize:30,fontText:"font_chu_dep",textCorrect:"\u0111",textWrong:"s",urlImgCorrect:"images/rightwrong/right1.png",urlImgWrong:"images/rightwrong/wrong1.png",useCorrectText:!1,useWrongText:!1,wrongHeight:50,wrongWidth:50}:this.commonService.parseJson(e.data.classliveTrueFalseIcon),this.senDataHeader={fullName:e.data.studentObj.fullName,classId:e.data.classroomObj.id,homeworkId:e.data.homeworkObj.id,classliveTrueFalseIcon:this.classliveTrueFalseIcon};else if(null!=e.data.answerObj.result){var t=this.commonService.parseJson(this.jsonData.staticTextConfig);this.senDataHeader={fullName:e.data.studentObj.fullName,classId:e.data.classroomObj.id,homeworkId:e.data.homeworkObj.id,classliveTrueFalseIcon:t}}}},{key:"openDialog",value:function(e,t){this.dialog.open(lo,{width:"280px",data:{score:t,status:e,homeWorkID:this.homeworkID,classID:this.classID,backtoLink:this.backtoLink}}).afterClosed().subscribe(function(e){})}},{key:"handleOpenReSubmit",value:function(){this.openDialogReSubmit(!0,this.homeworkObj.deadline,this.homeworkObj,this.answerID,this.studentName)}},{key:"openDialogReSubmit",value:function(e,t,n,o,i){this.dialog.open(so,{width:"380px",panelClass:"cleanResultDialogBox",data:{status:e,deadline:t,itemHomework:n,ans_id:o,name:i,redirect:!0,classID:this.classID}}).afterClosed().subscribe(function(e){})}},{key:"remark",value:function(e,t,n){var o=this;this.apiService.saveResult(e,t.toString(),n).subscribe(function(e){1==e.success?(o.openDialog(!0,e.data.point),o.isLoading=!1):(o.commonService.myTranslate([e.message]).subscribe(function(t){o.commonService.snackError("Ch\u1ea5m \u0111i\u1ec3m kh\xf4ng th\xe0nh c\xf4ng: "+t[e.message],"")}),o.isLoading=!1)})}},{key:"ngOnInit",value:function(){this.iframeSrc=this.commonService.getEnvValue("classliveUrl")+"?t="+Date.now();var e=+this.commonService.getMyParam(this.activeRoute,"id");this.backtoLink=this.commonService.getMyQueryParam("backto"),this.getData(e),this.commonService.translateMetaData({title:"lang_cms_homework_mark_exercise_title",description:"lang_cms_homework_mark_exercise_description",image:"lang_cms_test_image"})}},{key:"ngAfterViewInit",value:function(){window.addEventListener("message",this.handleIframe)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),window.removeEventListener("message",this.handleIframe)}}]),e}()).\u0275fac=function(e){return new(e||Yo)(S.Ob(m.a),S.Ob(M.a),S.Ob(I.a),S.Ob(b.b))},Yo.\u0275cmp=S.Ib({type:Yo,selectors:[["app-mark-exericse-remake"]],hostBindings:function(e,t){1&e&&S.bc("scroll",function(e){return t.onWindowScroll(e)},!1,S.Bc)},decls:5,vars:3,consts:[["id","markContainer",1,"maxW1000"],[4,"ngIf","ngIfElse"],["doneLoading",""],["style","text-align: center; margin-top: 20%;",4,"ngIf"],[4,"ngIf"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[3,"data","ChangeEvent"],["id","mNoteIframe",1,"card-box","pt-1",2,"height","13000px"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"],[1,"title","ml-1","mr-1"],[1,"pl-1","pr-1","mt-4"],[3,"ShowChangePoint","pointNumber","jsonDataResult","ChangeEvent"],[1,"row","m-0","pl-1","pr-1","mt-3"],[1,"col-6","p-0"],[1,"show-point"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[1,"col-6","p-0","d-flex","justify-content-end"],["mat-raised-button","",1,"bottom-save",2,"background-color","rgba(22, 155, 213, 1)","margin-right","10px","color","white",3,"click"],["mat-raised-button","",1,"bottom-handle",2,"background-color","rgba(255, 255, 255, 1)",3,"click"],[3,"checkPoint","ChangeEvent"],[1,"mt-4","mb-5","ml-1","mr-1"],["mat-raised-button","",1,"bottom_save",2,"background-color","rgba(22, 155, 213, 1)","width","100%","color","white",3,"click"],[2,"color","#008000"],[2,"color","#ff0000"],[2,"text-align","center","margin-top","20%"],[2,"font-size","20px",3,"click"],[2,"font-size","29px","height","30px","width","30px","vertical-align","middle"]],template:function(e,t){if(1&e&&(S.Ub(0,"div",0),S.Nc(1,Ao,1,0,"azt-loading-effect",1),S.Nc(2,Jo,2,2,"ng-template",null,2,S.Oc),S.Nc(4,$o,5,0,"div",3),S.Tb()),2&e){var n=S.yc(3);S.Cb(1),S.mc("ngIf",t.isLoading)("ngIfElse",n),S.Cb(3),S.mc("ngIf",0==t.checkView)}},directives:[a.m,N.a,Uo,Eo,gn.a,F.b,Ro,H.a],pipes:[Fe.i,Fe.k],styles:["#markContainer[_ngcontent-%COMP%], #titleRow[_ngcontent-%COMP%]{position:relative}#titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;align-items:center;display:flex;justify-content:space-between;color:#fff}#titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}#titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}#titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}@media screen and (min-width:588px){.title[_ngcontent-%COMP%]{height:80px;background-color:#fff;border-radius:5px;display:flex;justify-content:center;align-items:center;font-family:handwriting_font;font-size:33px}.show-point[_ngcontent-%COMP%]{font-weight:700;font-size:20px;vertical-align:middle}}@media screen and (max-width:587px){.title[_ngcontent-%COMP%]{height:65px;background-color:#fff;border-radius:5px;display:flex;justify-content:center;align-items:center;font-family:handwriting_font;font-size:17px}.show-point[_ngcontent-%COMP%]{font-weight:700;font-size:14px;vertical-align:middle}}@media screen and (max-width:470px){.bottom-save[_ngcontent-%COMP%]{display:none}.bottom-handle[_ngcontent-%COMP%]{padding:0 5px}}@media screen and (min-width:470px){.bottom_save[_ngcontent-%COMP%]{display:none}}"]}),Yo);function qo(e,t){if(1&e&&(S.Ub(0,"h4",6),S.Pc(1),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.Sc("",n.result.studentObj.fullName,", ",n.result.classroomObj.name," ")}}function Ko(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function Xo(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"div",9),S.Ub(2,"div",10),S.Ub(3,"div",11),S.Pc(4),S.gc(5,"mytranslate"),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.fc(2);S.Cb(4),S.Qc(S.hc(5,1,n.errorMessage))}}function Zo(e,t){if(1&e&&(S.Ub(0,"div",12),S.Pb(1,"iframe",13),S.gc(2,"safe"),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.mc("src",S.hc(2,1,n.iframeSrc),S.Ec)}}function ei(e,t){if(1&e&&(S.Nc(0,Xo,6,3,"div",7),S.Nc(1,Zo,3,3,"div",8)),2&e){var n=S.fc();S.mc("ngIf",""!=n.errorMessage),S.Cb(1),S.mc("ngIf",""==n.errorMessage)}}var ti,ni,oi=((ni=function(){function e(t,n,o,i){var c=this;l(this,e),this.activeRoute=t,this.apiService=n,this.commonService=o,this.dialog=i,this.subscriptions=new w.a,this.result={},this.isLoading=!1,this.answerID="",this.homeworkID="",this.iframeSrc=ao.a.classliveUrl+"?t="+Date.now(),this.isMarked=!1,this.jsonData={},this.files=[],this.classID="",this.homeworkObj={},this.studentName={},this.score="n/a",this.mnoteJsonData={},this.pagesCount=0,this.backtoLink="",this.handleIframe=function(e){if("MNoteJson"==e.data.cmd&&(c.isLoading=!0,c.mnoteJsonData=e.data.data,c.uploadAll(c.mnoteJsonData.pages,e.data.data.point)),"MNoteReSubmit"==e.data.cmd&&(console.log("listend res submit"),c.handleOpenReSubmit()),"MNoteLoadComplete"==e.data){var t=document.getElementById("mNote").contentWindow;if(null!==t){var n=c.result.hasOwnProperty("answerObj")?Object.assign({},c.result.answerObj):{};if(c.result.hasOwnProperty("answerObj")){var o=JSON.parse(n.result);if(null!=o){for(var i=0;i<o.pages.length;i++)o.pages[i].backgroundImage&&(o.pages[i].backgroundImage=c.commonService.getMyCdn(o.pages[i].backgroundImage)),o.pages[i].draw&&(o.pages[i].draw=c.commonService.getMyCdn(o.pages[i].draw));o=JSON.stringify(o),n.result=o}var r=JSON.parse(n.files);if(null!=r){for(var a=0;a<r.length;a++)r[a].url&&(r[a].url=c.commonService.getMyCdn(r[a].url)),r[a].thumb&&(r[a].thumb=c.commonService.getMyCdn(r[a].thumb));r=JSON.stringify(r),n.files=r}}var s=c.result.hasOwnProperty("studentObj")?c.result.studentObj:{},l=c.result.hasOwnProperty("classroomObj")?c.result.classroomObj:{},b=c.result.hasOwnProperty("homeworkObj")?c.result.homeworkObj:{},d=c.commonService.parseJson(n.result);if(c.jsonData&&c.jsonData.hasOwnProperty("pages"))for(var m=0;m<c.jsonData.pages.length;m++)c.jsonData.pages[m].hasOwnProperty("backgroundImage")&&(c.jsonData.pages[m].backgroundImage=c.commonService.getMyCdn(c.jsonData.pages[m].backgroundImage)),c.jsonData.pages[m].hasOwnProperty("draw")&&(c.jsonData.pages[m].draw=c.commonService.getMyCdn(c.jsonData.pages[m].draw));if(c.isMarked)c.jsonData.cmd="initMNote",c.jsonData.mode="edit",c.jsonData.answer_obj=n,c.jsonData.student_obj=s,c.jsonData.classroom_obj=l,c.jsonData.homework_obj=b,d&&d.hasOwnProperty("hideMark")&&(c.jsonData.hideMark=d.hideMark),t.postMessage(c.jsonData,"*");else{var u=[];c.files.forEach(function(e){u.push({backgroundImage:e.url})});var h={cmd:"initMNote",mode:"edit",pages:u,answer_obj:n,student_obj:s,classroom_obj:l,homework_obj:b};d&&d.hasOwnProperty("hideMark")&&(h.hideMark=d.hideMark),t.postMessage(h,"*")}}}}}return d(e,[{key:"uploadDrawBase64ToCDN",value:function(e,t,n){var o=this,i=this.apiService.dataURItoBlob(e),c=ao.a.base_upload_api+"get_public_upload_url";c+="?file_name="+encodeURIComponent("essay_note_".concat(t,"_").concat(this.answerID,".png")),c+="&file_size="+encodeURIComponent("10000"),c+="&minetype="+encodeURIComponent("image/png");var r={Authorization:"Bearer "+this.apiService.getToken()};this.apiService.commonHttp(c,r,!1).subscribe(function(e){if(1!=e.success)throw o.commonService.snackError("L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!",""),o.isLoading=!1,"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";var c=e.data.url;o.apiService.commonPutHttp(e.data.upload_url,{"Content-Type":"image/png","x-amz-acl":"public-read"},i).subscribe(function(e){if(e&&e.success&&0==e.success)throw o.commonService.snackError("L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!",""),o.isLoading=!1,"L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!";o.mnoteJsonData.pages[t].draw=o.commonService.getMyCdn(c),o.pagesCount--,0==o.pagesCount&&o.remark(parseInt(o.answerID),n,JSON.stringify(o.mnoteJsonData))})})}},{key:"uploadAll",value:function(e,t){this.pagesCount=0;for(var n=0;n<e.length;n++)e[n].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(parseInt(this.answerID),t,JSON.stringify(this.mnoteJsonData));else for(var o=0;o<e.length;o++)e[o].draw&&this.uploadDrawBase64ToCDN(e[o].draw,o,t)}},{key:"goBack",value:function(){this.commonService.myNavigation(this.backtoLink?this.backtoLink:"/admin/homework/score-list/"+this.classID+"/"+this.homeworkID);var e=document.body,t=document.getElementById("azota-app-html");t.classList.remove("overflow-hidden"),t.classList.remove("height-100"),e.classList.remove("overflow-hidden"),e.classList.remove("height-100")}},{key:"getData",value:function(e){var t=this;this.isLoading=!0,this.errorMessage="",this.answerID=e,this.apiService.getSubmittedAnswers(e).subscribe(function(e){if(1==e.success){if(t.isLoading=!1,t.result=e.data,t.score=e.data.answerObj.point,t.homeworkID=e.data.homeworkObj.id,t.classID=e.data.classroomObj.id,t.files=t.commonService.parseJson(e.data.answerObj.files),null!=t.files)for(var n=0;n<t.files.length;n++)t.files[n].url=t.commonService.getMyCdn(t.files[n].url),t.files[n].thumb=t.commonService.getMyCdn(t.files[n].thumb);t.homeworkObj=e.data.homeworkObj,t.studentName=e.data.studentObj.fullName,e.data.answerObj.confirmedAt&&(t.isMarked=!0,t.jsonData=t.commonService.parseJson(t.commonService.getMyCdn(e.data.answerObj.result)),null==t.jsonData&&(t.isMarked=!1))}else t.errorMessage=e.message,t.isLoading=!1})}},{key:"openDialog",value:function(e,t){this.dialog.open(lo,{width:"280px",data:{score:t,status:e,homeWorkID:this.homeworkID,classID:this.classID,backtoLink:this.backtoLink}}).afterClosed().subscribe(function(e){})}},{key:"handleOpenReSubmit",value:function(){this.openDialogReSubmit(!0,this.homeworkObj.deadline,this.homeworkObj,this.answerID,this.studentName)}},{key:"openDialogReSubmit",value:function(e,t,n,o,i){this.dialog.open(so,{width:"380px",panelClass:"cleanResultDialogBox",data:{status:e,deadline:t,itemHomework:n,ans_id:o,name:i,redirect:!0,classID:this.classID}}).afterClosed().subscribe(function(e){})}},{key:"remark",value:function(e,t,n){var o=this;this.apiService.saveResult(e,t,n).subscribe(function(e){1==e.success?(o.openDialog(!0,e.data.point),o.isLoading=!1):(o.commonService.myTranslate([e.message]).subscribe(function(t){o.commonService.snackError("Ch\u1ea5m \u0111i\u1ec3m kh\xf4ng th\xe0nh c\xf4ng: "+t[e.message],"")}),o.isLoading=!1)})}},{key:"ngOnInit",value:function(){var e=document.body,t=document.getElementById("azota-app-html");t.classList.add("overflow-hidden"),t.classList.add("height-100"),e.classList.add("overflow-hidden"),e.classList.add("height-100"),this.iframeSrc=this.commonService.getEnvValue("classliveUrl")+"?t="+Date.now();var n=+this.commonService.getMyParam(this.activeRoute,"id");this.backtoLink=this.commonService.getMyQueryParam("backto"),this.getData(n),this.commonService.translateMetaData({title:"lang_cms_homework_mark_exercise_title",description:"lang_cms_homework_mark_exercise_description",image:"lang_cms_test_image"})}},{key:"ngAfterViewInit",value:function(){window.addEventListener("message",this.handleIframe)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),window.removeEventListener("message",this.handleIframe)}}]),e}()).\u0275fac=function(e){return new(e||ni)(S.Ob(m.a),S.Ob(M.a),S.Ob(I.a),S.Ob(b.b))},ni.\u0275cmp=S.Ib({type:ni,selectors:[["app-mark-exericse"]],decls:8,vars:3,consts:[["id","markContainer",1,"maxW1000"],["id","titleRow"],["mat-button","","title","Quay l\u1ea1i",3,"click"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[4,"ngIf"],["class","card-box listPhotos",4,"ngIf"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,t){if(1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"mat-icon",2),S.bc("click",function(){return t.goBack()}),S.Pc(3,"keyboard_arrow_left"),S.Tb(),S.Nc(4,qo,2,2,"h4",3),S.Tb(),S.Nc(5,Ko,1,0,"azt-loading-effect",4),S.Nc(6,ei,2,2,"ng-template",null,5,S.Oc),S.Tb()),2&e){var n=S.yc(7);S.Cb(4),S.mc("ngIf",t.result.classroomObj),S.Cb(1),S.mc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[H.a,a.m,N.a],pipes:[Fe.i,Fe.k],styles:["#markContainer[_ngcontent-%COMP%], #titleRow[_ngcontent-%COMP%]{position:relative}#titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;align-items:center;display:flex;justify-content:space-between;color:#fff}#titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}#titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}#titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),ni),ii=((ti=function(){function e(){l(this,e)}return d(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ti)},ti.\u0275cmp=S.Ib({type:ti,selectors:[["homework-master-page"]],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Pb(1,"router-outlet"),S.Tb())},directives:[m.m],styles:[""]}),ti);function ci(e,t){if(1&e&&(S.Ub(0,"span",14),S.Pc(1),S.Tb()),2&e){var n=S.fc().$implicit;S.Cb(1),S.Rc("",n.className,", ")}}function ri(e,t){if(1&e&&(S.Ub(0,"span",14),S.Pc(1),S.Tb()),2&e){var n=S.fc().$implicit;S.Cb(1),S.Rc(" ",n.className," ")}}function ai(e,t){if(1&e&&(S.Ub(0,"span",7),S.Nc(1,ci,2,1,"span",13),S.Nc(2,ri,2,1,"span",13),S.Tb()),2&e){var n=t.index,o=S.fc();S.Cb(1),S.mc("ngIf",n<o.listHomework.length-1),S.Cb(1),S.mc("ngIf",n==o.listHomework.length-1)}}function si(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",17),S.Ub(1,"p",18),S.Pc(2),S.Tb(),S.Ub(3,"div",19),S.Ub(4,"button",20),S.bc("click",function(){return S.Cc(n),S.fc(2).showCopySuccess()}),S.Ub(5,"span",21),S.Ub(6,"mat-icon",22),S.Pc(7,"file_copy"),S.Tb(),S.Pc(8," \xa0Copy link "),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc(2);S.Cb(1),S.nc("matTooltip",o.className),S.Cb(1),S.Rc("L\u1edbp : ",o.className,""),S.Cb(2),S.mc("cdkCopyToClipboard",i.copylinkToClipboard(o.hashId))}}function li(e,t){if(1&e&&(S.Ub(0,"div",15),S.Nc(1,si,9,3,"div",16),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngForOf",n.listHomework)}}function bi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",24),S.Ub(1,"p",25),S.Pc(2),S.Tb(),S.Ub(3,"div",19),S.Ub(4,"button",20),S.bc("click",function(){return S.Cc(n),S.fc(2).showCopySuccess()}),S.Ub(5,"span",21),S.Ub(6,"mat-icon",22),S.Pc(7,"file_copy"),S.Tb(),S.Pc(8," \xa0Copy link "),S.Tb(),S.Tb(),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=S.fc(2);S.Cb(1),S.nc("matTooltip",o.className),S.Cb(1),S.Rc("L\u1edbp : ",o.className,""),S.Cb(2),S.mc("cdkCopyToClipboard",i.copylinkToClipboard(o.hashId))}}function di(e,t){if(1&e&&(S.Ub(0,"div",15),S.Nc(1,bi,9,3,"div",23),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngForOf",n.listHomework)}}var mi,ui=((mi=function(){function e(t,n,o,i,c,r){l(this,e),this.activeRoute=t,this.apiService=n,this.location=o,this.router=i,this.commonService=c,this.localizeService=r,this.subscriptions=new w.a,this.isLoading=!0,this.nameExam=""}return d(e,[{key:"getListHomeWork",value:function(e){var t=this;this.subscriptions.add(this.apiService.getHomeSuccessHomeWork(e).subscribe(function(e){1==e.success?(t.listHomework=e.data,t.nameExam=t.listHomework[0].name,t.isLoading=!1):(t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)}),t.isLoading=!0)}))}},{key:"callbackMenuEvent",value:function(e){}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i","")}},{key:"copylinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(e)}},{key:"redirectClasses",value:function(){this.commonService.myNavigation("/admin/homework/classes")}},{key:"redirectHomeworkList",value:function(e,t){this.commonService.myNavigation("/admin/homework/score-list/"+e+"/"+t)}},{key:"ngOnInit",value:function(){var e=this;Object(U.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){o(t),e.lstIds=e.commonService.getMyParam(e.activeRoute,"ids"),e.lstIds=e.lstIds.replace("[",""),e.lstIds=e.lstIds.replace("]",""),e.lstIds=e.lstIds.trim(),e.lstIds=e.lstIds.split(",");for(var n=0;n<e.lstIds.length;n++)e.lstIds[n]=parseInt(e.lstIds[n]);e.getListHomeWork(e.lstIds)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mi)(S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e))},mi.\u0275cmp=S.Ib({type:mi,selectors:[["app-create-homework-success"]],decls:23,vars:8,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],[1,"container","py-5"],[1,"row","p-0","m-0"],[1,"col-md-2","p-0","m-0"],[1,"col-md-8","p-0","m-0"],[1,"box--create"],[1,"text-center","mx-auto"],[1,"font-weight-bold"],["class","font-weight-bold",4,"ngFor","ngForOf"],["class","row p-0 m-0 pt-3",4,"ngIf"],[1,"row","p-0","m-0","pt-5"],[1,"col-12","text-center"],[1,"clickable","text--blue",3,"click"],["style","word-break: break-word;",4,"ngIf"],[2,"word-break","break-word"],[1,"row","p-0","m-0","pt-3"],["class","col-md-4 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-4","text-center","pb-3","d-flex","flex-col"],[1,"text--over","m-0","pb-2",3,"matTooltip"],[1,"width-100"],[1,"button--copy",3,"cdkCopyToClipboard","click"],[1,"d-flex",2,"vertical-align","middle","align-items","center"],[2,"font-size","24px","color","#3c8dbc"],["class","col-md-12 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","pb-3","d-flex","flex-col"],[1,"m-0","pb-2",3,"matTooltip"]],template:function(e,t){1&e&&(S.Ub(0,"header-backend",0),S.bc("MenuEvent",function(e){return t.callbackMenuEvent(e)}),S.Tb(),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Pb(3,"div",3),S.Ub(4,"div",4),S.Ub(5,"div",5),S.Ub(6,"div",6),S.Ub(7,"h4",7),S.Pc(8),S.Tb(),S.Tb(),S.Ub(9,"p"),S.Pc(10," Th\u1ea7y c\xf4 \u0111\xe3 t\u1ea1o th\xe0nh c\xf4ng "),S.Ub(11,"span",7),S.Pc(12),S.Tb(),S.Pc(13,"giao cho l\u1edbp "),S.Nc(14,ai,3,2,"span",8),S.Pc(15,". Th\u1ea7y c\xf4 th\u1ef1c hi\u1ec7n copy link b\xe0i t\u1eadp b\xean d\u01b0\u1edbi v\xe0 g\u1eedi link cho c\xe1c l\u1edbp t\u01b0\u01a1ng \u1ee9ng qua Zalo, Messenger ho\u1eb7c c\xe1c m\u1ea1ng x\xe3 h\u1ed9i kh\xe1c \u0111\u1ec3 h\u1ecdc sinh c\xf3 th\u1ec3 l\xe0m b\xe0i v\xe0 n\u1ed9p b\xe0i. "),S.Tb(),S.Nc(16,li,2,1,"div",9),S.Nc(17,di,2,1,"div",9),S.Ub(18,"div",10),S.Ub(19,"div",11),S.Ub(20,"div",12),S.bc("click",function(){return t.redirectClasses()}),S.Pc(21,"Quay v\u1ec1 m\xe0n danh s\xe1ch b\xe0i t\u1eadp c\xe1c l\u1edbp"),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Pb(22,"div",3),S.Tb(),S.Tb()),2&e&&(S.mc("menu_objs",t.menu_objs)("headerTitle","Th\xeam b\xe0i t\u1eadp th\xe0nh c\xf4ng")("back_link","/admin/homework/classes"),S.Cb(8),S.Rc("T\u1ea1o th\xe0nh c\xf4ng ",t.nameExam," "),S.Cb(4),S.Rc("",t.nameExam," "),S.Cb(2),S.mc("ngForOf",t.listHomework),S.Cb(2),S.mc("ngIf",(null==t.listHomework?null:t.listHomework.length)>1),S.Cb(1),S.mc("ngIf",1==(null==t.listHomework?null:t.listHomework.length)))},directives:[R.a,a.l,a.m,z.a,pe.a,H.a],styles:[".box--create[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ececec;border-radius:5px;padding:20px}.button--copy[_ngcontent-%COMP%]{background-color:#f7f7f7;border:1px solid #e8e8e8;border-radius:5px;cursor:pointer;padding:8px 18px;font-size:13px;text-transform:capitalize;color:#3c8dbc;align-items:center;vertical-align:middle}.box-class[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-col[_ngcontent-%COMP%]{justify-content:center}.text--blue[_ngcontent-%COMP%]{color:#3c8dbc}.text--over[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}@media screen and (max-width:767px){.width-100[_ngcontent-%COMP%]{width:100%;max-width:100%}.button--copy[_ngcontent-%COMP%]{width:100%}}"]}),mi);function hi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",18),S.bc("click",function(){return S.Cc(n),S.fc().UpdateClass()}),S.Ub(1,"mat-icon"),S.Pc(2,"edit"),S.Tb(),S.Pc(3," S\u1eeda l\u1edbp "),S.Tb()}}function gi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",18),S.bc("click",function(){S.Cc(n);var e=S.fc();return e.CopyClassGroup(e.Classroom.id)}),S.Ub(1,"mat-icon"),S.Pc(2,"filter_none"),S.Tb(),S.Pc(3," Nh\xe2n b\u1ea3n l\u1edbp "),S.Tb()}}function fi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",18),S.bc("click",function(){S.Cc(n);var e=S.fc();return e.MoveClassGroupToStorage(e.Classroom.id)}),S.Ub(1,"mat-icon"),S.Pc(2,"sd_storage"),S.Tb(),S.Pc(3," \u0110\u01b0a v\xe0o l\u01b0u tr\u1eef "),S.Tb()}}function pi(e,t){1&e&&(S.Ub(0,"button",19),S.Ub(1,"mat-icon"),S.Pc(2,"link"),S.Tb(),S.Pc(3," Nh\u1eadp 2 l\u1edbp th\xe0nh 1 "),S.Tb())}function vi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"button",18),S.bc("click",function(){S.Cc(n);var e=S.fc();return e.RestoreClassGroup(e.Classroom.id)}),S.Ub(1,"mat-icon"),S.Pc(2,"restore"),S.Tb(),S.Pc(3," Kh\xf4i ph\u1ee5c "),S.Tb()}}var ki,Ci=((ki=function(){function e(t,n,o){l(this,e),this.apiService=t,this.fb=n,this.commonService=o,this.Classroom={},this.Screen="",this.ChangeEvent=new S.o}return d(e,[{key:"MoveClassGroupToStorage",value:function(e){var t=this;this.apiService.MoveClassGroupToStorage(e).subscribe(function(e){1==e.success?(t.ChangeEvent.emit(""),t.commonService.snackSuccess("\u0110\u01b0a v\xe0o l\u01b0u tr\u1eef th\xe0nh c\xf4ng.","")):t.commonService.snackError("\u0110\u01b0a v\xe0o l\u01b0u tr\u1eef kh\xf4ng th\xe0nh c\xf4ng.","")})}},{key:"CopyClassGroup",value:function(e){var t=this;this.apiService.CopyClassGroup(e).subscribe(function(e){1==e.success?(t.ChangeEvent.emit(""),t.commonService.snackSuccess("Nh\xe2n b\u1ea3n l\u1edbp h\u1ecdc th\xe0nh c\xf4ng.","")):t.commonService.snackError("Nh\xe2n b\u1ea3n l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng.","")})}},{key:"RestoreClassGroup",value:function(e){var t=this;this.apiService.RestoreClassGroup(e).subscribe(function(e){1==e.success?(t.ChangeEvent.emit(""),t.commonService.snackSuccess("Kh\xf4i ph\u1ee5c l\u1edbp h\u1ecdc th\xe0nh c\xf4ng.","")):t.commonService.snackError("Kh\xf4i ph\u1ee5c l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng.","")})}},{key:"DeleteClassGroup",value:function(e){var t=this;this.apiService.DeleteClassGroup(e).subscribe(function(e){1==e.success?(t.ChangeEvent.emit(""),t.commonService.snackSuccess("X\xf3a l\u1edbp h\u1ecdc th\xe0nh c\xf4ng.","")):t.commonService.snackError("X\xf3a l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng.","")})}},{key:"goToListStudent",value:function(){this.commonService.myNavigation("/admin/student/new-class")}},{key:"UpdateClass",value:function(){this.ChangeEvent.emit({type:"UpDate",id:this.Classroom.id,className:this.Classroom.name,year:this.Classroom.year,groupId:this.Classroom.classroomGroupId})}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ki)(S.Ob(M.a),S.Ob(s.g),S.Ob(I.a))},ki.\u0275cmp=S.Ib({type:ki,selectors:[["azt-information-class-box"]],inputs:{Classroom:"Classroom",Screen:"Screen"},outputs:{ChangeEvent:"ChangeEvent"},features:[S.Ab],decls:30,vars:10,consts:[[1,"content","p-2"],[1,"class-title",2,"min-height","fit-content"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[1,"title-class"],[1,"class-block","d-none","d-lg-inline-flex"],[1,"class-name-text"],[1,"d-lg-none"],[1,"clickable",3,"matMenuTriggerFor"],[2,"color","rgb(128, 128, 128)","vertical-align","middle","width","24px","height","24px","font-size","24px"],["xPosition","before"],["menu","matMenu"],["class","setting_options","mat-menu-item","",3,"click",4,"ngIf"],["class","setting_options","mat-menu-item","",4,"ngIf"],["mat-menu-item","",1,"setting_options",2,"color","red",3,"click"],[2,"color","red"],[1,"d-flex","justify-content-between"],[2,"font-size","11px","color","rgb(133, 133, 133)"],["mat-menu-item","",1,"setting_options",3,"click"],["mat-menu-item","",1,"setting_options"]],template:function(e,t){if(1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Ub(3,"span",3),S.Ub(4,"div",4),S.Ub(5,"span",5),S.Ub(6,"span",6),S.Pc(7),S.Tb(),S.Tb(),S.Ub(8,"span",7),S.Pc(9),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(10,"div"),S.Ub(11,"a",8),S.Ub(12,"mat-icon",9),S.Pc(13,"more_horiz"),S.Tb(),S.Tb(),S.Ub(14,"mat-menu",10,11),S.Nc(16,hi,4,0,"button",12),S.Nc(17,gi,4,0,"button",12),S.Nc(18,fi,4,0,"button",12),S.Nc(19,pi,4,0,"button",13),S.Nc(20,vi,4,0,"button",12),S.Ub(21,"button",14),S.bc("click",function(){return t.DeleteClassGroup(t.Classroom.id)}),S.Ub(22,"mat-icon",15),S.Pc(23,"delete"),S.Tb(),S.Pc(24," X\xf3a l\u1edbp "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Ub(25,"div",16),S.Ub(26,"div"),S.Pc(27),S.Tb(),S.Ub(28,"div",17),S.Pc(29),S.Tb(),S.Tb(),S.Tb()),2&e){var n=S.yc(15);S.Cb(7),S.Qc(t.Classroom.name),S.Cb(2),S.Rc(" ",t.Classroom.name," "),S.Cb(2),S.mc("matMenuTriggerFor",n),S.Cb(5),S.mc("ngIf",""==t.Screen),S.Cb(1),S.mc("ngIf",""==t.Screen),S.Cb(1),S.mc("ngIf",""==t.Screen),S.Cb(1),S.mc("ngIf",""==t.Screen),S.Cb(1),S.mc("ngIf","Storage"==t.Screen),S.Cb(7),S.Rc("S\u1ef9 s\u1ed1: ",t.Classroom.countStudents,""),S.Cb(2),S.Rc("N\u0103m h\u1ecdc ",t.Classroom.year,"")}},directives:[hn.d,H.a,hn.a,a.m,hn.b],styles:[".content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e6e6e6;border-radius:3px}.class-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#5b5b5b;display:flex;justify-content:space-between}.class-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;text-transform:none;border-radius:3px;padding:3px 7px;background:#42aba2;color:#fff}.stdinfo-fullname[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word;padding-bottom:8px}.class-block[_ngcontent-%COMP%]{display:inline-flex;align-items:center}button.setting_options[_ngcontent-%COMP%]{text-transform:none;display:flex;justify-content:left;align-items:center;height:30px}button.setting_options[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:grey;margin-right:7px}mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:19px}"]}),ki);function wi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",16),S.bc("click",function(){return S.Cc(n),S.fc().selectAll(!0)}),S.Pc(1,"Ch\u1ecdn t\u1ea5t c\u1ea3"),S.Tb()}}function xi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",16),S.bc("click",function(){return S.Cc(n),S.fc().selectAll(!1)}),S.Pc(1,"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3"),S.Tb()}}function _i(e,t){1&e&&S.Pb(0,"div",17)}function Ti(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",19),S.Ub(1,"mat-checkbox",20),S.bc("change",function(e){S.Cc(n);var o=t.index;return S.fc(2).changeValue(e,o)}),S.Pc(2),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=t.index,c=S.fc(2);S.Cb(1),S.oc("id","mat-check",i,""),S.mc("checked",c.selectedAll),S.Cb(1),S.Rc(" ",o.name," ")}}function yi(e,t){if(1&e&&(S.Ub(0,"div",11),S.Nc(1,Ti,3,3,"div",18),S.Tb()),2&e){var n=S.fc();S.Cb(1),S.mc("ngForOf",n.classroomObjs)}}function Pi(e,t){1&e&&(S.Ub(0,"div",21),S.Pc(1," M\u1eddi ch\u1ecdn c\xe1c l\u1edbp b\u1ea1n mu\u1ed1n t\u1ea1o cho kh\xf3a m\u1edbi. "),S.Tb())}function Oi(e,t){1&e&&(S.Ub(0,"div",22),S.Pc(1," Click v\xe0o c\xe1c m\u1ee5c tr\xean ph\u1ea7n (Ch\u1ecdn l\u1edbp). "),S.Tb())}function Ui(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",23),S.Ub(1,"div",24),S.Ub(2,"input",25),S.bc("keyup",function(){S.Cc(n);var e=t.index;return S.fc().ValidateInput(e)}),S.Tb(),S.Ub(3,"mat-icon",26),S.bc("click",function(){S.Cc(n);var e=t.$implicit;return S.fc().clearInput(e.index)}),S.Pc(4,"clear"),S.Tb(),S.Tb(),S.Ub(5,"div",27,28),S.Pc(7," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean l\u1edbp. "),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit,i=t.index;S.Cb(2),S.oc("id","input-event-",i,""),S.nc("value",o.nameClass),S.Cb(3),S.oc("id","logerror",i,"")}}var Si,Mi=((Si=function(){function e(t,n,o,i,c,r){l(this,e),this.activeRoute=t,this.apiService=n,this.location=o,this.router=i,this.commonService=c,this.localizeService=r,this.Close=new S.o,this.showCreateGroup=!1,this.loading=!1,this.selectedAll=!1,this.viewErrorSeleted=!0,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[]}return d(e,[{key:"getClassGroup",value:function(){var e=this;this.loading=!0,this.apiService.getClassGroup().subscribe(function(t){if(1==t.success){e.classroomData=t.data.classroomData;for(var n=0;n<e.classroomData.length;n++)for(var o=0;o<e.classroomData[n].classroomObjs.length;o++)e.classroomObjs.push(e.classroomData[n].classroomObjs[o]);e.loading=!1}else e.loading=!1})}},{key:"UpgradeClassGroup",value:function(){var e=this;this.loading=!0,this.apiService.UpgradeClassGroup(this.sendDataUpgradeClass).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("T\u1ea1o l\u1edbp cho kh\xf3a m\u1edbi th\xe0nh c\xf4ng",""),e.CloseDialog()):(e.loading=!1,e.commonService.snackError("T\u1ea1o l\u1edbp cho kh\xf3a m\u1edbi kh\xf4ng th\xe0nh c\xf4ng",""))})}},{key:"ValidateInput",value:function(e){var t=document.getElementById("input-event-"+e).value;""==t&&(document.getElementById("logerror"+e).style.display="block"),""!=t&&(document.getElementById("logerror"+e).style.display="none")}},{key:"handleUpgrade",value:function(){if(0!=this.dataUpgradeClass.length){var e=!0;this.sendDataUpgradeClass=[];for(var t=0;t<this.dataUpgradeClass.length;t++){var n=document.getElementById("input-event-"+t).value;""==n&&(e=!1),this.ValidateInput(t),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[t].id,newName:n})}1==e&&this.UpgradeClassGroup()}else this.viewErrorSeleted=!1}},{key:"changeValue",value:function(e,t){var n=this.classroomObjs[t].name,o=n.replace(/[^0-9]/g,""),i=n.replace(o[0],parseInt(o[0])+1);if(!0===e.checked)this.dataUpgradeClass.push({index:t,id:this.classroomObjs[t].id,nameClass:i});else if(!1===e.checked)for(var c=0;c<this.dataUpgradeClass.length;c++)this.dataUpgradeClass[c].index==t&&this.dataUpgradeClass.splice(c,1);this.dataUpgradeClass.sort(function(e,t){return e.index-t.index})}},{key:"selectAll",value:function(e){this.selectedAll=e;for(var t=0;t<this.classroomObjs.length;t++)this.changeValue({checked:e},t)}},{key:"clearInput",value:function(e){setTimeout(function(){var t;null===(t=document.getElementById("mat-check"+e+"-input"))||void 0===t||t.click()},0)}},{key:"CloseDialog",value:function(){this.Close.emit()}},{key:"ngOnInit",value:function(){this.getClassGroup()}}]),e}()).\u0275fac=function(e){return new(e||Si)(S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e))},Si.\u0275cmp=S.Ib({type:Si,selectors:[["app-create-class-new-cousre"]],outputs:{Close:"Close"},decls:26,vars:7,consts:[[1,"body"],[1,"content","pl-4","pr-4","pt-2","pb-2"],[1,"select-group","mt-3"],[1,"header-select","d-flex","justify-content-between","align-items-center"],["class","clickable","style","color: #00A7D0;",3,"click",4,"ngIf"],[1,"pt-2"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["class","row m-0",4,"ngIf"],["class","alert alert-danger mt-0 m-2","style","margin: auto;",4,"ngIf"],[1,"header-select"],["class","text-center m-3",4,"ngIf"],[1,"row","m-0"],["class","col-12 col-sm-6 p-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-3"],[1,"buttom-save","mr-3","clickable",3,"click"],[1,"buttom-clean","clickable",3,"click"],[1,"clickable",2,"color","#00A7D0",3,"click"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],["class","col-12 col-sm-4 p-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","p-2"],["color","primary",3,"id","checked","change"],[1,"alert","alert-danger","mt-0","m-2",2,"margin","auto"],[1,"text-center","m-3"],[1,"col-12","col-sm-6","p-2"],[1,"d-flex","justify-content-around","align-items-center",2,"background-color","rgba(247, 247, 247, 1)","border-radius","3px"],["type","text","placeholder","Nh\u1eadp t\xean l\u1edbp",3,"id","value","keyup"],[1,"search-ver","clickable","m-1",3,"click"],[1,"alert","alert-danger","mt-1",2,"width","100%","margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"h4"),S.Pc(3,"Khi t\u1ea1o l\u1edbp cho kh\xf3a m\u1edbi h\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng t\u1ea1o l\u1edbp m\u1edbi v\xe0 copy danh s\xe1ch h\u1ecdc sinh t\u1eeb c\xe1c l\u1edbp \u1edf kh\xf3a c\u0169. Ch\u1ecdn c\xe1c l\u1edbp b\xean d\u01b0\u1edbi \u0111\u1ec3 th\u1ef1c hi\u1ec7n copy."),S.Tb(),S.Ub(4,"div",2),S.Ub(5,"div",3),S.Ub(6,"div"),S.Pc(7,"Ch\u1ecdn l\u1edbp"),S.Tb(),S.Nc(8,wi,2,0,"div",4),S.Nc(9,xi,2,0,"div",4),S.Tb(),S.Ub(10,"div",5),S.Nc(11,_i,1,0,"div",6),S.Nc(12,yi,2,1,"div",7),S.Nc(13,Pi,2,0,"div",8),S.Tb(),S.Tb(),S.Ub(14,"div",2),S.Ub(15,"div",9),S.Pc(16," C\xe1c l\u1edbp t\u01b0\u01a1ng \u1ee9ng s\u1ebd t\u1ea1o "),S.Tb(),S.Ub(17,"div",5),S.Nc(18,Oi,2,0,"div",10),S.Ub(19,"div",11),S.Nc(20,Ui,8,3,"div",12),S.Tb(),S.Tb(),S.Tb(),S.Ub(21,"div",13),S.Ub(22,"div",14),S.bc("click",function(){return t.handleUpgrade()}),S.Pc(23," TH\u1ef0C HI\u1ec6N "),S.Tb(),S.Ub(24,"div",15),S.bc("click",function(){return t.CloseDialog()}),S.Pc(25," \u0110\xd3NG "),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.Cb(8),S.mc("ngIf",0==t.selectedAll),S.Cb(1),S.mc("ngIf",1==t.selectedAll),S.Cb(2),S.mc("ngIf",!0===t.loading),S.Cb(1),S.mc("ngIf",!1===t.loading),S.Cb(1),S.mc("ngIf",0==t.viewErrorSeleted),S.Cb(5),S.mc("ngIf",0==t.dataUpgradeClass.length),S.Cb(2),S.mc("ngForOf",t.dataUpgradeClass))},directives:[a.m,a.l,L.a,H.a],styles:[".body[_ngcontent-%COMP%]{background:rgba(0,0,0,.5607843137254902);z-index:90;display:flex;left:0;top:0;position:fixed;height:100vh;width:100%}.content[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:650px;overflow:auto;max-height:85%}@media screen and (max-width:750px){.content[_ngcontent-%COMP%]{width:90%!important}}@media screen and (max-width:350px){.form-add-group[_ngcontent-%COMP%]{display:grid!important}}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{padding:.5rem;align-self:center;background-color:#f7f7f7;border:1px solid #e5e5e5;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#f7f7f7;border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border-radius:4px;height:100%;border:1px solid #ced4da;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.select-group[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px}.header-select[_ngcontent-%COMP%]{border-bottom:1px solid #e5e5e5;padding:.4rem .8rem;background-color:#f7f7f7}.input-search[_ngcontent-%COMP%]{max-width:500px;height:34px;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.search-ver[_ngcontent-%COMP%]{vertical-align:middle;font-size:26px;padding:4px;height:34px;width:34px;text-align:center;border-radius:3px}.search-ver-oke[_ngcontent-%COMP%]{float:left;background-color:#169bd5;border:none;border-radius:5px;color:#fff;padding:7px 10px}.buttom-clean[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;width:90px;padding:8px 0;text-align:center}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;width:100px;padding:9px 0;text-align:center;color:#fff}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%;min-width:100px!important}.select-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:3px;padding:3px;background-color:#fff;border:1px solid transparent}.select-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}"]}),Si),Ii=r("QibW"),ji=["nameGroup"],Ni=["nameClass"];function Di(e,t){1&e&&(S.Ub(0,"div",28),S.Pc(1," B\u1ea1n ph\u1ea3i nh\u1eadp t\xean l\u1edbp h\u1ecdc. "),S.Tb())}function Ei(e,t){if(1&e&&(S.Ub(0,"span"),S.Pc(1),S.Tb()),2&e){var n=S.fc(2);S.Cb(1),S.Rc("- ",n.selectedYearValue+1,"")}}function Fi(e,t){if(1&e&&(S.Ub(0,"mat-option",29),S.Pc(1),S.Nc(2,Ei,2,1,"span",30),S.Tb()),2&e){var n=t.$implicit,o=S.fc();S.mc("value",n),S.Cb(1),S.Rc("",n," "),S.Cb(1),S.mc("ngIf",o.selectedYearValue==n)}}function Hi(e,t){1&e&&(S.Ub(0,"div",28),S.Pc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn n\u0103m h\u1ecdc. "),S.Tb())}function zi(e,t){1&e&&S.Pb(0,"div",31)}function Li(e,t){if(1&e&&(S.Ub(0,"mat-radio-button",29),S.Pc(1),S.Tb()),2&e){var n=S.fc().$implicit;S.mc("value",n.groupObj.id),S.Cb(1),S.Qc(n.groupObj.name)}}function Ri(e,t){if(1&e&&(S.Ub(0,"div",34),S.Nc(1,Li,2,2,"mat-radio-button",35),S.Tb()),2&e){var n=t.$implicit;S.Cb(1),S.mc("ngIf",null!=n.groupObj)}}function Ai(e,t){if(1&e){var n=S.Vb();S.Ub(0,"mat-radio-group",32),S.bc("ngModelChange",function(e){return S.Cc(n),S.fc().chosseGroup=e}),S.Ub(1,"div",3),S.Nc(2,Ri,2,1,"div",33),S.Tb(),S.Tb()}if(2&e){var o=S.fc();S.mc("ngModel",o.chosseGroup),S.Cb(2),S.mc("ngForOf",o.classroomData)}}function Bi(e,t){1&e&&(S.Ub(0,"div",36),S.Pc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\xean nh\xf3m. "),S.Tb())}function Vi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"a",37),S.bc("click",function(){return S.Cc(n),S.fc().createGroup(!0)}),S.Pc(1,"+ Th\xeam nh\xf3m"),S.Tb()}}function Gi(e,t){1&e&&S.Pb(0,"input",38,39)}function Wi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",40),S.bc("click",function(){return S.Cc(n),S.fc().SaveGroup()}),S.Pc(1,"OK"),S.Tb()}}function Ji(e,t){if(1&e){var n=S.Vb();S.Ub(0,"mat-icon",41),S.bc("click",function(){return S.Cc(n),S.fc().createGroup(!1)}),S.Pc(1,"clear"),S.Tb()}}function $i(e,t){1&e&&(S.Ub(0,"div",42),S.Pc(1," B\u1ea1n ph\u1ea3i nh\u1eadp t\xean nh\xf3m. "),S.Tb())}function Yi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",43),S.bc("click",function(){return S.Cc(n),S.fc().SaveClassWithGroup()}),S.Pc(1," L\u01afU "),S.Tb()}}function Qi(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",43),S.bc("click",function(){return S.Cc(n),S.fc().UpdateClassWithGroup()}),S.Pc(1," C\u1eacP NH\u1eacT "),S.Tb()}}var qi,Ki=((qi=function(){function e(t,n,o,i,c,r,a){l(this,e),this.activeRoute=t,this.apiService=n,this.location=o,this.formBuilder=i,this.router=c,this.commonService=r,this.localizeService=a,this.form=new s.k({}),this.selectedYearValue="",this.loading=!1,this.DataUpDate={},this.Close=new S.o,this.showCreateGroup=!1,this.years=[],this.classroomData=[],this.storeClassData=[],this.totalStorage=0,this.validNameGroup=!0,this.validNameClass=!0,this.validYear=!0,this.validGroupId=!0,this.viewStatus=!0}return d(e,[{key:"getClassGroup",value:function(){var e=this;this.loading=!0,this.apiService.getClassGroup().subscribe(function(t){1==t.success?(e.classroomData=t.data.classroomData,e.storeClassData=t.data.classroomData,e.totalStorage=t.data.classroomData,e.loading=!1):e.loading=!1})}},{key:"SaveGroup",value:function(){var e=this;this.loading=!0,0==this.form.controls.nameGroup.valid?(this.validNameGroup=!1,this.loading=!1):(this.showCreateGroup=!1,this.apiService.CreateClassGroup(this.form.controls.nameGroup.value).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam nh\xf3m th\xe0nh c\xf4ng",""),e.getClassGroup(),e.loading=!1):(e.loading=!1,e.commonService.snackError("Th\xeam nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""))}))}},{key:"SaveClassWithGroup",value:function(){var e=this,t={className:this.form.controls.nameClass.value,year:this.selectedYearValue+" - "+(this.selectedYearValue+1),groupId:this.chosseGroup};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?(this.validNameClass=!1,this.validYear=!1,this.validGroupId=!1):this.apiService.CreateClassWithGroup(t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam L\u1edbp h\u1ecdc th\xe0nh c\xf4ng",""),e.CloseDialog()):e.commonService.snackError("Th\xeam l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng","")})}},{key:"UpdateClassWithGroup",value:function(){var e=this,t={id:this.DataUpDate.id,className:this.form.controls.nameClass.value,year:this.selectedYearValue+" - "+(this.selectedYearValue+1),groupId:this.chosseGroup};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?(this.validNameClass=!1,this.validYear=!1,this.validGroupId=!1):this.apiService.UpdateClassWithGroup(t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("S\u1eeda L\u1edbp h\u1ecdc th\xe0nh c\xf4ng",""),e.CloseDialog()):e.commonService.snackError("S\u1eeda l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng","")})}},{key:"createGroup",value:function(e){this.form.controls.nameGroup.setValue(null),this.showCreateGroup=e}},{key:"CloseDialog",value:function(){this.Close.emit(),this.DataUpDate={}}},{key:"handleData",value:function(){for(var e=(new Date).getFullYear(),t=e-20;t<=e+40;t++)this.years.push(t);var n=null==this.DataUpDate?"":this.DataUpDate.year.split(" ")[0];this.selectedYearValue=""==n?e:parseInt(n),this.chosseGroup=null==this.DataUpDate?"":this.DataUpDate.groupId,this.form=this.formBuilder.group({nameClass:[null==this.DataUpDate?"":this.DataUpDate.className,s.z.required],nameGroup:["",s.z.required],group:[this.chosseGroup,s.z.required],year:[this.selectedYearValue,s.z.required]})}},{key:"ngOnInit",value:function(){this.handleData(),this.getClassGroup(),this.viewStatus=null==this.DataUpDate}}]),e}()).\u0275fac=function(e){return new(e||qi)(S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(s.g),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e))},qi.\u0275cmp=S.Ib({type:qi,selectors:[["app-create-class"]],viewQuery:function(e,t){var n;1&e&&(S.Wc(ji,!0),S.Wc(Ni,!0)),2&e&&(S.xc(n=S.cc())&&(t.nameGroup=n.first),S.xc(n=S.cc())&&(t.nameClass=n.first))},inputs:{DataUpDate:"DataUpDate"},outputs:{Close:"Close"},decls:40,vars:15,consts:[[1,"body"],[1,"content","pl-4","pr-4","pt-2","pb-2"],[3,"formGroup"],[1,"row","m-0"],[1,"col-4","col-md-3","add-homework--form__label","text-center"],[1,"p-0","m-0"],[1,"col-8","col-md-9","pl-0","pr-0"],["type","text","formControlName","nameClass","placeholder","",1,"form-control","add-homework--form__input"],["nameClass",""],["class","alert alert-danger mt-3","style","width: 100%; margin: auto;",4,"ngIf"],[1,"row","m-0","mt-3"],["formControlName","year",1,"form-control","add-homework--form__input",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"select-group","mt-3"],[1,"header-select"],[1,"pt-2"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["formControlName","group",3,"ngModel","ngModelChange",4,"ngIf"],["class","alert alert-danger m-2","style","width: 100%; margin: auto;",4,"ngIf"],[1,"m-1","d-flex","align-items-center","form-add-group"],["class","m-1","style","color: #00A7D0;",3,"click",4,"ngIf"],["type","text","class","input-search m-1","formControlName","nameGroup","placeholder","T\xean nh\xf3m. VD: kh\u1ed1i 1, kh\u1ed1i 2",4,"ngIf"],["class","search-ver-oke clickable m-1",3,"click",4,"ngIf"],["class","search-ver clickable m-1",3,"click",4,"ngIf"],["class","alert alert-danger m-2","style","max-width: 250px;",4,"ngIf"],[1,"d-flex","justify-content-end","mt-3"],["class","buttom-save mr-3 clickable",3,"click",4,"ngIf"],[1,"buttom-clean","clickable",3,"click"],[1,"alert","alert-danger","mt-3",2,"width","100%","margin","auto"],[3,"value"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],["formControlName","group",3,"ngModel","ngModelChange"],["class","col-12 col-sm-4 p-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","p-2"],[3,"value",4,"ngIf"],[1,"alert","alert-danger","m-2",2,"width","100%","margin","auto"],[1,"m-1",2,"color","#00A7D0",3,"click"],["type","text","formControlName","nameGroup","placeholder","T\xean nh\xf3m. VD: kh\u1ed1i 1, kh\u1ed1i 2",1,"input-search","m-1"],["nameGroup",""],[1,"search-ver-oke","clickable","m-1",3,"click"],[1,"search-ver","clickable","m-1",3,"click"],[1,"alert","alert-danger","m-2",2,"max-width","250px"],[1,"buttom-save","mr-3","clickable",3,"click"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"form",2),S.Ub(3,"h4"),S.Pc(4,"Th\xeam l\u1edbp h\u1ecdc"),S.Tb(),S.Ub(5,"div",3),S.Ub(6,"div",4),S.Ub(7,"p",5),S.Pc(8,"T\xean l\u1edbp"),S.Tb(),S.Tb(),S.Ub(9,"div",6),S.Pb(10,"input",7,8),S.Tb(),S.Nc(12,Di,2,0,"div",9),S.Tb(),S.Ub(13,"div",10),S.Ub(14,"div",4),S.Ub(15,"p",5),S.Pc(16,"N\u0103m h\u1ecdc"),S.Tb(),S.Tb(),S.Ub(17,"div",6),S.Ub(18,"mat-select",11),S.bc("valueChange",function(e){return t.selectedYearValue=e}),S.Nc(19,Fi,3,3,"mat-option",12),S.Tb(),S.Tb(),S.Nc(20,Hi,2,0,"div",9),S.Tb(),S.Ub(21,"div",13),S.Ub(22,"div",14),S.Pc(23," Ch\u1ecdn nh\xf3m "),S.Tb(),S.Ub(24,"div",15),S.Nc(25,zi,1,0,"div",16),S.Nc(26,Ai,3,2,"mat-radio-group",17),S.Nc(27,Bi,2,0,"div",18),S.Ub(28,"div",19),S.Nc(29,Vi,2,0,"a",20),S.Nc(30,Gi,2,0,"input",21),S.Ub(31,"div"),S.Nc(32,Wi,2,0,"div",22),S.Nc(33,Ji,2,0,"mat-icon",23),S.Tb(),S.Tb(),S.Nc(34,$i,2,0,"div",24),S.Tb(),S.Tb(),S.Ub(35,"div",25),S.Nc(36,Yi,2,0,"div",26),S.Nc(37,Qi,2,0,"div",26),S.Ub(38,"div",27),S.bc("click",function(){return t.CloseDialog()}),S.Pc(39," \u0110\xd3NG "),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.Cb(2),S.mc("formGroup",t.form),S.Cb(10),S.mc("ngIf",t.form.controls.nameClass.invalid&&(t.form.controls.nameClass.dirty||t.form.controls.nameClass.touched||0==t.validNameClass)),S.Cb(6),S.mc("value",t.selectedYearValue),S.Cb(1),S.mc("ngForOf",t.years),S.Cb(1),S.mc("ngIf",t.form.controls.year.invalid&&(t.form.controls.year.dirty||t.form.controls.year.touched||0==t.validYear)),S.Cb(5),S.mc("ngIf",!0===t.loading),S.Cb(1),S.mc("ngIf",!1===t.loading),S.Cb(1),S.mc("ngIf",t.form.controls.group.invalid&&(t.form.controls.group.dirty||t.form.controls.group.touched||0==t.validGroupId)),S.Cb(2),S.mc("ngIf",0==t.showCreateGroup),S.Cb(1),S.mc("ngIf",1==t.showCreateGroup),S.Cb(2),S.mc("ngIf",1==t.showCreateGroup),S.Cb(1),S.mc("ngIf",1==t.showCreateGroup),S.Cb(1),S.mc("ngIf",1==t.showCreateGroup&&t.form.controls.nameGroup.invalid&&(t.form.controls.nameGroup.dirty||t.form.controls.nameGroup.touched||0==t.validNameGroup)),S.Cb(2),S.mc("ngIf",1==t.viewStatus),S.Cb(1),S.mc("ngIf",0==t.viewStatus))},directives:[s.B,s.s,s.l,s.d,s.r,s.j,a.m,Ee.a,a.l,T.n,Ii.b,Ii.a,H.a],styles:[".body[_ngcontent-%COMP%]{background:rgba(0,0,0,.5607843137254902);z-index:90;display:flex;left:0;top:0;position:fixed;height:100vh;width:100%}.content[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:650px;max-height:90%;overflow:auto}@media screen and (max-width:750px){.content[_ngcontent-%COMP%]{width:90%!important}}@media screen and (max-width:350px){.form-add-group[_ngcontent-%COMP%]{display:grid!important}}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{padding:.5rem;align-self:center;background-color:#f7f7f7;border:1px solid #e5e5e5;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#f7f7f7;border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border-radius:4px;height:100%;border:1px solid #ced4da;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.select-group[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px}.header-select[_ngcontent-%COMP%]{border-bottom:1px solid #e5e5e5;padding:.4rem .8rem;background-color:#f7f7f7}.input-search[_ngcontent-%COMP%]{max-width:500px;height:34px;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.search-ver[_ngcontent-%COMP%]{vertical-align:middle;font-size:26px;padding:4px;height:34px;width:34px;text-align:center;border-radius:3px;background:#dfdfdf}.search-ver-oke[_ngcontent-%COMP%]{float:left;background-color:#169bd5;border:none;border-radius:5px;color:#fff;padding:7px 10px}.buttom-clean[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;padding:8px 0}.buttom-clean[_ngcontent-%COMP%], .buttom-save[_ngcontent-%COMP%]{width:90px;text-align:center}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:9px 0;color:#fff}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%;min-width:100px!important}"]}),qi),Xi=["shareClass"];function Zi(e,t){1&e&&S.Pb(0,"azt-loading-effect")}function ec(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",25),S.Ub(1,"azt-information-class-box",26),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(5).EventToAztInformation(e)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(1),S.mc("Classroom",o)}}function tc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",27),S.Ub(1,"azt-information-class-box",26),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(5).EventToAztInformation(e)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(1),S.mc("Classroom",o)}}function nc(e,t){1&e&&(S.Ub(0,"div",28),S.Pc(1," Kh\xf4ng c\xf3 l\u1edbp n\xe0o. "),S.Tb())}function oc(e,t){if(1&e&&(S.Ub(0,"div"),S.Ub(1,"h4"),S.Ub(2,"span"),S.Pc(3),S.Tb(),S.Tb(),S.Ub(4,"div",21),S.Nc(5,ec,2,1,"div",22),S.Nc(6,tc,2,1,"div",23),S.Tb(),S.Nc(7,nc,2,0,"div",24),S.Tb()),2&e){var n=S.fc().$implicit;S.Cb(3),S.Qc(n.groupObj.name),S.Cb(2),S.mc("ngForOf",n.classroomObjs),S.Cb(1),S.mc("ngForOf",n.classroomObjs),S.Cb(1),S.mc("ngIf",0==n.classroomObjs.length)}}var ic=function(){return[]};function cc(e,t){if(1&e&&(S.Ub(0,"div",20),S.Nc(1,oc,8,4,"div",16),S.Tb()),2&e){var n=t.$implicit;S.Cb(1),S.mc("ngIf",null!=n.groupObj&&n.classroomObjs!=S.qc(1,ic))}}function rc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div"),S.Nc(1,cc,2,2,"div",18),S.Ub(2,"div",19),S.bc("click",function(){return S.Cc(n),S.fc(2).storage(!0)}),S.Pc(3),S.Tb(),S.Tb()}if(2&e){var o=S.fc(2);S.Cb(1),S.mc("ngForOf",o.classroomData),S.Cb(2),S.Rc(" L\u01afU TR\u1eee (",o.totalStorage,") ")}}function ac(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",25),S.Ub(1,"azt-information-class-box",29),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(3).EventToAztInformation(e)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(1),S.mc("Screen","Storage")("Classroom",o)}}function sc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",27),S.Ub(1,"azt-information-class-box",29),S.bc("ChangeEvent",function(e){return S.Cc(n),S.fc(3).EventToAztInformation(e)}),S.Tb(),S.Tb()}if(2&e){var o=t.$implicit;S.Cb(1),S.mc("Screen","Storage")("Classroom",o)}}function lc(e,t){if(1&e&&(S.Ub(0,"div",20),S.Ub(1,"h4"),S.Ub(2,"span"),S.Pc(3),S.Tb(),S.Tb(),S.Ub(4,"div",21),S.Nc(5,ac,2,2,"div",22),S.Nc(6,sc,2,2,"div",23),S.Tb(),S.Tb()),2&e){var n=S.fc(2);S.Cb(3),S.Rc("L\u01afU TR\u1eee (",n.totalStorage,")"),S.Cb(2),S.mc("ngForOf",n.storeClassData),S.Cb(1),S.mc("ngForOf",n.storeClassData)}}function bc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"div",5),S.Ub(1,"div",6),S.Ub(2,"div",7),S.Ub(3,"input",8,9),S.bc("keyup.enter",function(){return S.Cc(n),S.fc().search()}),S.Tb(),S.Ub(5,"mat-icon",10),S.bc("click",function(){return S.Cc(n),S.fc().search()}),S.Pc(6," search "),S.Tb(),S.Tb(),S.Ub(7,"div",11),S.bc("click",function(){return S.Cc(n),S.fc().createClass()}),S.Pc(8,"+ T\u1ea1o l\u1edbp"),S.Tb(),S.Ub(9,"div",12),S.bc("click",function(){return S.Cc(n),S.fc().createClassNewCousre()}),S.Pc(10,"+ T\u1ea1o l\u1edbp cho kh\xf3a m\u1edbi"),S.Tb(),S.Tb(),S.Ub(11,"div",13),S.Ub(12,"div",14),S.Ub(13,"input",8,15),S.bc("keyup.enter",function(){return S.Cc(n),S.fc().search()}),S.Tb(),S.Ub(15,"mat-icon",10),S.bc("click",function(){return S.Cc(n),S.fc().search()}),S.Pc(16," search "),S.Tb(),S.Tb(),S.Tb(),S.Nc(17,rc,4,2,"div",16),S.Nc(18,lc,7,3,"div",17),S.Tb()}if(2&e){var o=S.fc();S.Cb(17),S.mc("ngIf",0==o.ShowStorage),S.Cb(1),S.mc("ngIf",1==o.ShowStorage)}}function dc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"app-create-class-new-cousre",30),S.bc("Close",function(){return S.Cc(n),S.fc().CloseDialog("1")}),S.Tb()}}function mc(e,t){if(1&e){var n=S.Vb();S.Ub(0,"app-create-class",31),S.bc("Close",function(){return S.Cc(n),S.fc().CloseDialog("2")}),S.Tb()}if(2&e){var o=S.fc();S.mc("DataUpDate",o.dataUpDateClass)}}var uc,hc,gc,fc=[{path:"",component:ii,canActivate:[k.a],children:[{path:"",canActivateChild:[k.a],children:[{path:"classes",component:Ne},{path:"homework-list/:id",component:sn},{path:"add-new-homework/:id",component:ge},{path:"score-list/:class_id/:id",component:ro},{path:"export-homework/:class_id/:id",component:Gt},{path:"mark-exercise/:id",component:oi},{path:"mark-exercise-remake/:id",component:Qo},{path:"create-homework-success/:ids",component:ui},{path:"content-store",component:at},{path:"",component:Ne},{path:"classes-new",component:(uc=function(){function e(t,n,o,i,c,r){l(this,e),this.activeRoute=t,this.apiService=n,this.location=o,this.router=i,this.commonService=c,this.localizeService=r,this.isLoading=!1,this.showCreateClass=!1,this.showCreateClassNewCousre=!1,this.classroomData=[],this.storeClassData=[],this.totalStorage=0,this.ShowStorage=!1,this.back_link="/admin/testbank/dashboard"}return d(e,[{key:"getClassGroup",value:function(){var e=this;this.isLoading=!0,this.apiService.getClassGroup().subscribe(function(t){1==t.success?(e.classroomData=t.data.classroomData,e.storeClassData=t.data.storeClassData,e.totalStorage=t.data.totalStorage,e.isLoading=!1):(e.isLoading=!1,e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))})}},{key:"EventToAztInformation",value:function(e){""!=e?"UpDate"==e.type&&(this.showCreateClass=!0,this.dataUpDateClass={id:e.id,className:e.className,year:e.year,groupId:e.groupId}):this.getClassGroup()}},{key:"search",value:function(){var e=this;""!=this.shareClass.nativeElement.value?(this.isLoading=!0,this.apiService.SearchClassGroupObjs(this.shareClass.nativeElement.value).subscribe(function(t){1==t.success?(e.classroomData=t.data.classroomData,e.storeClassData=t.data.storeClassData,e.totalStorage=t.data.totalStorage,e.isLoading=!1):(e.isLoading=!1,e.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y l\u1edbp b\u1ea1n b\u1ea1n c\u1ea7n t\xecm.",""))})):this.getClassGroup()}},{key:"CloseDialog",value:function(e){1==e?this.showCreateClassNewCousre=!1:2==e&&(this.showCreateClass=!1,this.dataUpDateClass=void 0),this.getClassGroup()}},{key:"createClass",value:function(){this.showCreateClass=!0}},{key:"createClassNewCousre",value:function(){this.showCreateClassNewCousre=!0}},{key:"storage",value:function(e){1==e&&(this.back_link="",this.commonService.myNavigationWithQueryString("/admin/homework/classes-new","?screen=storage"),this.ShowStorage=!0),0==e&&(this.back_link="/admin/testbank/dashboard",this.commonService.myNavigationWithQueryString("/admin/homework/classes-new",""),this.ShowStorage=!1)}},{key:"ngOnInit",value:function(){this.getClassGroup(),"storage"==this.commonService.getMyQueryParam("screen")&&(this.ShowStorage=!0,this.back_link=""),this.commonService.translateMetaData({title:"lang_cms_homework_class_list_title",description:"lang_cms_homework_class_list_description",image:"lang_cms_test_image"})}}]),e}(),uc.\u0275fac=function(e){return new(e||uc)(S.Ob(m.a),S.Ob(M.a),S.Ob(a.i),S.Ob(m.i),S.Ob(I.a),S.Ob(v.e))},uc.\u0275cmp=S.Ib({type:uc,selectors:[["app-classes-new"]],viewQuery:function(e,t){var n;1&e&&S.Wc(Xi,!0),2&e&&S.xc(n=S.cc())&&(t.shareClass=n.first)},decls:6,vars:7,consts:[[3,"headerTitle","back_link","checkUrlFunction","RedirectToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"Close",4,"ngIf"],[3,"DataUpDate","Close",4,"ngIf"],[1,"ml-2","mr-2","mb-4"],[1,"d-flex","justify-content-end","align-items-center","mt-2","mb-2"],[1,"m-1","d-none","d-sm-block"],["type","text","placeholder","L\u1ecdc theo t\xean l\u1edbp",1,"input-search",3,"keyup.enter"],["shareClass",""],[1,"search-ver","clickable",3,"click"],[1,"buttom-created-class","clickable","m-1",3,"click"],[1,"buttom-created","clickable","m-1",3,"click"],[1,"d-sm-none","d-flex","justify-content-end"],[1,"m-1"],["filterByClass",""],[4,"ngIf"],["class","m-1 mt-3",4,"ngIf"],["class","m-1 mt-3",4,"ngFor","ngForOf"],[1,"clickable","m-1","mt-3",2,"color","#00A7D0",3,"click"],[1,"m-1","mt-3"],[1,"row","m-0"],["class","col-4 col-lg-3 d-none d-md-block p-1",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 d-md-none p-1",4,"ngFor","ngForOf"],["class","text-center p-2",4,"ngIf"],[1,"col-4","col-lg-3","d-none","d-md-block","p-1"],[3,"Classroom","ChangeEvent"],[1,"col-12","col-sm-6","d-md-none","p-1"],[1,"text-center","p-2"],[3,"Screen","Classroom","ChangeEvent"],[3,"Close"],[3,"DataUpDate","Close"]],template:function(e,t){if(1&e&&(S.Ub(0,"header-backend",0),S.bc("RedirectToLink",function(){return t.storage(!1)}),S.Tb(),S.Nc(1,Zi,1,0,"azt-loading-effect",1),S.Nc(2,bc,19,2,"ng-template",null,2,S.Oc),S.Nc(4,dc,1,0,"app-create-class-new-cousre",3),S.Nc(5,mc,1,1,"app-create-class",4)),2&e){var n=S.yc(3);S.mc("headerTitle","Danh s\xe1ch l\u1edbp")("back_link",t.back_link)("checkUrlFunction",t.ShowStorage),S.Cb(1),S.mc("ngIf",1==t.isLoading)("ngIfElse",n),S.Cb(3),S.mc("ngIf",!0===t.showCreateClassNewCousre),S.Cb(1),S.mc("ngIf",!0===t.showCreateClass)}},directives:[R.a,a.m,N.a,H.a,a.l,Ci,Mi,Ki],styles:[".input-search[_ngcontent-%COMP%]{max-width:500px;height:34px;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px}.buttom-created[_ngcontent-%COMP%], .buttom-created-class[_ngcontent-%COMP%]{box-shadow:none;text-align:center;padding:7px 0}.buttom-created[_ngcontent-%COMP%]{width:175px;background-color:#fff;box-sizing:border-box;border:1px solid #ebebeb;border-radius:3px}h4[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #cbcbcb;line-height:.1em;margin:10px 0 20px}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]{vertical-align:middle;font-size:26px;padding:4px;height:34px;width:34px;text-align:center;border-radius:3px;background:#dfdfdf}"]}),uc)}]}]}],pc=((gc=function e(){l(this,e)}).\u0275mod=S.Mb({type:gc}),gc.\u0275inj=S.Lb({factory:function(e){return new(e||gc)},imports:[[m.l.forChild(fc)],m.l,v.c]}),gc),vc=((hc=function e(){l(this,e)}).\u0275mod=S.Mb({type:hc}),hc.\u0275inj=S.Lb({factory:function(e){return new(e||hc)},imports:[[m.l,a.c,g.a,u.b,pc,s.m,s.x,b.f,f.a,h.a,p.a]]}),hc)}}])}();